var vg=Object.defineProperty;var yg=(m,e,i)=>e in m?vg(m,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):m[e]=i;var V=(m,e,i)=>yg(m,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();var ko={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function wg(){if(hf)return jl;hf=1;var m=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:m,type:l,key:h,ref:a!==void 0?a:null,props:o}}return jl.Fragment=e,jl.jsx=i,jl.jsxs=i,jl}var cf;function Cg(){return cf||(cf=1,ko.exports=wg()),ko.exports}var Tt=Cg(),Oo={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df;function Eg(){if(df)return te;df=1;var m=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,_={};function F(E,N,j){this.props=E,this.context=N,this.refs=_,this.updater=j||M}F.prototype.isReactComponent={},F.prototype.setState=function(E,N){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,N,"setState")},F.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function B(){}B.prototype=F.prototype;function $(E,N,j){this.props=E,this.context=N,this.refs=_,this.updater=j||M}var ee=$.prototype=new B;ee.constructor=$,H(ee,F.prototype),ee.isPureReactComponent=!0;var oe=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function Ae(E,N,j,U,Y,ue){return j=ue.ref,{$$typeof:m,type:E,key:N,ref:j!==void 0?j:null,props:ue}}function de(E,N){return Ae(E.type,N,void 0,void 0,void 0,E.props)}function Ke(E){return typeof E=="object"&&E!==null&&E.$$typeof===m}function Bt(E){var N={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(j){return N[j]})}var pt=/\/+/g;function J(E,N){return typeof E=="object"&&E!==null&&E.key!=null?Bt(""+E.key):N.toString(36)}function ei(){}function zt(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ei,ei):(E.status="pending",E.then(function(N){E.status==="pending"&&(E.status="fulfilled",E.value=N)},function(N){E.status==="pending"&&(E.status="rejected",E.reason=N)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function We(E,N,j,U,Y){var ue=typeof E;(ue==="undefined"||ue==="boolean")&&(E=null);var I=!1;if(E===null)I=!0;else switch(ue){case"bigint":case"string":case"number":I=!0;break;case"object":switch(E.$$typeof){case m:case e:I=!0;break;case b:return I=E._init,We(I(E._payload),N,j,U,Y)}}if(I)return Y=Y(E),I=U===""?"."+J(E,0):U,oe(Y)?(j="",I!=null&&(j=I.replace(pt,"$&/")+"/"),We(Y,N,j,"",function(ti){return ti})):Y!=null&&(Ke(Y)&&(Y=de(Y,j+(Y.key==null||E&&E.key===Y.key?"":(""+Y.key).replace(pt,"$&/")+"/")+I)),N.push(Y)),1;I=0;var st=U===""?".":U+":";if(oe(E))for(var Te=0;Te<E.length;Te++)U=E[Te],ue=st+J(U,Te),I+=We(U,N,j,ue,Y);else if(Te=w(E),typeof Te=="function")for(E=Te.call(E),Te=0;!(U=E.next()).done;)U=U.value,ue=st+J(U,Te++),I+=We(U,N,j,ue,Y);else if(ue==="object"){if(typeof E.then=="function")return We(zt(E),N,j,U,Y);throw N=String(E),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return I}function A(E,N,j){if(E==null)return E;var U=[],Y=0;return We(E,U,"","",function(ue){return N.call(j,ue,Y++)}),U}function G(E){if(E._status===-1){var N=E._result;N=N(),N.then(function(j){(E._status===0||E._status===-1)&&(E._status=1,E._result=j)},function(j){(E._status===0||E._status===-1)&&(E._status=2,E._result=j)}),E._status===-1&&(E._status=0,E._result=N)}if(E._status===1)return E._result.default;throw E._result}var Z=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function we(){}return te.Children={map:A,forEach:function(E,N,j){A(E,function(){N.apply(this,arguments)},j)},count:function(E){var N=0;return A(E,function(){N++}),N},toArray:function(E){return A(E,function(N){return N})||[]},only:function(E){if(!Ke(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},te.Component=F,te.Fragment=i,te.Profiler=a,te.PureComponent=$,te.StrictMode=l,te.Suspense=f,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,te.__COMPILER_RUNTIME={__proto__:null,c:function(E){return W.H.useMemoCache(E)}},te.cache=function(E){return function(){return E.apply(null,arguments)}},te.cloneElement=function(E,N,j){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var U=H({},E.props),Y=E.key,ue=void 0;if(N!=null)for(I in N.ref!==void 0&&(ue=void 0),N.key!==void 0&&(Y=""+N.key),N)!ye.call(N,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&N.ref===void 0||(U[I]=N[I]);var I=arguments.length-2;if(I===1)U.children=j;else if(1<I){for(var st=Array(I),Te=0;Te<I;Te++)st[Te]=arguments[Te+2];U.children=st}return Ae(E.type,Y,void 0,void 0,ue,U)},te.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:o,_context:E},E},te.createElement=function(E,N,j){var U,Y={},ue=null;if(N!=null)for(U in N.key!==void 0&&(ue=""+N.key),N)ye.call(N,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(Y[U]=N[U]);var I=arguments.length-2;if(I===1)Y.children=j;else if(1<I){for(var st=Array(I),Te=0;Te<I;Te++)st[Te]=arguments[Te+2];Y.children=st}if(E&&E.defaultProps)for(U in I=E.defaultProps,I)Y[U]===void 0&&(Y[U]=I[U]);return Ae(E,ue,void 0,void 0,null,Y)},te.createRef=function(){return{current:null}},te.forwardRef=function(E){return{$$typeof:d,render:E}},te.isValidElement=Ke,te.lazy=function(E){return{$$typeof:b,_payload:{_status:-1,_result:E},_init:G}},te.memo=function(E,N){return{$$typeof:p,type:E,compare:N===void 0?null:N}},te.startTransition=function(E){var N=W.T,j={};W.T=j;try{var U=E(),Y=W.S;Y!==null&&Y(j,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(we,Z)}catch(ue){Z(ue)}finally{W.T=N}},te.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},te.use=function(E){return W.H.use(E)},te.useActionState=function(E,N,j){return W.H.useActionState(E,N,j)},te.useCallback=function(E,N){return W.H.useCallback(E,N)},te.useContext=function(E){return W.H.useContext(E)},te.useDebugValue=function(){},te.useDeferredValue=function(E,N){return W.H.useDeferredValue(E,N)},te.useEffect=function(E,N,j){var U=W.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return U.useEffect(E,N)},te.useId=function(){return W.H.useId()},te.useImperativeHandle=function(E,N,j){return W.H.useImperativeHandle(E,N,j)},te.useInsertionEffect=function(E,N){return W.H.useInsertionEffect(E,N)},te.useLayoutEffect=function(E,N){return W.H.useLayoutEffect(E,N)},te.useMemo=function(E,N){return W.H.useMemo(E,N)},te.useOptimistic=function(E,N){return W.H.useOptimistic(E,N)},te.useReducer=function(E,N,j){return W.H.useReducer(E,N,j)},te.useRef=function(E){return W.H.useRef(E)},te.useState=function(E){return W.H.useState(E)},te.useSyncExternalStore=function(E,N,j){return W.H.useSyncExternalStore(E,N,j)},te.useTransition=function(){return W.H.useTransition()},te.version="19.1.0",te}var ff;function mu(){return ff||(ff=1,Oo.exports=Eg()),Oo.exports}var Vs=mu(),_o={exports:{}},Pl={},Bo={exports:{}},No={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf;function Rg(){return pf||(pf=1,function(m){function e(A,G){var Z=A.length;A.push(G);e:for(;0<Z;){var we=Z-1>>>1,E=A[we];if(0<a(E,G))A[we]=G,A[Z]=E,Z=we;else break e}}function i(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var G=A[0],Z=A.pop();if(Z!==G){A[0]=Z;e:for(var we=0,E=A.length,N=E>>>1;we<N;){var j=2*(we+1)-1,U=A[j],Y=j+1,ue=A[Y];if(0>a(U,Z))Y<E&&0>a(ue,U)?(A[we]=ue,A[Y]=Z,we=Y):(A[we]=U,A[j]=Z,we=j);else if(Y<E&&0>a(ue,Z))A[we]=ue,A[Y]=Z,we=Y;else break e}}return G}function a(A,G){var Z=A.sortIndex-G.sortIndex;return Z!==0?Z:A.id-G.id}if(m.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;m.unstable_now=function(){return o.now()}}else{var h=Date,d=h.now();m.unstable_now=function(){return h.now()-d}}var f=[],p=[],b=1,y=null,w=3,M=!1,H=!1,_=!1,F=!1,B=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function oe(A){for(var G=i(p);G!==null;){if(G.callback===null)l(p);else if(G.startTime<=A)l(p),G.sortIndex=G.expirationTime,e(f,G);else break;G=i(p)}}function W(A){if(_=!1,oe(A),!H)if(i(f)!==null)H=!0,ye||(ye=!0,J());else{var G=i(p);G!==null&&We(W,G.startTime-A)}}var ye=!1,Ae=-1,de=5,Ke=-1;function Bt(){return F?!0:!(m.unstable_now()-Ke<de)}function pt(){if(F=!1,ye){var A=m.unstable_now();Ke=A;var G=!0;try{e:{H=!1,_&&(_=!1,$(Ae),Ae=-1),M=!0;var Z=w;try{t:{for(oe(A),y=i(f);y!==null&&!(y.expirationTime>A&&Bt());){var we=y.callback;if(typeof we=="function"){y.callback=null,w=y.priorityLevel;var E=we(y.expirationTime<=A);if(A=m.unstable_now(),typeof E=="function"){y.callback=E,oe(A),G=!0;break t}y===i(f)&&l(f),oe(A)}else l(f);y=i(f)}if(y!==null)G=!0;else{var N=i(p);N!==null&&We(W,N.startTime-A),G=!1}}break e}finally{y=null,w=Z,M=!1}G=void 0}}finally{G?J():ye=!1}}}var J;if(typeof ee=="function")J=function(){ee(pt)};else if(typeof MessageChannel<"u"){var ei=new MessageChannel,zt=ei.port2;ei.port1.onmessage=pt,J=function(){zt.postMessage(null)}}else J=function(){B(pt,0)};function We(A,G){Ae=B(function(){A(m.unstable_now())},G)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(A){A.callback=null},m.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<A?Math.floor(1e3/A):5},m.unstable_getCurrentPriorityLevel=function(){return w},m.unstable_next=function(A){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var Z=w;w=G;try{return A()}finally{w=Z}},m.unstable_requestPaint=function(){F=!0},m.unstable_runWithPriority=function(A,G){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var Z=w;w=A;try{return G()}finally{w=Z}},m.unstable_scheduleCallback=function(A,G,Z){var we=m.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?we+Z:we):Z=we,A){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Z+E,A={id:b++,callback:G,priorityLevel:A,startTime:Z,expirationTime:E,sortIndex:-1},Z>we?(A.sortIndex=Z,e(p,A),i(f)===null&&A===i(p)&&(_?($(Ae),Ae=-1):_=!0,We(W,Z-we))):(A.sortIndex=E,e(f,A),H||M||(H=!0,ye||(ye=!0,J()))),A},m.unstable_shouldYield=Bt,m.unstable_wrapCallback=function(A){var G=w;return function(){var Z=w;w=G;try{return A.apply(this,arguments)}finally{w=Z}}}}(No)),No}var mf;function Tg(){return mf||(mf=1,Bo.exports=Rg()),Bo.exports}var Fo={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf;function Sg(){if(gf)return Xe;gf=1;var m=mu();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,p,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:p,implementation:b}}var h=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Xe.createPortal=function(f,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,b)},Xe.flushSync=function(f){var p=h.T,b=l.p;try{if(h.T=null,l.p=2,f)return f()}finally{h.T=p,l.p=b,l.d.f()}},Xe.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(f,p))},Xe.prefetchDNS=function(f){typeof f=="string"&&l.d.D(f)},Xe.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var b=p.as,y=d(b,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?l.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:M}):b==="script"&&l.d.X(f,{crossOrigin:y,integrity:w,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xe.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=d(p.as,p.crossOrigin);l.d.M(f,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(f)},Xe.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,y=d(b,p.crossOrigin);l.d.L(f,b,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xe.preloadModule=function(f,p){if(typeof f=="string")if(p){var b=d(p.as,p.crossOrigin);l.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(f)},Xe.requestFormReset=function(f){l.d.r(f)},Xe.unstable_batchedUpdates=function(f,p){return f(p)},Xe.useFormState=function(f,p,b){return h.H.useFormState(f,p,b)},Xe.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xe.version="19.1.0",Xe}var bf;function Mg(){if(bf)return Fo.exports;bf=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(e){console.error(e)}}return m(),Fo.exports=Sg(),Fo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf;function xg(){if(vf)return Pl;vf=1;var m=Tg(),e=mu(),i=Mg();function l(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var s=t,n=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(n=s.return),t=s.return;while(t)}return s.tag===3?n:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function d(t){if(o(t)!==t)throw Error(l(188))}function f(t){var s=t.alternate;if(!s){if(s=o(t),s===null)throw Error(l(188));return s!==t?null:t}for(var n=t,r=s;;){var u=n.return;if(u===null)break;var c=u.alternate;if(c===null){if(r=u.return,r!==null){n=r;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===n)return d(u),t;if(c===r)return d(u),s;c=c.sibling}throw Error(l(188))}if(n.return!==r.return)n=u,r=c;else{for(var g=!1,v=u.child;v;){if(v===n){g=!0,n=u,r=c;break}if(v===r){g=!0,r=u,n=c;break}v=v.sibling}if(!g){for(v=c.child;v;){if(v===n){g=!0,n=c,r=u;break}if(v===r){g=!0,r=c,n=u;break}v=v.sibling}if(!g)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?t:s}function p(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=p(t),s!==null)return s;t=t.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Ke=Symbol.for("react.activity"),Bt=Symbol.for("react.memo_cache_sentinel"),pt=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=pt&&t[pt]||t["@@iterator"],typeof t=="function"?t:null)}var ei=Symbol.for("react.client.reference");function zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ei?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case F:return"Profiler";case _:return"StrictMode";case W:return"Suspense";case ye:return"SuspenseList";case Ke:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case ee:return(t.displayName||"Context")+".Provider";case $:return(t._context.displayName||"Context")+".Consumer";case oe:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ae:return s=t.displayName||null,s!==null?s:zt(t.type)||"Memo";case de:s=t._payload,t=t._init;try{return zt(t(s))}catch{}}return null}var We=Array.isArray,A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},we=[],E=-1;function N(t){return{current:t}}function j(t){0>E||(t.current=we[E],we[E]=null,E--)}function U(t,s){E++,we[E]=t.current,t.current=s}var Y=N(null),ue=N(null),I=N(null),st=N(null);function Te(t,s){switch(U(I,s),U(ue,t),U(Y,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Nd(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Nd(s),t=Fd(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(Y),U(Y,t)}function ti(){j(Y),j(ue),j(I)}function ba(t){t.memoizedState!==null&&U(st,t);var s=Y.current,n=Fd(s,t.type);s!==n&&(U(ue,t),U(Y,n))}function Jl(t){ue.current===t&&(j(Y),j(ue)),st.current===t&&(j(st),Nl._currentValue=Z)}var va=Object.prototype.hasOwnProperty,ya=m.unstable_scheduleCallback,wa=m.unstable_cancelCallback,Kf=m.unstable_shouldYield,Jf=m.unstable_requestPaint,Lt=m.unstable_now,If=m.unstable_getCurrentPriorityLevel,bu=m.unstable_ImmediatePriority,vu=m.unstable_UserBlockingPriority,Il=m.unstable_NormalPriority,$f=m.unstable_LowPriority,yu=m.unstable_IdlePriority,ep=m.log,tp=m.unstable_setDisableYieldValue,qs=null,lt=null;function ii(t){if(typeof ep=="function"&&tp(t),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(qs,t)}catch{}}var nt=Math.clz32?Math.clz32:lp,ip=Math.log,sp=Math.LN2;function lp(t){return t>>>=0,t===0?32:31-(ip(t)/sp|0)|0}var $l=256,en=4194304;function Hi(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tn(t,s,n){var r=t.pendingLanes;if(r===0)return 0;var u=0,c=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=r&134217727;return v!==0?(r=v&~c,r!==0?u=Hi(r):(g&=v,g!==0?u=Hi(g):n||(n=v&~t,n!==0&&(u=Hi(n))))):(v=r&~c,v!==0?u=Hi(v):g!==0?u=Hi(g):n||(n=r&~t,n!==0&&(u=Hi(n)))),u===0?0:s!==0&&s!==u&&(s&c)===0&&(c=u&-u,n=s&-s,c>=n||c===32&&(n&4194048)!==0)?s:u}function Ys(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function np(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var t=$l;return $l<<=1,($l&4194048)===0&&($l=256),t}function Cu(){var t=en;return en<<=1,(en&62914560)===0&&(en=4194304),t}function Ca(t){for(var s=[],n=0;31>n;n++)s.push(t);return s}function Xs(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ap(t,s,n,r,u,c){var g=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var v=t.entanglements,C=t.expirationTimes,x=t.hiddenUpdates;for(n=g&~n;0<n;){var L=31-nt(n),O=1<<L;v[L]=0,C[L]=-1;var D=x[L];if(D!==null)for(x[L]=null,L=0;L<D.length;L++){var z=D[L];z!==null&&(z.lane&=-536870913)}n&=~O}r!==0&&Eu(t,r,0),c!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=c&~(g&~s))}function Eu(t,s,n){t.pendingLanes|=s,t.suspendedLanes&=~s;var r=31-nt(s);t.entangledLanes|=s,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function Ru(t,s){var n=t.entangledLanes|=s;for(t=t.entanglements;n;){var r=31-nt(n),u=1<<r;u&s|t[r]&s&&(t[r]|=s),n&=~u}}function Ea(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ra(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tu(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:lf(t.type))}function rp(t,s){var n=G.p;try{return G.p=t,s()}finally{G.p=n}}var si=Math.random().toString(36).slice(2),qe="__reactFiber$"+si,Je="__reactProps$"+si,es="__reactContainer$"+si,Ta="__reactEvents$"+si,op="__reactListeners$"+si,up="__reactHandles$"+si,Su="__reactResources$"+si,Qs="__reactMarker$"+si;function Sa(t){delete t[qe],delete t[Je],delete t[Ta],delete t[op],delete t[up]}function ts(t){var s=t[qe];if(s)return s;for(var n=t.parentNode;n;){if(s=n[es]||n[qe]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(t=jd(t);t!==null;){if(n=t[qe])return n;t=jd(t)}return s}t=n,n=t.parentNode}return null}function is(t){if(t=t[qe]||t[es]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Zs(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(l(33))}function ss(t){var s=t[Su];return s||(s=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Be(t){t[Qs]=!0}var Mu=new Set,xu={};function ki(t,s){ls(t,s),ls(t+"Capture",s)}function ls(t,s){for(xu[t]=s,t=0;t<s.length;t++)Mu.add(s[t])}var hp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Du={},zu={};function cp(t){return va.call(zu,t)?!0:va.call(Du,t)?!1:hp.test(t)?zu[t]=!0:(Du[t]=!0,!1)}function sn(t,s,n){if(cp(s))if(n===null)t.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var r=s.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+n)}}function ln(t,s,n){if(n===null)t.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+n)}}function Nt(t,s,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(s,n,""+r)}}var Ma,Lu;function ns(t){if(Ma===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);Ma=s&&s[1]||"",Lu=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+t+Lu}var xa=!1;function Da(t,s){if(!t||xa)return"";xa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(s){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(z){var D=z}Reflect.construct(t,[],O)}else{try{O.call()}catch(z){D=z}t.call(O.prototype)}}else{try{throw Error()}catch(z){D=z}(O=t())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(z){if(z&&D&&typeof z.stack=="string")return[z.stack,D.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=r.DetermineComponentFrameRoot(),g=c[0],v=c[1];if(g&&v){var C=g.split(`
`),x=v.split(`
`);for(u=r=0;r<C.length&&!C[r].includes("DetermineComponentFrameRoot");)r++;for(;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;if(r===C.length||u===x.length)for(r=C.length-1,u=x.length-1;1<=r&&0<=u&&C[r]!==x[u];)u--;for(;1<=r&&0<=u;r--,u--)if(C[r]!==x[u]){if(r!==1||u!==1)do if(r--,u--,0>u||C[r]!==x[u]){var L=`
`+C[r].replace(" at new "," at ");return t.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",t.displayName)),L}while(1<=r&&0<=u);break}}}finally{xa=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ns(n):""}function dp(t){switch(t.tag){case 26:case 27:case 5:return ns(t.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 15:return Da(t.type,!1);case 11:return Da(t.type.render,!1);case 1:return Da(t.type,!0);case 31:return ns("Activity");default:return""}}function Au(t){try{var s="";do s+=dp(t),t=t.return;while(t);return s}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function mt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hu(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fp(t){var s=Hu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,c=n.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return u.call(this)},set:function(g){r=""+g,c.call(this,g)}}),Object.defineProperty(t,s,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function nn(t){t._valueTracker||(t._valueTracker=fp(t))}function ku(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var n=s.getValue(),r="";return t&&(r=Hu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(s.setValue(t),!0):!1}function an(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pp=/[\n"\\]/g;function gt(t){return t.replace(pp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function za(t,s,n,r,u,c,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),s!=null?g==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+mt(s)):t.value!==""+mt(s)&&(t.value=""+mt(s)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),s!=null?La(t,g,mt(s)):n!=null?La(t,g,mt(n)):r!=null&&t.removeAttribute("value"),u==null&&c!=null&&(t.defaultChecked=!!c),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+mt(v):t.removeAttribute("name")}function Ou(t,s,n,r,u,c,g,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(t.type=c),s!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||s!=null))return;n=n!=null?""+mt(n):"",s=s!=null?""+mt(s):n,v||s===t.value||(t.value=s),t.defaultValue=s}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=v?t.checked:!!r,t.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function La(t,s,n){s==="number"&&an(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function as(t,s,n,r){if(t=t.options,s){s={};for(var u=0;u<n.length;u++)s["$"+n[u]]=!0;for(n=0;n<t.length;n++)u=s.hasOwnProperty("$"+t[n].value),t[n].selected!==u&&(t[n].selected=u),u&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),s=null,u=0;u<t.length;u++){if(t[u].value===n){t[u].selected=!0,r&&(t[u].defaultSelected=!0);return}s!==null||t[u].disabled||(s=t[u])}s!==null&&(s.selected=!0)}}function _u(t,s,n){if(s!=null&&(s=""+mt(s),s!==t.value&&(t.value=s),n==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=n!=null?""+mt(n):""}function Bu(t,s,n,r){if(s==null){if(r!=null){if(n!=null)throw Error(l(92));if(We(r)){if(1<r.length)throw Error(l(93));r=r[0]}n=r}n==null&&(n=""),s=n}n=mt(s),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function rs(t,s){if(s){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=s;return}}t.textContent=s}var mp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nu(t,s,n){var r=s.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":r?t.setProperty(s,n):typeof n!="number"||n===0||mp.has(s)?s==="float"?t.cssFloat=n:t[s]=(""+n).trim():t[s]=n+"px"}function Fu(t,s,n){if(s!=null&&typeof s!="object")throw Error(l(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||s!=null&&s.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var u in s)r=s[u],s.hasOwnProperty(u)&&n[u]!==r&&Nu(t,u,r)}else for(var c in s)s.hasOwnProperty(c)&&Nu(t,c,s[c])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rn(t){return bp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ha=null;function ka(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,us=null;function Vu(t){var s=is(t);if(s&&(t=s.stateNode)){var n=t[Je]||null;e:switch(t=s.stateNode,s.type){case"input":if(za(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),s=n.name,n.type==="radio"&&s!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+s)+'"][type="radio"]'),s=0;s<n.length;s++){var r=n[s];if(r!==t&&r.form===t.form){var u=r[Je]||null;if(!u)throw Error(l(90));za(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(s=0;s<n.length;s++)r=n[s],r.form===t.form&&ku(r)}break e;case"textarea":_u(t,n.value,n.defaultValue);break e;case"select":s=n.value,s!=null&&as(t,!!n.multiple,s,!1)}}}var Oa=!1;function Uu(t,s,n){if(Oa)return t(s,n);Oa=!0;try{var r=t(s);return r}finally{if(Oa=!1,(os!==null||us!==null)&&(Yn(),os&&(s=os,t=us,us=os=null,Vu(s),t)))for(s=0;s<t.length;s++)Vu(t[s])}}function Ks(t,s){var n=t.stateNode;if(n===null)return null;var r=n[Je]||null;if(r===null)return null;n=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(l(231,s,typeof n));return n}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=!1;if(Ft)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{_a=!1}var li=null,Ba=null,on=null;function Gu(){if(on)return on;var t,s=Ba,n=s.length,r,u="value"in li?li.value:li.textContent,c=u.length;for(t=0;t<n&&s[t]===u[t];t++);var g=n-t;for(r=1;r<=g&&s[n-r]===u[c-r];r++);return on=u.slice(t,1<r?1-r:void 0)}function un(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function hn(){return!0}function ju(){return!1}function Ie(t){function s(n,r,u,c,g){this._reactName=n,this._targetInst=u,this.type=r,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(n=t[v],this[v]=n?n(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?hn:ju,this.isPropagationStopped=ju,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),s}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=Ie(Oi),Is=b({},Oi,{view:0,detail:0}),vp=Ie(Is),Na,Fa,$s,dn=b({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$s&&($s&&t.type==="mousemove"?(Na=t.screenX-$s.screenX,Fa=t.screenY-$s.screenY):Fa=Na=0,$s=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),Pu=Ie(dn),yp=b({},dn,{dataTransfer:0}),wp=Ie(yp),Cp=b({},Is,{relatedTarget:0}),Va=Ie(Cp),Ep=b({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Rp=Ie(Ep),Tp=b({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sp=Ie(Tp),Mp=b({},Oi,{data:0}),Wu=Ie(Mp),xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lp(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=zp[t])?!!s[t]:!1}function Ua(){return Lp}var Ap=b({},Is,{key:function(t){if(t.key){var s=xp[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=un(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(t){return t.type==="keypress"?un(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?un(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hp=Ie(Ap),kp=b({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qu=Ie(kp),Op=b({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),_p=Ie(Op),Bp=b({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Np=Ie(Bp),Fp=b({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vp=Ie(Fp),Up=b({},Oi,{newState:0,oldState:0}),Gp=Ie(Up),jp=[9,13,27,32],Ga=Ft&&"CompositionEvent"in window,el=null;Ft&&"documentMode"in document&&(el=document.documentMode);var Pp=Ft&&"TextEvent"in window&&!el,Yu=Ft&&(!Ga||el&&8<el&&11>=el),Xu=" ",Qu=!1;function Zu(t,s){switch(t){case"keyup":return jp.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ku(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function Wp(t,s){switch(t){case"compositionend":return Ku(s);case"keypress":return s.which!==32?null:(Qu=!0,Xu);case"textInput":return t=s.data,t===Xu&&Qu?null:t;default:return null}}function qp(t,s){if(hs)return t==="compositionend"||!Ga&&Zu(t,s)?(t=Gu(),on=Ba=li=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yu&&s.locale!=="ko"?null:s.data;default:return null}}var Yp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ju(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Yp[t.type]:s==="textarea"}function Iu(t,s,n,r){os?us?us.push(r):us=[r]:os=r,s=In(s,"onChange"),0<s.length&&(n=new cn("onChange","change",null,n,r),t.push({event:n,listeners:s}))}var tl=null,il=null;function Xp(t){Hd(t,0)}function fn(t){var s=Zs(t);if(ku(s))return t}function $u(t,s){if(t==="change")return s}var eh=!1;if(Ft){var ja;if(Ft){var Pa="oninput"in document;if(!Pa){var th=document.createElement("div");th.setAttribute("oninput","return;"),Pa=typeof th.oninput=="function"}ja=Pa}else ja=!1;eh=ja&&(!document.documentMode||9<document.documentMode)}function ih(){tl&&(tl.detachEvent("onpropertychange",sh),il=tl=null)}function sh(t){if(t.propertyName==="value"&&fn(il)){var s=[];Iu(s,il,t,ka(t)),Uu(Xp,s)}}function Qp(t,s,n){t==="focusin"?(ih(),tl=s,il=n,tl.attachEvent("onpropertychange",sh)):t==="focusout"&&ih()}function Zp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fn(il)}function Kp(t,s){if(t==="click")return fn(s)}function Jp(t,s){if(t==="input"||t==="change")return fn(s)}function Ip(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var at=typeof Object.is=="function"?Object.is:Ip;function sl(t,s){if(at(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var n=Object.keys(t),r=Object.keys(s);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var u=n[r];if(!va.call(s,u)||!at(t[u],s[u]))return!1}return!0}function lh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nh(t,s){var n=lh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=s&&r>=s)return{node:n,offset:s-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lh(n)}}function ah(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?ah(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function rh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=an(t.document);s instanceof t.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)t=s.contentWindow;else break;s=an(t.document)}return s}function Wa(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var $p=Ft&&"documentMode"in document&&11>=document.documentMode,cs=null,qa=null,ll=null,Ya=!1;function oh(t,s,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ya||cs==null||cs!==an(r)||(r=cs,"selectionStart"in r&&Wa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ll&&sl(ll,r)||(ll=r,r=In(qa,"onSelect"),0<r.length&&(s=new cn("onSelect","select",null,s,n),t.push({event:s,listeners:r}),s.target=cs)))}function _i(t,s){var n={};return n[t.toLowerCase()]=s.toLowerCase(),n["Webkit"+t]="webkit"+s,n["Moz"+t]="moz"+s,n}var ds={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},Xa={},uh={};Ft&&(uh=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Bi(t){if(Xa[t])return Xa[t];if(!ds[t])return t;var s=ds[t],n;for(n in s)if(s.hasOwnProperty(n)&&n in uh)return Xa[t]=s[n];return t}var hh=Bi("animationend"),ch=Bi("animationiteration"),dh=Bi("animationstart"),em=Bi("transitionrun"),tm=Bi("transitionstart"),im=Bi("transitioncancel"),fh=Bi("transitionend"),ph=new Map,Qa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qa.push("scrollEnd");function St(t,s){ph.set(t,s),ki(s,[t])}var mh=new WeakMap;function bt(t,s){if(typeof t=="object"&&t!==null){var n=mh.get(t);return n!==void 0?n:(s={value:t,source:s,stack:Au(s)},mh.set(t,s),s)}return{value:t,source:s,stack:Au(s)}}var vt=[],fs=0,Za=0;function pn(){for(var t=fs,s=Za=fs=0;s<t;){var n=vt[s];vt[s++]=null;var r=vt[s];vt[s++]=null;var u=vt[s];vt[s++]=null;var c=vt[s];if(vt[s++]=null,r!==null&&u!==null){var g=r.pending;g===null?u.next=u:(u.next=g.next,g.next=u),r.pending=u}c!==0&&gh(n,u,c)}}function mn(t,s,n,r){vt[fs++]=t,vt[fs++]=s,vt[fs++]=n,vt[fs++]=r,Za|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Ka(t,s,n,r){return mn(t,s,n,r),gn(t)}function ps(t,s){return mn(t,null,null,s),gn(t)}function gh(t,s,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var u=!1,c=t.return;c!==null;)c.childLanes|=n,r=c.alternate,r!==null&&(r.childLanes|=n),c.tag===22&&(t=c.stateNode,t===null||t._visibility&1||(u=!0)),t=c,c=c.return;return t.tag===3?(c=t.stateNode,u&&s!==null&&(u=31-nt(n),t=c.hiddenUpdates,r=t[u],r===null?t[u]=[s]:r.push(s),s.lane=n|536870912),c):null}function gn(t){if(50<zl)throw zl=0,io=null,Error(l(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ms={};function sm(t,s,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(t,s,n,r){return new sm(t,s,n,r)}function Ja(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vt(t,s){var n=t.alternate;return n===null?(n=rt(t.tag,s,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=s,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,s=t.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function bh(t,s){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,s=n.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function bn(t,s,n,r,u,c){var g=0;if(r=t,typeof t=="function")Ja(t)&&(g=1);else if(typeof t=="string")g=ng(t,n,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ke:return t=rt(31,n,s,u),t.elementType=Ke,t.lanes=c,t;case H:return Ni(n.children,u,c,s);case _:g=8,u|=24;break;case F:return t=rt(12,n,s,u|2),t.elementType=F,t.lanes=c,t;case W:return t=rt(13,n,s,u),t.elementType=W,t.lanes=c,t;case ye:return t=rt(19,n,s,u),t.elementType=ye,t.lanes=c,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:case ee:g=10;break e;case $:g=9;break e;case oe:g=11;break e;case Ae:g=14;break e;case de:g=16,r=null;break e}g=29,n=Error(l(130,t===null?"null":typeof t,"")),r=null}return s=rt(g,n,s,u),s.elementType=t,s.type=r,s.lanes=c,s}function Ni(t,s,n,r){return t=rt(7,t,r,s),t.lanes=n,t}function Ia(t,s,n){return t=rt(6,t,null,s),t.lanes=n,t}function $a(t,s,n){return s=rt(4,t.children!==null?t.children:[],t.key,s),s.lanes=n,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var gs=[],bs=0,vn=null,yn=0,yt=[],wt=0,Fi=null,Ut=1,Gt="";function Vi(t,s){gs[bs++]=yn,gs[bs++]=vn,vn=t,yn=s}function vh(t,s,n){yt[wt++]=Ut,yt[wt++]=Gt,yt[wt++]=Fi,Fi=t;var r=Ut;t=Gt;var u=32-nt(r)-1;r&=~(1<<u),n+=1;var c=32-nt(s)+u;if(30<c){var g=u-u%5;c=(r&(1<<g)-1).toString(32),r>>=g,u-=g,Ut=1<<32-nt(s)+u|n<<u|r,Gt=c+t}else Ut=1<<c|n<<u|r,Gt=t}function er(t){t.return!==null&&(Vi(t,1),vh(t,1,0))}function tr(t){for(;t===vn;)vn=gs[--bs],gs[bs]=null,yn=gs[--bs],gs[bs]=null;for(;t===Fi;)Fi=yt[--wt],yt[wt]=null,Gt=yt[--wt],yt[wt]=null,Ut=yt[--wt],yt[wt]=null}var Ze=null,xe=null,ce=!1,Ui=null,At=!1,ir=Error(l(519));function Gi(t){var s=Error(l(418,""));throw rl(bt(s,t)),ir}function yh(t){var s=t.stateNode,n=t.type,r=t.memoizedProps;switch(s[qe]=t,s[Je]=r,n){case"dialog":ae("cancel",s),ae("close",s);break;case"iframe":case"object":case"embed":ae("load",s);break;case"video":case"audio":for(n=0;n<Al.length;n++)ae(Al[n],s);break;case"source":ae("error",s);break;case"img":case"image":case"link":ae("error",s),ae("load",s);break;case"details":ae("toggle",s);break;case"input":ae("invalid",s),Ou(s,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),nn(s);break;case"select":ae("invalid",s);break;case"textarea":ae("invalid",s),Bu(s,r.value,r.defaultValue,r.children),nn(s)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||s.textContent===""+n||r.suppressHydrationWarning===!0||Bd(s.textContent,n)?(r.popover!=null&&(ae("beforetoggle",s),ae("toggle",s)),r.onScroll!=null&&ae("scroll",s),r.onScrollEnd!=null&&ae("scrollend",s),r.onClick!=null&&(s.onclick=$n),s=!0):s=!1,s||Gi(t)}function wh(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:At=!1;return;case 27:case 3:At=!0;return;default:Ze=Ze.return}}function nl(t){if(t!==Ze)return!1;if(!ce)return wh(t),ce=!0,!1;var s=t.tag,n;if((n=s!==3&&s!==27)&&((n=s===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||yo(t.type,t.memoizedProps)),n=!n),n&&xe&&Gi(t),wh(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(s===0){xe=xt(t.nextSibling);break e}s--}else n!=="$"&&n!=="$!"&&n!=="$?"||s++;t=t.nextSibling}xe=null}}else s===27?(s=xe,wi(t.type)?(t=Ro,Ro=null,xe=t):xe=s):xe=Ze?xt(t.stateNode.nextSibling):null;return!0}function al(){xe=Ze=null,ce=!1}function Ch(){var t=Ui;return t!==null&&(tt===null?tt=t:tt.push.apply(tt,t),Ui=null),t}function rl(t){Ui===null?Ui=[t]:Ui.push(t)}var sr=N(null),ji=null,jt=null;function ni(t,s,n){U(sr,s._currentValue),s._currentValue=n}function Pt(t){t._currentValue=sr.current,j(sr)}function lr(t,s,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===n)break;t=t.return}}function nr(t,s,n,r){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var c=u.dependencies;if(c!==null){var g=u.child;c=c.firstContext;e:for(;c!==null;){var v=c;c=u;for(var C=0;C<s.length;C++)if(v.context===s[C]){c.lanes|=n,v=c.alternate,v!==null&&(v.lanes|=n),lr(c.return,n,t),r||(g=null);break e}c=v.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(l(341));g.lanes|=n,c=g.alternate,c!==null&&(c.lanes|=n),lr(g,n,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function ol(t,s,n,r){t=null;for(var u=s,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var v=u.type;at(u.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(u===st.current){if(g=u.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}u=u.return}t!==null&&nr(s,t,n,r),s.flags|=262144}function wn(t){for(t=t.firstContext;t!==null;){if(!at(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pi(t){ji=t,jt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ye(t){return Eh(ji,t)}function Cn(t,s){return ji===null&&Pi(t),Eh(t,s)}function Eh(t,s){var n=s._currentValue;if(s={context:s,memoizedValue:n,next:null},jt===null){if(t===null)throw Error(l(308));jt=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else jt=jt.next=s;return n}var lm=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){s.aborted=!0,t.forEach(function(n){return n()})}},nm=m.unstable_scheduleCallback,am=m.unstable_NormalPriority,Oe={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ar(){return{controller:new lm,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&nm(am,function(){t.controller.abort()})}var hl=null,rr=0,vs=0,ys=null;function rm(t,s){if(hl===null){var n=hl=[];rr=0,vs=uo(),ys={status:"pending",value:void 0,then:function(r){n.push(r)}}}return rr++,s.then(Rh,Rh),s}function Rh(){if(--rr===0&&hl!==null){ys!==null&&(ys.status="fulfilled");var t=hl;hl=null,vs=0,ys=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function om(t,s){var n=[],r={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return t.then(function(){r.status="fulfilled",r.value=s;for(var u=0;u<n.length;u++)(0,n[u])(s)},function(u){for(r.status="rejected",r.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),r}var Th=A.S;A.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&rm(t,s),Th!==null&&Th(t,s)};var Wi=N(null);function or(){var t=Wi.current;return t!==null?t:Re.pooledCache}function En(t,s){s===null?U(Wi,Wi.current):U(Wi,s.pool)}function Sh(){var t=or();return t===null?null:{parent:Oe._currentValue,pool:t}}var cl=Error(l(460)),Mh=Error(l(474)),Rn=Error(l(542)),ur={then:function(){}};function xh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tn(){}function Dh(t,s,n){switch(n=t[n],n===void 0?t.push(s):n!==s&&(s.then(Tn,Tn),s=n),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Lh(t),t;default:if(typeof s.status=="string")s.then(Tn,Tn);else{if(t=Re,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=s,t.status="pending",t.then(function(r){if(s.status==="pending"){var u=s;u.status="fulfilled",u.value=r}},function(r){if(s.status==="pending"){var u=s;u.status="rejected",u.reason=r}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Lh(t),t}throw dl=s,cl}}var dl=null;function zh(){if(dl===null)throw Error(l(459));var t=dl;return dl=null,t}function Lh(t){if(t===cl||t===Rn)throw Error(l(483))}var ai=!1;function hr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cr(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ri(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oi(t,s,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(fe&2)!==0){var u=r.pending;return u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s,s=gn(t),gh(t,null,n),s}return mn(t,r,s,n),gn(t)}function fl(t,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194048)!==0)){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,Ru(t,n)}}function dr(t,s){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var u=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?u=c=g:c=c.next=g,n=n.next}while(n!==null);c===null?u=c=s:c=c.next=s}else u=c=s;n={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=s:t.next=s,n.lastBaseUpdate=s}var fr=!1;function pl(){if(fr){var t=ys;if(t!==null)throw t}}function ml(t,s,n,r){fr=!1;var u=t.updateQueue;ai=!1;var c=u.firstBaseUpdate,g=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var C=v,x=C.next;C.next=null,g===null?c=x:g.next=x,g=C;var L=t.alternate;L!==null&&(L=L.updateQueue,v=L.lastBaseUpdate,v!==g&&(v===null?L.firstBaseUpdate=x:v.next=x,L.lastBaseUpdate=C))}if(c!==null){var O=u.baseState;g=0,L=x=C=null,v=c;do{var D=v.lane&-536870913,z=D!==v.lane;if(z?(re&D)===D:(r&D)===D){D!==0&&D===vs&&(fr=!0),L!==null&&(L=L.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var K=t,X=v;D=s;var be=n;switch(X.tag){case 1:if(K=X.payload,typeof K=="function"){O=K.call(be,O,D);break e}O=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=X.payload,D=typeof K=="function"?K.call(be,O,D):K,D==null)break e;O=b({},O,D);break e;case 2:ai=!0}}D=v.callback,D!==null&&(t.flags|=64,z&&(t.flags|=8192),z=u.callbacks,z===null?u.callbacks=[D]:z.push(D))}else z={lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},L===null?(x=L=z,C=O):L=L.next=z,g|=D;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;z=v,v=z.next,z.next=null,u.lastBaseUpdate=z,u.shared.pending=null}}while(!0);L===null&&(C=O),u.baseState=C,u.firstBaseUpdate=x,u.lastBaseUpdate=L,c===null&&(u.shared.lanes=0),gi|=g,t.lanes=g,t.memoizedState=O}}function Ah(t,s){if(typeof t!="function")throw Error(l(191,t));t.call(s)}function Hh(t,s){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Ah(n[t],s)}var ws=N(null),Sn=N(0);function kh(t,s){t=Kt,U(Sn,t),U(ws,s),Kt=t|s.baseLanes}function pr(){U(Sn,Kt),U(ws,ws.current)}function mr(){Kt=Sn.current,j(ws),j(Sn)}var ui=0,se=null,me=null,He=null,Mn=!1,Cs=!1,qi=!1,xn=0,gl=0,Es=null,um=0;function ze(){throw Error(l(321))}function gr(t,s){if(s===null)return!1;for(var n=0;n<s.length&&n<t.length;n++)if(!at(t[n],s[n]))return!1;return!0}function br(t,s,n,r,u,c){return ui=c,se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,A.H=t===null||t.memoizedState===null?gc:bc,qi=!1,c=n(r,u),qi=!1,Cs&&(c=_h(s,n,r,u)),Oh(t),c}function Oh(t){A.H=kn;var s=me!==null&&me.next!==null;if(ui=0,He=me=se=null,Mn=!1,gl=0,Es=null,s)throw Error(l(300));t===null||Ne||(t=t.dependencies,t!==null&&wn(t)&&(Ne=!0))}function _h(t,s,n,r){se=t;var u=0;do{if(Cs&&(Es=null),gl=0,Cs=!1,25<=u)throw Error(l(301));if(u+=1,He=me=null,t.updateQueue!=null){var c=t.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}A.H=gm,c=s(n,r)}while(Cs);return c}function hm(){var t=A.H,s=t.useState()[0];return s=typeof s.then=="function"?bl(s):s,t=t.useState()[0],(me!==null?me.memoizedState:null)!==t&&(se.flags|=1024),s}function vr(){var t=xn!==0;return xn=0,t}function yr(t,s,n){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n}function wr(t){if(Mn){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Mn=!1}ui=0,He=me=se=null,Cs=!1,gl=xn=0,Es=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?se.memoizedState=He=t:He=He.next=t,He}function ke(){if(me===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var s=He===null?se.memoizedState:He.next;if(s!==null)He=s,me=t;else{if(t===null)throw se.alternate===null?Error(l(467)):Error(l(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},He===null?se.memoizedState=He=t:He=He.next=t}return He}function Cr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var s=gl;return gl+=1,Es===null&&(Es=[]),t=Dh(Es,t,s),s=se,(He===null?s.memoizedState:He.next)===null&&(s=s.alternate,A.H=s===null||s.memoizedState===null?gc:bc),t}function Dn(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===ee)return Ye(t)}throw Error(l(438,String(t)))}function Er(t){var s=null,n=se.updateQueue;if(n!==null&&(s=n.memoCache),s==null){var r=se.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(s={data:r.data.map(function(u){return u.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),n===null&&(n=Cr(),se.updateQueue=n),n.memoCache=s,n=s.data[s.index],n===void 0)for(n=s.data[s.index]=Array(t),r=0;r<t;r++)n[r]=Bt;return s.index++,n}function Wt(t,s){return typeof s=="function"?s(t):s}function zn(t){var s=ke();return Rr(s,me,t)}function Rr(t,s,n){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=n;var u=t.baseQueue,c=r.pending;if(c!==null){if(u!==null){var g=u.next;u.next=c.next,c.next=g}s.baseQueue=u=c,r.pending=null}if(c=t.baseState,u===null)t.memoizedState=c;else{s=u.next;var v=g=null,C=null,x=s,L=!1;do{var O=x.lane&-536870913;if(O!==x.lane?(re&O)===O:(ui&O)===O){var D=x.revertLane;if(D===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),O===vs&&(L=!0);else if((ui&D)===D){x=x.next,D===vs&&(L=!0);continue}else O={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},C===null?(v=C=O,g=c):C=C.next=O,se.lanes|=D,gi|=D;O=x.action,qi&&n(c,O),c=x.hasEagerState?x.eagerState:n(c,O)}else D={lane:O,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},C===null?(v=C=D,g=c):C=C.next=D,se.lanes|=O,gi|=O;x=x.next}while(x!==null&&x!==s);if(C===null?g=c:C.next=v,!at(c,t.memoizedState)&&(Ne=!0,L&&(n=ys,n!==null)))throw n;t.memoizedState=c,t.baseState=g,t.baseQueue=C,r.lastRenderedState=c}return u===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Tr(t){var s=ke(),n=s.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=t;var r=n.dispatch,u=n.pending,c=s.memoizedState;if(u!==null){n.pending=null;var g=u=u.next;do c=t(c,g.action),g=g.next;while(g!==u);at(c,s.memoizedState)||(Ne=!0),s.memoizedState=c,s.baseQueue===null&&(s.baseState=c),n.lastRenderedState=c}return[c,r]}function Bh(t,s,n){var r=se,u=ke(),c=ce;if(c){if(n===void 0)throw Error(l(407));n=n()}else n=s();var g=!at((me||u).memoizedState,n);g&&(u.memoizedState=n,Ne=!0),u=u.queue;var v=Vh.bind(null,r,u,t);if(vl(2048,8,v,[t]),u.getSnapshot!==s||g||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,Rs(9,Ln(),Fh.bind(null,r,u,n,s),null),Re===null)throw Error(l(349));c||(ui&124)!==0||Nh(r,s,n)}return n}function Nh(t,s,n){t.flags|=16384,t={getSnapshot:s,value:n},s=se.updateQueue,s===null?(s=Cr(),se.updateQueue=s,s.stores=[t]):(n=s.stores,n===null?s.stores=[t]:n.push(t))}function Fh(t,s,n,r){s.value=n,s.getSnapshot=r,Uh(s)&&Gh(t)}function Vh(t,s,n){return n(function(){Uh(s)&&Gh(t)})}function Uh(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!at(t,n)}catch{return!0}}function Gh(t){var s=ps(t,2);s!==null&&dt(s,t,2)}function Sr(t){var s=$e();if(typeof t=="function"){var n=t;if(t=n(),qi){ii(!0);try{n()}finally{ii(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:t},s}function jh(t,s,n,r){return t.baseState=n,Rr(t,me,typeof r=="function"?r:Wt)}function cm(t,s,n,r,u){if(Hn(t))throw Error(l(485));if(t=s.action,t!==null){var c={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){c.listeners.push(g)}};A.T!==null?n(!0):c.isTransition=!1,r(c),n=s.pending,n===null?(c.next=s.pending=c,Ph(s,c)):(c.next=n.next,s.pending=n.next=c)}}function Ph(t,s){var n=s.action,r=s.payload,u=t.state;if(s.isTransition){var c=A.T,g={};A.T=g;try{var v=n(u,r),C=A.S;C!==null&&C(g,v),Wh(t,s,v)}catch(x){Mr(t,s,x)}finally{A.T=c}}else try{c=n(u,r),Wh(t,s,c)}catch(x){Mr(t,s,x)}}function Wh(t,s,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){qh(t,s,r)},function(r){return Mr(t,s,r)}):qh(t,s,n)}function qh(t,s,n){s.status="fulfilled",s.value=n,Yh(s),t.state=n,s=t.pending,s!==null&&(n=s.next,n===s?t.pending=null:(n=n.next,s.next=n,Ph(t,n)))}function Mr(t,s,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do s.status="rejected",s.reason=n,Yh(s),s=s.next;while(s!==r)}t.action=null}function Yh(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Xh(t,s){return s}function Qh(t,s){if(ce){var n=Re.formState;if(n!==null){e:{var r=se;if(ce){if(xe){t:{for(var u=xe,c=At;u.nodeType!==8;){if(!c){u=null;break t}if(u=xt(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){xe=xt(u.nextSibling),r=u.data==="F!";break e}}Gi(r)}r=!1}r&&(s=n[0])}}return n=$e(),n.memoizedState=n.baseState=s,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xh,lastRenderedState:s},n.queue=r,n=fc.bind(null,se,r),r.dispatch=n,r=Sr(!1),c=Ar.bind(null,se,!1,r.queue),r=$e(),u={state:s,dispatch:null,action:t,pending:null},r.queue=u,n=cm.bind(null,se,u,c,n),u.dispatch=n,r.memoizedState=t,[s,n,!1]}function Zh(t){var s=ke();return Kh(s,me,t)}function Kh(t,s,n){if(s=Rr(t,s,Xh)[0],t=zn(Wt)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var r=bl(s)}catch(g){throw g===cl?Rn:g}else r=s;s=ke();var u=s.queue,c=u.dispatch;return n!==s.memoizedState&&(se.flags|=2048,Rs(9,Ln(),dm.bind(null,u,n),null)),[r,c,t]}function dm(t,s){t.action=s}function Jh(t){var s=ke(),n=me;if(n!==null)return Kh(s,n,t);ke(),s=s.memoizedState,n=ke();var r=n.queue.dispatch;return n.memoizedState=t,[s,r,!1]}function Rs(t,s,n,r){return t={tag:t,create:n,deps:r,inst:s,next:null},s=se.updateQueue,s===null&&(s=Cr(),se.updateQueue=s),n=s.lastEffect,n===null?s.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,s.lastEffect=t),t}function Ln(){return{destroy:void 0,resource:void 0}}function Ih(){return ke().memoizedState}function An(t,s,n,r){var u=$e();r=r===void 0?null:r,se.flags|=t,u.memoizedState=Rs(1|s,Ln(),n,r)}function vl(t,s,n,r){var u=ke();r=r===void 0?null:r;var c=u.memoizedState.inst;me!==null&&r!==null&&gr(r,me.memoizedState.deps)?u.memoizedState=Rs(s,c,n,r):(se.flags|=t,u.memoizedState=Rs(1|s,c,n,r))}function $h(t,s){An(8390656,8,t,s)}function ec(t,s){vl(2048,8,t,s)}function tc(t,s){return vl(4,2,t,s)}function ic(t,s){return vl(4,4,t,s)}function sc(t,s){if(typeof s=="function"){t=t();var n=s(t);return function(){typeof n=="function"?n():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function lc(t,s,n){n=n!=null?n.concat([t]):null,vl(4,4,sc.bind(null,s,t),n)}function xr(){}function nc(t,s){var n=ke();s=s===void 0?null:s;var r=n.memoizedState;return s!==null&&gr(s,r[1])?r[0]:(n.memoizedState=[t,s],t)}function ac(t,s){var n=ke();s=s===void 0?null:s;var r=n.memoizedState;if(s!==null&&gr(s,r[1]))return r[0];if(r=t(),qi){ii(!0);try{t()}finally{ii(!1)}}return n.memoizedState=[r,s],r}function Dr(t,s,n){return n===void 0||(ui&1073741824)!==0?t.memoizedState=s:(t.memoizedState=n,t=ud(),se.lanes|=t,gi|=t,n)}function rc(t,s,n,r){return at(n,s)?n:ws.current!==null?(t=Dr(t,n,r),at(t,s)||(Ne=!0),t):(ui&42)===0?(Ne=!0,t.memoizedState=n):(t=ud(),se.lanes|=t,gi|=t,s)}function oc(t,s,n,r,u){var c=G.p;G.p=c!==0&&8>c?c:8;var g=A.T,v={};A.T=v,Ar(t,!1,s,n);try{var C=u(),x=A.S;if(x!==null&&x(v,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var L=om(C,r);yl(t,s,L,ct(t))}else yl(t,s,r,ct(t))}catch(O){yl(t,s,{then:function(){},status:"rejected",reason:O},ct())}finally{G.p=c,A.T=g}}function fm(){}function zr(t,s,n,r){if(t.tag!==5)throw Error(l(476));var u=uc(t).queue;oc(t,u,s,Z,n===null?fm:function(){return hc(t),n(r)})}function uc(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:Z},next:null};var n={};return s.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:n},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function hc(t){var s=uc(t).next.queue;yl(t,s,{},ct())}function Lr(){return Ye(Nl)}function cc(){return ke().memoizedState}function dc(){return ke().memoizedState}function pm(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var n=ct();t=ri(n);var r=oi(s,t,n);r!==null&&(dt(r,s,n),fl(r,s,n)),s={cache:ar()},t.payload=s;return}s=s.return}}function mm(t,s,n){var r=ct();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Hn(t)?pc(s,n):(n=Ka(t,s,n,r),n!==null&&(dt(n,t,r),mc(n,s,r)))}function fc(t,s,n){var r=ct();yl(t,s,n,r)}function yl(t,s,n,r){var u={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hn(t))pc(s,u);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=s.lastRenderedReducer,c!==null))try{var g=s.lastRenderedState,v=c(g,n);if(u.hasEagerState=!0,u.eagerState=v,at(v,g))return mn(t,s,u,0),Re===null&&pn(),!1}catch{}finally{}if(n=Ka(t,s,u,r),n!==null)return dt(n,t,r),mc(n,s,r),!0}return!1}function Ar(t,s,n,r){if(r={lane:2,revertLane:uo(),action:r,hasEagerState:!1,eagerState:null,next:null},Hn(t)){if(s)throw Error(l(479))}else s=Ka(t,n,r,2),s!==null&&dt(s,t,2)}function Hn(t){var s=t.alternate;return t===se||s!==null&&s===se}function pc(t,s){Cs=Mn=!0;var n=t.pending;n===null?s.next=s:(s.next=n.next,n.next=s),t.pending=s}function mc(t,s,n){if((n&4194048)!==0){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,Ru(t,n)}}var kn={readContext:Ye,use:Dn,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze},gc={readContext:Ye,use:Dn,useCallback:function(t,s){return $e().memoizedState=[t,s===void 0?null:s],t},useContext:Ye,useEffect:$h,useImperativeHandle:function(t,s,n){n=n!=null?n.concat([t]):null,An(4194308,4,sc.bind(null,s,t),n)},useLayoutEffect:function(t,s){return An(4194308,4,t,s)},useInsertionEffect:function(t,s){An(4,2,t,s)},useMemo:function(t,s){var n=$e();s=s===void 0?null:s;var r=t();if(qi){ii(!0);try{t()}finally{ii(!1)}}return n.memoizedState=[r,s],r},useReducer:function(t,s,n){var r=$e();if(n!==void 0){var u=n(s);if(qi){ii(!0);try{n(s)}finally{ii(!1)}}}else u=s;return r.memoizedState=r.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},r.queue=t,t=t.dispatch=mm.bind(null,se,t),[r.memoizedState,t]},useRef:function(t){var s=$e();return t={current:t},s.memoizedState=t},useState:function(t){t=Sr(t);var s=t.queue,n=fc.bind(null,se,s);return s.dispatch=n,[t.memoizedState,n]},useDebugValue:xr,useDeferredValue:function(t,s){var n=$e();return Dr(n,t,s)},useTransition:function(){var t=Sr(!1);return t=oc.bind(null,se,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,n){var r=se,u=$e();if(ce){if(n===void 0)throw Error(l(407));n=n()}else{if(n=s(),Re===null)throw Error(l(349));(re&124)!==0||Nh(r,s,n)}u.memoizedState=n;var c={value:n,getSnapshot:s};return u.queue=c,$h(Vh.bind(null,r,c,t),[t]),r.flags|=2048,Rs(9,Ln(),Fh.bind(null,r,c,n,s),null),n},useId:function(){var t=$e(),s=Re.identifierPrefix;if(ce){var n=Gt,r=Ut;n=(r&~(1<<32-nt(r)-1)).toString(32)+n,s="«"+s+"R"+n,n=xn++,0<n&&(s+="H"+n.toString(32)),s+="»"}else n=um++,s="«"+s+"r"+n.toString(32)+"»";return t.memoizedState=s},useHostTransitionStatus:Lr,useFormState:Qh,useActionState:Qh,useOptimistic:function(t){var s=$e();s.memoizedState=s.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=n,s=Ar.bind(null,se,!0,n),n.dispatch=s,[t,s]},useMemoCache:Er,useCacheRefresh:function(){return $e().memoizedState=pm.bind(null,se)}},bc={readContext:Ye,use:Dn,useCallback:nc,useContext:Ye,useEffect:ec,useImperativeHandle:lc,useInsertionEffect:tc,useLayoutEffect:ic,useMemo:ac,useReducer:zn,useRef:Ih,useState:function(){return zn(Wt)},useDebugValue:xr,useDeferredValue:function(t,s){var n=ke();return rc(n,me.memoizedState,t,s)},useTransition:function(){var t=zn(Wt)[0],s=ke().memoizedState;return[typeof t=="boolean"?t:bl(t),s]},useSyncExternalStore:Bh,useId:cc,useHostTransitionStatus:Lr,useFormState:Zh,useActionState:Zh,useOptimistic:function(t,s){var n=ke();return jh(n,me,t,s)},useMemoCache:Er,useCacheRefresh:dc},gm={readContext:Ye,use:Dn,useCallback:nc,useContext:Ye,useEffect:ec,useImperativeHandle:lc,useInsertionEffect:tc,useLayoutEffect:ic,useMemo:ac,useReducer:Tr,useRef:Ih,useState:function(){return Tr(Wt)},useDebugValue:xr,useDeferredValue:function(t,s){var n=ke();return me===null?Dr(n,t,s):rc(n,me.memoizedState,t,s)},useTransition:function(){var t=Tr(Wt)[0],s=ke().memoizedState;return[typeof t=="boolean"?t:bl(t),s]},useSyncExternalStore:Bh,useId:cc,useHostTransitionStatus:Lr,useFormState:Jh,useActionState:Jh,useOptimistic:function(t,s){var n=ke();return me!==null?jh(n,me,t,s):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Er,useCacheRefresh:dc},Ts=null,wl=0;function On(t){var s=wl;return wl+=1,Ts===null&&(Ts=[]),Dh(Ts,t,s)}function Cl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function _n(t,s){throw s.$$typeof===y?Error(l(525)):(t=Object.prototype.toString.call(s),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function vc(t){var s=t._init;return s(t._payload)}function yc(t){function s(T,R){if(t){var S=T.deletions;S===null?(T.deletions=[R],T.flags|=16):S.push(R)}}function n(T,R){if(!t)return null;for(;R!==null;)s(T,R),R=R.sibling;return null}function r(T){for(var R=new Map;T!==null;)T.key!==null?R.set(T.key,T):R.set(T.index,T),T=T.sibling;return R}function u(T,R){return T=Vt(T,R),T.index=0,T.sibling=null,T}function c(T,R,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<R?(T.flags|=67108866,R):S):(T.flags|=67108866,R)):(T.flags|=1048576,R)}function g(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function v(T,R,S,k){return R===null||R.tag!==6?(R=Ia(S,T.mode,k),R.return=T,R):(R=u(R,S),R.return=T,R)}function C(T,R,S,k){var P=S.type;return P===H?L(T,R,S.props.children,k,S.key):R!==null&&(R.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===de&&vc(P)===R.type)?(R=u(R,S.props),Cl(R,S),R.return=T,R):(R=bn(S.type,S.key,S.props,null,T.mode,k),Cl(R,S),R.return=T,R)}function x(T,R,S,k){return R===null||R.tag!==4||R.stateNode.containerInfo!==S.containerInfo||R.stateNode.implementation!==S.implementation?(R=$a(S,T.mode,k),R.return=T,R):(R=u(R,S.children||[]),R.return=T,R)}function L(T,R,S,k,P){return R===null||R.tag!==7?(R=Ni(S,T.mode,k,P),R.return=T,R):(R=u(R,S),R.return=T,R)}function O(T,R,S){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ia(""+R,T.mode,S),R.return=T,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case w:return S=bn(R.type,R.key,R.props,null,T.mode,S),Cl(S,R),S.return=T,S;case M:return R=$a(R,T.mode,S),R.return=T,R;case de:var k=R._init;return R=k(R._payload),O(T,R,S)}if(We(R)||J(R))return R=Ni(R,T.mode,S,null),R.return=T,R;if(typeof R.then=="function")return O(T,On(R),S);if(R.$$typeof===ee)return O(T,Cn(T,R),S);_n(T,R)}return null}function D(T,R,S,k){var P=R!==null?R.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return P!==null?null:v(T,R,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case w:return S.key===P?C(T,R,S,k):null;case M:return S.key===P?x(T,R,S,k):null;case de:return P=S._init,S=P(S._payload),D(T,R,S,k)}if(We(S)||J(S))return P!==null?null:L(T,R,S,k,null);if(typeof S.then=="function")return D(T,R,On(S),k);if(S.$$typeof===ee)return D(T,R,Cn(T,S),k);_n(T,S)}return null}function z(T,R,S,k,P){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return T=T.get(S)||null,v(R,T,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return T=T.get(k.key===null?S:k.key)||null,C(R,T,k,P);case M:return T=T.get(k.key===null?S:k.key)||null,x(R,T,k,P);case de:var le=k._init;return k=le(k._payload),z(T,R,S,k,P)}if(We(k)||J(k))return T=T.get(S)||null,L(R,T,k,P,null);if(typeof k.then=="function")return z(T,R,S,On(k),P);if(k.$$typeof===ee)return z(T,R,S,Cn(R,k),P);_n(R,k)}return null}function K(T,R,S,k){for(var P=null,le=null,q=R,Q=R=0,Ve=null;q!==null&&Q<S.length;Q++){q.index>Q?(Ve=q,q=null):Ve=q.sibling;var he=D(T,q,S[Q],k);if(he===null){q===null&&(q=Ve);break}t&&q&&he.alternate===null&&s(T,q),R=c(he,R,Q),le===null?P=he:le.sibling=he,le=he,q=Ve}if(Q===S.length)return n(T,q),ce&&Vi(T,Q),P;if(q===null){for(;Q<S.length;Q++)q=O(T,S[Q],k),q!==null&&(R=c(q,R,Q),le===null?P=q:le.sibling=q,le=q);return ce&&Vi(T,Q),P}for(q=r(q);Q<S.length;Q++)Ve=z(q,T,Q,S[Q],k),Ve!==null&&(t&&Ve.alternate!==null&&q.delete(Ve.key===null?Q:Ve.key),R=c(Ve,R,Q),le===null?P=Ve:le.sibling=Ve,le=Ve);return t&&q.forEach(function(Si){return s(T,Si)}),ce&&Vi(T,Q),P}function X(T,R,S,k){if(S==null)throw Error(l(151));for(var P=null,le=null,q=R,Q=R=0,Ve=null,he=S.next();q!==null&&!he.done;Q++,he=S.next()){q.index>Q?(Ve=q,q=null):Ve=q.sibling;var Si=D(T,q,he.value,k);if(Si===null){q===null&&(q=Ve);break}t&&q&&Si.alternate===null&&s(T,q),R=c(Si,R,Q),le===null?P=Si:le.sibling=Si,le=Si,q=Ve}if(he.done)return n(T,q),ce&&Vi(T,Q),P;if(q===null){for(;!he.done;Q++,he=S.next())he=O(T,he.value,k),he!==null&&(R=c(he,R,Q),le===null?P=he:le.sibling=he,le=he);return ce&&Vi(T,Q),P}for(q=r(q);!he.done;Q++,he=S.next())he=z(q,T,Q,he.value,k),he!==null&&(t&&he.alternate!==null&&q.delete(he.key===null?Q:he.key),R=c(he,R,Q),le===null?P=he:le.sibling=he,le=he);return t&&q.forEach(function(bg){return s(T,bg)}),ce&&Vi(T,Q),P}function be(T,R,S,k){if(typeof S=="object"&&S!==null&&S.type===H&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case w:e:{for(var P=S.key;R!==null;){if(R.key===P){if(P=S.type,P===H){if(R.tag===7){n(T,R.sibling),k=u(R,S.props.children),k.return=T,T=k;break e}}else if(R.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===de&&vc(P)===R.type){n(T,R.sibling),k=u(R,S.props),Cl(k,S),k.return=T,T=k;break e}n(T,R);break}else s(T,R);R=R.sibling}S.type===H?(k=Ni(S.props.children,T.mode,k,S.key),k.return=T,T=k):(k=bn(S.type,S.key,S.props,null,T.mode,k),Cl(k,S),k.return=T,T=k)}return g(T);case M:e:{for(P=S.key;R!==null;){if(R.key===P)if(R.tag===4&&R.stateNode.containerInfo===S.containerInfo&&R.stateNode.implementation===S.implementation){n(T,R.sibling),k=u(R,S.children||[]),k.return=T,T=k;break e}else{n(T,R);break}else s(T,R);R=R.sibling}k=$a(S,T.mode,k),k.return=T,T=k}return g(T);case de:return P=S._init,S=P(S._payload),be(T,R,S,k)}if(We(S))return K(T,R,S,k);if(J(S)){if(P=J(S),typeof P!="function")throw Error(l(150));return S=P.call(S),X(T,R,S,k)}if(typeof S.then=="function")return be(T,R,On(S),k);if(S.$$typeof===ee)return be(T,R,Cn(T,S),k);_n(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,R!==null&&R.tag===6?(n(T,R.sibling),k=u(R,S),k.return=T,T=k):(n(T,R),k=Ia(S,T.mode,k),k.return=T,T=k),g(T)):n(T,R)}return function(T,R,S,k){try{wl=0;var P=be(T,R,S,k);return Ts=null,P}catch(q){if(q===cl||q===Rn)throw q;var le=rt(29,q,null,T.mode);return le.lanes=k,le.return=T,le}finally{}}}var Ss=yc(!0),wc=yc(!1),Ct=N(null),Ht=null;function hi(t){var s=t.alternate;U(_e,_e.current&1),U(Ct,t),Ht===null&&(s===null||ws.current!==null||s.memoizedState!==null)&&(Ht=t)}function Cc(t){if(t.tag===22){if(U(_e,_e.current),U(Ct,t),Ht===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Ht=t)}}else ci()}function ci(){U(_e,_e.current),U(Ct,Ct.current)}function qt(t){j(Ct),Ht===t&&(Ht=null),j(_e)}var _e=N(0);function Bn(t){for(var s=t;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Eo(n)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Hr(t,s,n,r){s=t.memoizedState,n=n(r,s),n=n==null?s:b({},s,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kr={enqueueSetState:function(t,s,n){t=t._reactInternals;var r=ct(),u=ri(r);u.payload=s,n!=null&&(u.callback=n),s=oi(t,u,r),s!==null&&(dt(s,t,r),fl(s,t,r))},enqueueReplaceState:function(t,s,n){t=t._reactInternals;var r=ct(),u=ri(r);u.tag=1,u.payload=s,n!=null&&(u.callback=n),s=oi(t,u,r),s!==null&&(dt(s,t,r),fl(s,t,r))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var n=ct(),r=ri(n);r.tag=2,s!=null&&(r.callback=s),s=oi(t,r,n),s!==null&&(dt(s,t,n),fl(s,t,n))}};function Ec(t,s,n,r,u,c,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,c,g):s.prototype&&s.prototype.isPureReactComponent?!sl(n,r)||!sl(u,c):!0}function Rc(t,s,n,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,r),s.state!==t&&kr.enqueueReplaceState(s,s.state,null)}function Yi(t,s){var n=s;if("ref"in s){n={};for(var r in s)r!=="ref"&&(n[r]=s[r])}if(t=t.defaultProps){n===s&&(n=b({},n));for(var u in t)n[u]===void 0&&(n[u]=t[u])}return n}var Nn=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Tc(t){Nn(t)}function Sc(t){console.error(t)}function Mc(t){Nn(t)}function Fn(t,s){try{var n=t.onUncaughtError;n(s.value,{componentStack:s.stack})}catch(r){setTimeout(function(){throw r})}}function xc(t,s,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Or(t,s,n){return n=ri(n),n.tag=3,n.payload={element:null},n.callback=function(){Fn(t,s)},n}function Dc(t){return t=ri(t),t.tag=3,t}function zc(t,s,n,r){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var c=r.value;t.payload=function(){return u(c)},t.callback=function(){xc(s,n,r)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){xc(s,n,r),typeof u!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function bm(t,s,n,r,u){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(s=n.alternate,s!==null&&ol(s,n,u,!0),n=Ct.current,n!==null){switch(n.tag){case 13:return Ht===null?lo():n.alternate===null&&De===0&&(De=3),n.flags&=-257,n.flags|=65536,n.lanes=u,r===ur?n.flags|=16384:(s=n.updateQueue,s===null?n.updateQueue=new Set([r]):s.add(r),ao(t,r,u)),!1;case 22:return n.flags|=65536,r===ur?n.flags|=16384:(s=n.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=s):(n=s.retryQueue,n===null?s.retryQueue=new Set([r]):n.add(r)),ao(t,r,u)),!1}throw Error(l(435,n.tag))}return ao(t,r,u),lo(),!1}if(ce)return s=Ct.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=u,r!==ir&&(t=Error(l(422),{cause:r}),rl(bt(t,n)))):(r!==ir&&(s=Error(l(423),{cause:r}),rl(bt(s,n))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,r=bt(r,n),u=Or(t.stateNode,r,u),dr(t,u),De!==4&&(De=2)),!1;var c=Error(l(520),{cause:r});if(c=bt(c,n),Dl===null?Dl=[c]:Dl.push(c),De!==4&&(De=2),s===null)return!0;r=bt(r,n),n=s;do{switch(n.tag){case 3:return n.flags|=65536,t=u&-u,n.lanes|=t,t=Or(n.stateNode,r,t),dr(n,t),!1;case 1:if(s=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(bi===null||!bi.has(c))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Dc(u),zc(u,t,n,r),dr(n,u),!1}n=n.return}while(n!==null);return!1}var Lc=Error(l(461)),Ne=!1;function Ue(t,s,n,r){s.child=t===null?wc(s,null,n,r):Ss(s,t.child,n,r)}function Ac(t,s,n,r,u){n=n.render;var c=s.ref;if("ref"in r){var g={};for(var v in r)v!=="ref"&&(g[v]=r[v])}else g=r;return Pi(s),r=br(t,s,n,g,c,u),v=vr(),t!==null&&!Ne?(yr(t,s,u),Yt(t,s,u)):(ce&&v&&er(s),s.flags|=1,Ue(t,s,r,u),s.child)}function Hc(t,s,n,r,u){if(t===null){var c=n.type;return typeof c=="function"&&!Ja(c)&&c.defaultProps===void 0&&n.compare===null?(s.tag=15,s.type=c,kc(t,s,c,r,u)):(t=bn(n.type,null,r,s,s.mode,u),t.ref=s.ref,t.return=s,s.child=t)}if(c=t.child,!jr(t,u)){var g=c.memoizedProps;if(n=n.compare,n=n!==null?n:sl,n(g,r)&&t.ref===s.ref)return Yt(t,s,u)}return s.flags|=1,t=Vt(c,r),t.ref=s.ref,t.return=s,s.child=t}function kc(t,s,n,r,u){if(t!==null){var c=t.memoizedProps;if(sl(c,r)&&t.ref===s.ref)if(Ne=!1,s.pendingProps=r=c,jr(t,u))(t.flags&131072)!==0&&(Ne=!0);else return s.lanes=t.lanes,Yt(t,s,u)}return _r(t,s,n,r,u)}function Oc(t,s,n){var r=s.pendingProps,u=r.children,c=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((s.flags&128)!==0){if(r=c!==null?c.baseLanes|n:n,t!==null){for(u=s.child=t.child,c=0;u!==null;)c=c|u.lanes|u.childLanes,u=u.sibling;s.childLanes=c&~r}else s.childLanes=0,s.child=null;return _c(t,s,r,n)}if((n&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&En(s,c!==null?c.cachePool:null),c!==null?kh(s,c):pr(),Cc(s);else return s.lanes=s.childLanes=536870912,_c(t,s,c!==null?c.baseLanes|n:n,n)}else c!==null?(En(s,c.cachePool),kh(s,c),ci(),s.memoizedState=null):(t!==null&&En(s,null),pr(),ci());return Ue(t,s,u,n),s.child}function _c(t,s,n,r){var u=or();return u=u===null?null:{parent:Oe._currentValue,pool:u},s.memoizedState={baseLanes:n,cachePool:u},t!==null&&En(s,null),pr(),Cc(s),t!==null&&ol(t,s,r,!0),null}function Vn(t,s){var n=s.ref;if(n===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(t===null||t.ref!==n)&&(s.flags|=4194816)}}function _r(t,s,n,r,u){return Pi(s),n=br(t,s,n,r,void 0,u),r=vr(),t!==null&&!Ne?(yr(t,s,u),Yt(t,s,u)):(ce&&r&&er(s),s.flags|=1,Ue(t,s,n,u),s.child)}function Bc(t,s,n,r,u,c){return Pi(s),s.updateQueue=null,n=_h(s,r,n,u),Oh(t),r=vr(),t!==null&&!Ne?(yr(t,s,c),Yt(t,s,c)):(ce&&r&&er(s),s.flags|=1,Ue(t,s,n,c),s.child)}function Nc(t,s,n,r,u){if(Pi(s),s.stateNode===null){var c=ms,g=n.contextType;typeof g=="object"&&g!==null&&(c=Ye(g)),c=new n(r,c),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=kr,s.stateNode=c,c._reactInternals=s,c=s.stateNode,c.props=r,c.state=s.memoizedState,c.refs={},hr(s),g=n.contextType,c.context=typeof g=="object"&&g!==null?Ye(g):ms,c.state=s.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(Hr(s,n,g,r),c.state=s.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(g=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),g!==c.state&&kr.enqueueReplaceState(c,c.state,null),ml(s,r,c,u),pl(),c.state=s.memoizedState),typeof c.componentDidMount=="function"&&(s.flags|=4194308),r=!0}else if(t===null){c=s.stateNode;var v=s.memoizedProps,C=Yi(n,v);c.props=C;var x=c.context,L=n.contextType;g=ms,typeof L=="object"&&L!==null&&(g=Ye(L));var O=n.getDerivedStateFromProps;L=typeof O=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=s.pendingProps!==v,L||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||x!==g)&&Rc(s,c,r,g),ai=!1;var D=s.memoizedState;c.state=D,ml(s,r,c,u),pl(),x=s.memoizedState,v||D!==x||ai?(typeof O=="function"&&(Hr(s,n,O,r),x=s.memoizedState),(C=ai||Ec(s,n,C,r,D,x,g))?(L||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(s.flags|=4194308)):(typeof c.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=x),c.props=r,c.state=x,c.context=g,r=C):(typeof c.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{c=s.stateNode,cr(t,s),g=s.memoizedProps,L=Yi(n,g),c.props=L,O=s.pendingProps,D=c.context,x=n.contextType,C=ms,typeof x=="object"&&x!==null&&(C=Ye(x)),v=n.getDerivedStateFromProps,(x=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==O||D!==C)&&Rc(s,c,r,C),ai=!1,D=s.memoizedState,c.state=D,ml(s,r,c,u),pl();var z=s.memoizedState;g!==O||D!==z||ai||t!==null&&t.dependencies!==null&&wn(t.dependencies)?(typeof v=="function"&&(Hr(s,n,v,r),z=s.memoizedState),(L=ai||Ec(s,n,L,r,D,z,C)||t!==null&&t.dependencies!==null&&wn(t.dependencies))?(x||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,z,C),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,z,C)),typeof c.componentDidUpdate=="function"&&(s.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(s.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=z),c.props=r,c.state=z,c.context=C,r=L):(typeof c.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(s.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(s.flags|=1024),r=!1)}return c=r,Vn(t,s),r=(s.flags&128)!==0,c||r?(c=s.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:c.render(),s.flags|=1,t!==null&&r?(s.child=Ss(s,t.child,null,u),s.child=Ss(s,null,n,u)):Ue(t,s,n,u),s.memoizedState=c.state,t=s.child):t=Yt(t,s,u),t}function Fc(t,s,n,r){return al(),s.flags|=256,Ue(t,s,n,r),s.child}var Br={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nr(t){return{baseLanes:t,cachePool:Sh()}}function Fr(t,s,n){return t=t!==null?t.childLanes&~n:0,s&&(t|=Et),t}function Vc(t,s,n){var r=s.pendingProps,u=!1,c=(s.flags&128)!==0,g;if((g=c)||(g=t!==null&&t.memoizedState===null?!1:(_e.current&2)!==0),g&&(u=!0,s.flags&=-129),g=(s.flags&32)!==0,s.flags&=-33,t===null){if(ce){if(u?hi(s):ci(),ce){var v=xe,C;if(C=v){e:{for(C=v,v=At;C.nodeType!==8;){if(!v){v=null;break e}if(C=xt(C.nextSibling),C===null){v=null;break e}}v=C}v!==null?(s.memoizedState={dehydrated:v,treeContext:Fi!==null?{id:Ut,overflow:Gt}:null,retryLane:536870912,hydrationErrors:null},C=rt(18,null,null,0),C.stateNode=v,C.return=s,s.child=C,Ze=s,xe=null,C=!0):C=!1}C||Gi(s)}if(v=s.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Eo(v)?s.lanes=32:s.lanes=536870912,null;qt(s)}return v=r.children,r=r.fallback,u?(ci(),u=s.mode,v=Un({mode:"hidden",children:v},u),r=Ni(r,u,n,null),v.return=s,r.return=s,v.sibling=r,s.child=v,u=s.child,u.memoizedState=Nr(n),u.childLanes=Fr(t,g,n),s.memoizedState=Br,r):(hi(s),Vr(s,v))}if(C=t.memoizedState,C!==null&&(v=C.dehydrated,v!==null)){if(c)s.flags&256?(hi(s),s.flags&=-257,s=Ur(t,s,n)):s.memoizedState!==null?(ci(),s.child=t.child,s.flags|=128,s=null):(ci(),u=r.fallback,v=s.mode,r=Un({mode:"visible",children:r.children},v),u=Ni(u,v,n,null),u.flags|=2,r.return=s,u.return=s,r.sibling=u,s.child=r,Ss(s,t.child,null,n),r=s.child,r.memoizedState=Nr(n),r.childLanes=Fr(t,g,n),s.memoizedState=Br,s=u);else if(hi(s),Eo(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var x=g.dgst;g=x,r=Error(l(419)),r.stack="",r.digest=g,rl({value:r,source:null,stack:null}),s=Ur(t,s,n)}else if(Ne||ol(t,s,n,!1),g=(n&t.childLanes)!==0,Ne||g){if(g=Re,g!==null&&(r=n&-n,r=(r&42)!==0?1:Ea(r),r=(r&(g.suspendedLanes|n))!==0?0:r,r!==0&&r!==C.retryLane))throw C.retryLane=r,ps(t,r),dt(g,t,r),Lc;v.data==="$?"||lo(),s=Ur(t,s,n)}else v.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=C.treeContext,xe=xt(v.nextSibling),Ze=s,ce=!0,Ui=null,At=!1,t!==null&&(yt[wt++]=Ut,yt[wt++]=Gt,yt[wt++]=Fi,Ut=t.id,Gt=t.overflow,Fi=s),s=Vr(s,r.children),s.flags|=4096);return s}return u?(ci(),u=r.fallback,v=s.mode,C=t.child,x=C.sibling,r=Vt(C,{mode:"hidden",children:r.children}),r.subtreeFlags=C.subtreeFlags&65011712,x!==null?u=Vt(x,u):(u=Ni(u,v,n,null),u.flags|=2),u.return=s,r.return=s,r.sibling=u,s.child=r,r=u,u=s.child,v=t.child.memoizedState,v===null?v=Nr(n):(C=v.cachePool,C!==null?(x=Oe._currentValue,C=C.parent!==x?{parent:x,pool:x}:C):C=Sh(),v={baseLanes:v.baseLanes|n,cachePool:C}),u.memoizedState=v,u.childLanes=Fr(t,g,n),s.memoizedState=Br,r):(hi(s),n=t.child,t=n.sibling,n=Vt(n,{mode:"visible",children:r.children}),n.return=s,n.sibling=null,t!==null&&(g=s.deletions,g===null?(s.deletions=[t],s.flags|=16):g.push(t)),s.child=n,s.memoizedState=null,n)}function Vr(t,s){return s=Un({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Un(t,s){return t=rt(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ur(t,s,n){return Ss(s,t.child,null,n),t=Vr(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Uc(t,s,n){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),lr(t.return,s,n)}function Gr(t,s,n,r,u){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:u}:(c.isBackwards=s,c.rendering=null,c.renderingStartTime=0,c.last=r,c.tail=n,c.tailMode=u)}function Gc(t,s,n){var r=s.pendingProps,u=r.revealOrder,c=r.tail;if(Ue(t,s,r.children,n),r=_e.current,(r&2)!==0)r=r&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uc(t,n,s);else if(t.tag===19)Uc(t,n,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(U(_e,r),u){case"forwards":for(n=s.child,u=null;n!==null;)t=n.alternate,t!==null&&Bn(t)===null&&(u=n),n=n.sibling;n=u,n===null?(u=s.child,s.child=null):(u=n.sibling,n.sibling=null),Gr(s,!1,u,n,c);break;case"backwards":for(n=null,u=s.child,s.child=null;u!==null;){if(t=u.alternate,t!==null&&Bn(t)===null){s.child=u;break}t=u.sibling,u.sibling=n,n=u,u=t}Gr(s,!0,n,null,c);break;case"together":Gr(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yt(t,s,n){if(t!==null&&(s.dependencies=t.dependencies),gi|=s.lanes,(n&s.childLanes)===0)if(t!==null){if(ol(t,s,n,!1),(n&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(l(153));if(s.child!==null){for(t=s.child,n=Vt(t,t.pendingProps),s.child=n,n.return=s;t.sibling!==null;)t=t.sibling,n=n.sibling=Vt(t,t.pendingProps),n.return=s;n.sibling=null}return s.child}function jr(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&wn(t)))}function vm(t,s,n){switch(s.tag){case 3:Te(s,s.stateNode.containerInfo),ni(s,Oe,t.memoizedState.cache),al();break;case 27:case 5:ba(s);break;case 4:Te(s,s.stateNode.containerInfo);break;case 10:ni(s,s.type,s.memoizedProps.value);break;case 13:var r=s.memoizedState;if(r!==null)return r.dehydrated!==null?(hi(s),s.flags|=128,null):(n&s.child.childLanes)!==0?Vc(t,s,n):(hi(s),t=Yt(t,s,n),t!==null?t.sibling:null);hi(s);break;case 19:var u=(t.flags&128)!==0;if(r=(n&s.childLanes)!==0,r||(ol(t,s,n,!1),r=(n&s.childLanes)!==0),u){if(r)return Gc(t,s,n);s.flags|=128}if(u=s.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),U(_e,_e.current),r)break;return null;case 22:case 23:return s.lanes=0,Oc(t,s,n);case 24:ni(s,Oe,t.memoizedState.cache)}return Yt(t,s,n)}function jc(t,s,n){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ne=!0;else{if(!jr(t,n)&&(s.flags&128)===0)return Ne=!1,vm(t,s,n);Ne=(t.flags&131072)!==0}else Ne=!1,ce&&(s.flags&1048576)!==0&&vh(s,yn,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var r=s.elementType,u=r._init;if(r=u(r._payload),s.type=r,typeof r=="function")Ja(r)?(t=Yi(r,t),s.tag=1,s=Nc(null,s,r,t,n)):(s.tag=0,s=_r(null,s,r,t,n));else{if(r!=null){if(u=r.$$typeof,u===oe){s.tag=11,s=Ac(null,s,r,t,n);break e}else if(u===Ae){s.tag=14,s=Hc(null,s,r,t,n);break e}}throw s=zt(r)||r,Error(l(306,s,""))}}return s;case 0:return _r(t,s,s.type,s.pendingProps,n);case 1:return r=s.type,u=Yi(r,s.pendingProps),Nc(t,s,r,u,n);case 3:e:{if(Te(s,s.stateNode.containerInfo),t===null)throw Error(l(387));r=s.pendingProps;var c=s.memoizedState;u=c.element,cr(t,s),ml(s,r,null,n);var g=s.memoizedState;if(r=g.cache,ni(s,Oe,r),r!==c.cache&&nr(s,[Oe],n,!0),pl(),r=g.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:g.cache},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){s=Fc(t,s,r,n);break e}else if(r!==u){u=bt(Error(l(424)),s),rl(u),s=Fc(t,s,r,n);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(xe=xt(t.firstChild),Ze=s,ce=!0,Ui=null,At=!0,n=wc(s,null,r,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(al(),r===u){s=Yt(t,s,n);break e}Ue(t,s,r,n)}s=s.child}return s;case 26:return Vn(t,s),t===null?(n=Yd(s.type,null,s.pendingProps,null))?s.memoizedState=n:ce||(n=s.type,t=s.pendingProps,r=ea(I.current).createElement(n),r[qe]=s,r[Je]=t,je(r,n,t),Be(r),s.stateNode=r):s.memoizedState=Yd(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ba(s),t===null&&ce&&(r=s.stateNode=Pd(s.type,s.pendingProps,I.current),Ze=s,At=!0,u=xe,wi(s.type)?(Ro=u,xe=xt(r.firstChild)):xe=u),Ue(t,s,s.pendingProps.children,n),Vn(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ce&&((u=r=xe)&&(r=Ym(r,s.type,s.pendingProps,At),r!==null?(s.stateNode=r,Ze=s,xe=xt(r.firstChild),At=!1,u=!0):u=!1),u||Gi(s)),ba(s),u=s.type,c=s.pendingProps,g=t!==null?t.memoizedProps:null,r=c.children,yo(u,c)?r=null:g!==null&&yo(u,g)&&(s.flags|=32),s.memoizedState!==null&&(u=br(t,s,hm,null,null,n),Nl._currentValue=u),Vn(t,s),Ue(t,s,r,n),s.child;case 6:return t===null&&ce&&((t=n=xe)&&(n=Xm(n,s.pendingProps,At),n!==null?(s.stateNode=n,Ze=s,xe=null,t=!0):t=!1),t||Gi(s)),null;case 13:return Vc(t,s,n);case 4:return Te(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=Ss(s,null,r,n):Ue(t,s,r,n),s.child;case 11:return Ac(t,s,s.type,s.pendingProps,n);case 7:return Ue(t,s,s.pendingProps,n),s.child;case 8:return Ue(t,s,s.pendingProps.children,n),s.child;case 12:return Ue(t,s,s.pendingProps.children,n),s.child;case 10:return r=s.pendingProps,ni(s,s.type,r.value),Ue(t,s,r.children,n),s.child;case 9:return u=s.type._context,r=s.pendingProps.children,Pi(s),u=Ye(u),r=r(u),s.flags|=1,Ue(t,s,r,n),s.child;case 14:return Hc(t,s,s.type,s.pendingProps,n);case 15:return kc(t,s,s.type,s.pendingProps,n);case 19:return Gc(t,s,n);case 31:return r=s.pendingProps,n=s.mode,r={mode:r.mode,children:r.children},t===null?(n=Un(r,n),n.ref=s.ref,s.child=n,n.return=s,s=n):(n=Vt(t.child,r),n.ref=s.ref,s.child=n,n.return=s,s=n),s;case 22:return Oc(t,s,n);case 24:return Pi(s),r=Ye(Oe),t===null?(u=or(),u===null&&(u=Re,c=ar(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=n),u=c),s.memoizedState={parent:r,cache:u},hr(s),ni(s,Oe,u)):((t.lanes&n)!==0&&(cr(t,s),ml(s,null,null,n),pl()),u=t.memoizedState,c=s.memoizedState,u.parent!==r?(u={parent:r,cache:r},s.memoizedState=u,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=u),ni(s,Oe,r)):(r=c.cache,ni(s,Oe,r),r!==u.cache&&nr(s,[Oe],n,!0))),Ue(t,s,s.pendingProps.children,n),s.child;case 29:throw s.pendingProps}throw Error(l(156,s.tag))}function Xt(t){t.flags|=4}function Pc(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jd(s)){if(s=Ct.current,s!==null&&((re&4194048)===re?Ht!==null:(re&62914560)!==re&&(re&536870912)===0||s!==Ht))throw dl=ur,Mh;t.flags|=8192}}function Gn(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Cu():536870912,t.lanes|=s,zs|=s)}function El(t,s){if(!ce)switch(t.tailMode){case"hidden":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Me(t){var s=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(s)for(var u=t.child;u!==null;)n|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)n|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=r,t.childLanes=n,s}function ym(t,s,n){var r=s.pendingProps;switch(tr(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(s),null;case 1:return Me(s),null;case 3:return n=s.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Pt(Oe),ti(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(nl(s)?Xt(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ch())),Me(s),null;case 26:return n=s.memoizedState,t===null?(Xt(s),n!==null?(Me(s),Pc(s,n)):(Me(s),s.flags&=-16777217)):n?n!==t.memoizedState?(Xt(s),Me(s),Pc(s,n)):(Me(s),s.flags&=-16777217):(t.memoizedProps!==r&&Xt(s),Me(s),s.flags&=-16777217),null;case 27:Jl(s),n=I.current;var u=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==r&&Xt(s);else{if(!r){if(s.stateNode===null)throw Error(l(166));return Me(s),null}t=Y.current,nl(s)?yh(s):(t=Pd(u,r,n),s.stateNode=t,Xt(s))}return Me(s),null;case 5:if(Jl(s),n=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&Xt(s);else{if(!r){if(s.stateNode===null)throw Error(l(166));return Me(s),null}if(t=Y.current,nl(s))yh(s);else{switch(u=ea(I.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?u.createElement("select",{is:r.is}):u.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?u.createElement(n,{is:r.is}):u.createElement(n)}}t[qe]=s,t[Je]=r;e:for(u=s.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s.stateNode=t;e:switch(je(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xt(s)}}return Me(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==r&&Xt(s);else{if(typeof r!="string"&&s.stateNode===null)throw Error(l(166));if(t=I.current,nl(s)){if(t=s.stateNode,n=s.memoizedProps,r=null,u=Ze,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}t[qe]=s,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Bd(t.nodeValue,n)),t||Gi(s)}else t=ea(t).createTextNode(r),t[qe]=s,s.stateNode=t}return Me(s),null;case 13:if(r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=nl(s),r!==null&&r.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=s.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[qe]=s}else al(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Me(s),u=!1}else u=Ch(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return s.flags&256?(qt(s),s):(qt(s),null)}if(qt(s),(s.flags&128)!==0)return s.lanes=n,s;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=s.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool);var c=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==u&&(r.flags|=2048)}return n!==t&&n&&(s.child.flags|=8192),Gn(s,s.updateQueue),Me(s),null;case 4:return ti(),t===null&&po(s.stateNode.containerInfo),Me(s),null;case 10:return Pt(s.type),Me(s),null;case 19:if(j(_e),u=s.memoizedState,u===null)return Me(s),null;if(r=(s.flags&128)!==0,c=u.rendering,c===null)if(r)El(u,!1);else{if(De!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(c=Bn(t),c!==null){for(s.flags|=128,El(u,!1),t=c.updateQueue,s.updateQueue=t,Gn(s,t),s.subtreeFlags=0,t=n,n=s.child;n!==null;)bh(n,t),n=n.sibling;return U(_e,_e.current&1|2),s.child}t=t.sibling}u.tail!==null&&Lt()>Wn&&(s.flags|=128,r=!0,El(u,!1),s.lanes=4194304)}else{if(!r)if(t=Bn(c),t!==null){if(s.flags|=128,r=!0,t=t.updateQueue,s.updateQueue=t,Gn(s,t),El(u,!0),u.tail===null&&u.tailMode==="hidden"&&!c.alternate&&!ce)return Me(s),null}else 2*Lt()-u.renderingStartTime>Wn&&n!==536870912&&(s.flags|=128,r=!0,El(u,!1),s.lanes=4194304);u.isBackwards?(c.sibling=s.child,s.child=c):(t=u.last,t!==null?t.sibling=c:s.child=c,u.last=c)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Lt(),s.sibling=null,t=_e.current,U(_e,r?t&1|2:t&1),s):(Me(s),null);case 22:case 23:return qt(s),mr(),r=s.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(s.flags|=8192):r&&(s.flags|=8192),r?(n&536870912)!==0&&(s.flags&128)===0&&(Me(s),s.subtreeFlags&6&&(s.flags|=8192)):Me(s),n=s.updateQueue,n!==null&&Gn(s,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==n&&(s.flags|=2048),t!==null&&j(Wi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),s.memoizedState.cache!==n&&(s.flags|=2048),Pt(Oe),Me(s),null;case 25:return null;case 30:return null}throw Error(l(156,s.tag))}function wm(t,s){switch(tr(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Pt(Oe),ti(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Jl(s),null;case 13:if(qt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(l(340));al()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return j(_e),null;case 4:return ti(),null;case 10:return Pt(s.type),null;case 22:case 23:return qt(s),mr(),t!==null&&j(Wi),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Pt(Oe),null;case 25:return null;default:return null}}function Wc(t,s){switch(tr(s),s.tag){case 3:Pt(Oe),ti();break;case 26:case 27:case 5:Jl(s);break;case 4:ti();break;case 13:qt(s);break;case 19:j(_e);break;case 10:Pt(s.type);break;case 22:case 23:qt(s),mr(),t!==null&&j(Wi);break;case 24:Pt(Oe)}}function Rl(t,s){try{var n=s.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var u=r.next;n=u;do{if((n.tag&t)===t){r=void 0;var c=n.create,g=n.inst;r=c(),g.destroy=r}n=n.next}while(n!==u)}}catch(v){Ce(s,s.return,v)}}function di(t,s,n){try{var r=s.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var c=u.next;r=c;do{if((r.tag&t)===t){var g=r.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,u=s;var C=n,x=v;try{x()}catch(L){Ce(u,C,L)}}}r=r.next}while(r!==c)}}catch(L){Ce(s,s.return,L)}}function qc(t){var s=t.updateQueue;if(s!==null){var n=t.stateNode;try{Hh(s,n)}catch(r){Ce(t,t.return,r)}}}function Yc(t,s,n){n.props=Yi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ce(t,s,r)}}function Tl(t,s){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(u){Ce(t,s,u)}}function kt(t,s){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(u){Ce(t,s,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Ce(t,s,u)}else n.current=null}function Xc(t){var s=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(u){Ce(t,t.return,u)}}function Pr(t,s,n){try{var r=t.stateNode;Gm(r,t.type,n,s),r[Je]=s}catch(u){Ce(t,t.return,u)}}function Qc(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wi(t.type)||t.tag===4}function Wr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qr(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,s):(s=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.appendChild(t),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=$n));else if(r!==4&&(r===27&&wi(t.type)&&(n=t.stateNode,s=null),t=t.child,t!==null))for(qr(t,s,n),t=t.sibling;t!==null;)qr(t,s,n),t=t.sibling}function jn(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?n.insertBefore(t,s):n.appendChild(t);else if(r!==4&&(r===27&&wi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(jn(t,s,n),t=t.sibling;t!==null;)jn(t,s,n),t=t.sibling}function Zc(t){var s=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,u=s.attributes;u.length;)s.removeAttributeNode(u[0]);je(s,r,n),s[qe]=t,s[Je]=n}catch(c){Ce(t,t.return,c)}}var Qt=!1,Le=!1,Yr=!1,Kc=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Cm(t,s){if(t=t.containerInfo,bo=aa,t=rh(t),Wa(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var u=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var g=0,v=-1,C=-1,x=0,L=0,O=t,D=null;t:for(;;){for(var z;O!==n||u!==0&&O.nodeType!==3||(v=g+u),O!==c||r!==0&&O.nodeType!==3||(C=g+r),O.nodeType===3&&(g+=O.nodeValue.length),(z=O.firstChild)!==null;)D=O,O=z;for(;;){if(O===t)break t;if(D===n&&++x===u&&(v=g),D===c&&++L===r&&(C=g),(z=O.nextSibling)!==null)break;O=D,D=O.parentNode}O=z}n=v===-1||C===-1?null:{start:v,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(vo={focusedElem:t,selectionRange:n},aa=!1,Fe=s;Fe!==null;)if(s=Fe,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,Fe=t;else for(;Fe!==null;){switch(s=Fe,c=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&c!==null){t=void 0,n=s,u=c.memoizedProps,c=c.memoizedState,r=n.stateNode;try{var K=Yi(n.type,u,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(K,c),r.__reactInternalSnapshotBeforeUpdate=t}catch(X){Ce(n,n.return,X)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,n=t.nodeType,n===9)Co(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Co(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=s.sibling,t!==null){t.return=s.return,Fe=t;break}Fe=s.return}}function Jc(t,s,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:fi(t,n),r&4&&Rl(5,n);break;case 1:if(fi(t,n),r&4)if(t=n.stateNode,s===null)try{t.componentDidMount()}catch(g){Ce(n,n.return,g)}else{var u=Yi(n.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(u,s,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ce(n,n.return,g)}}r&64&&qc(n),r&512&&Tl(n,n.return);break;case 3:if(fi(t,n),r&64&&(t=n.updateQueue,t!==null)){if(s=null,n.child!==null)switch(n.child.tag){case 27:case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}try{Hh(t,s)}catch(g){Ce(n,n.return,g)}}break;case 27:s===null&&r&4&&Zc(n);case 26:case 5:fi(t,n),s===null&&r&4&&Xc(n),r&512&&Tl(n,n.return);break;case 12:fi(t,n);break;case 13:fi(t,n),r&4&&ed(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Lm.bind(null,n),Qm(t,n))));break;case 22:if(r=n.memoizedState!==null||Qt,!r){s=s!==null&&s.memoizedState!==null||Le,u=Qt;var c=Le;Qt=r,(Le=s)&&!c?pi(t,n,(n.subtreeFlags&8772)!==0):fi(t,n),Qt=u,Le=c}break;case 30:break;default:fi(t,n)}}function Ic(t){var s=t.alternate;s!==null&&(t.alternate=null,Ic(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Sa(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Se=null,et=!1;function Zt(t,s,n){for(n=n.child;n!==null;)$c(t,s,n),n=n.sibling}function $c(t,s,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(qs,n)}catch{}switch(n.tag){case 26:Le||kt(n,s),Zt(t,s,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Le||kt(n,s);var r=Se,u=et;wi(n.type)&&(Se=n.stateNode,et=!1),Zt(t,s,n),kl(n.stateNode),Se=r,et=u;break;case 5:Le||kt(n,s);case 6:if(r=Se,u=et,Se=null,Zt(t,s,n),Se=r,et=u,Se!==null)if(et)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(n.stateNode)}catch(c){Ce(n,s,c)}else try{Se.removeChild(n.stateNode)}catch(c){Ce(n,s,c)}break;case 18:Se!==null&&(et?(t=Se,Gd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Gl(t)):Gd(Se,n.stateNode));break;case 4:r=Se,u=et,Se=n.stateNode.containerInfo,et=!0,Zt(t,s,n),Se=r,et=u;break;case 0:case 11:case 14:case 15:Le||di(2,n,s),Le||di(4,n,s),Zt(t,s,n);break;case 1:Le||(kt(n,s),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Yc(n,s,r)),Zt(t,s,n);break;case 21:Zt(t,s,n);break;case 22:Le=(r=Le)||n.memoizedState!==null,Zt(t,s,n),Le=r;break;default:Zt(t,s,n)}}function ed(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gl(t)}catch(n){Ce(s,s.return,n)}}function Em(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Kc),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Kc),s;default:throw Error(l(435,t.tag))}}function Xr(t,s){var n=Em(t);s.forEach(function(r){var u=Am.bind(null,t,r);n.has(r)||(n.add(r),r.then(u,u))})}function ot(t,s){var n=s.deletions;if(n!==null)for(var r=0;r<n.length;r++){var u=n[r],c=t,g=s,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(wi(v.type)){Se=v.stateNode,et=!1;break e}break;case 5:Se=v.stateNode,et=!1;break e;case 3:case 4:Se=v.stateNode.containerInfo,et=!0;break e}v=v.return}if(Se===null)throw Error(l(160));$c(c,g,u),Se=null,et=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)td(s,t),s=s.sibling}var Mt=null;function td(t,s){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ot(s,t),ut(t),r&4&&(di(3,t,t.return),Rl(3,t),di(5,t,t.return));break;case 1:ot(s,t),ut(t),r&512&&(Le||n===null||kt(n,n.return)),r&64&&Qt&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var u=Mt;if(ot(s,t),ut(t),r&512&&(Le||n===null||kt(n,n.return)),r&4){var c=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":c=u.getElementsByTagName("title")[0],(!c||c[Qs]||c[qe]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(r),u.head.insertBefore(c,u.querySelector("head > title"))),je(c,r,n),c[qe]=t,Be(c),r=c;break e;case"link":var g=Zd("link","href",u).get(r+(n.href||""));if(g){for(var v=0;v<g.length;v++)if(c=g[v],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(v,1);break t}}c=u.createElement(r),je(c,r,n),u.head.appendChild(c);break;case"meta":if(g=Zd("meta","content",u).get(r+(n.content||""))){for(v=0;v<g.length;v++)if(c=g[v],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(v,1);break t}}c=u.createElement(r),je(c,r,n),u.head.appendChild(c);break;default:throw Error(l(468,r))}c[qe]=t,Be(c),r=c}t.stateNode=r}else Kd(u,t.type,t.stateNode);else t.stateNode=Qd(u,r,t.memoizedProps);else c!==r?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,r===null?Kd(u,t.type,t.stateNode):Qd(u,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Pr(t,t.memoizedProps,n.memoizedProps)}break;case 27:ot(s,t),ut(t),r&512&&(Le||n===null||kt(n,n.return)),n!==null&&r&4&&Pr(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ot(s,t),ut(t),r&512&&(Le||n===null||kt(n,n.return)),t.flags&32){u=t.stateNode;try{rs(u,"")}catch(z){Ce(t,t.return,z)}}r&4&&t.stateNode!=null&&(u=t.memoizedProps,Pr(t,u,n!==null?n.memoizedProps:u)),r&1024&&(Yr=!0);break;case 6:if(ot(s,t),ut(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(z){Ce(t,t.return,z)}}break;case 3:if(sa=null,u=Mt,Mt=ta(s.containerInfo),ot(s,t),Mt=u,ut(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gl(s.containerInfo)}catch(z){Ce(t,t.return,z)}Yr&&(Yr=!1,id(t));break;case 4:r=Mt,Mt=ta(t.stateNode.containerInfo),ot(s,t),ut(t),Mt=r;break;case 12:ot(s,t),ut(t);break;case 13:ot(s,t),ut(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($r=Lt()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Xr(t,r)));break;case 22:u=t.memoizedState!==null;var C=n!==null&&n.memoizedState!==null,x=Qt,L=Le;if(Qt=x||u,Le=L||C,ot(s,t),Le=L,Qt=x,ut(t),r&8192)e:for(s=t.stateNode,s._visibility=u?s._visibility&-2:s._visibility|1,u&&(n===null||C||Qt||Le||Xi(t)),n=null,s=t;;){if(s.tag===5||s.tag===26){if(n===null){C=n=s;try{if(c=C.stateNode,u)g=c.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=C.stateNode;var O=C.memoizedProps.style,D=O!=null&&O.hasOwnProperty("display")?O.display:null;v.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(z){Ce(C,C.return,z)}}}else if(s.tag===6){if(n===null){C=s;try{C.stateNode.nodeValue=u?"":C.memoizedProps}catch(z){Ce(C,C.return,z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;n===s&&(n=null),s=s.return}n===s&&(n=null),s.sibling.return=s.return,s=s.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Xr(t,n))));break;case 19:ot(s,t),ut(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Xr(t,r)));break;case 30:break;case 21:break;default:ot(s,t),ut(t)}}function ut(t){var s=t.flags;if(s&2){try{for(var n,r=t.return;r!==null;){if(Qc(r)){n=r;break}r=r.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var u=n.stateNode,c=Wr(t);jn(t,c,u);break;case 5:var g=n.stateNode;n.flags&32&&(rs(g,""),n.flags&=-33);var v=Wr(t);jn(t,v,g);break;case 3:case 4:var C=n.stateNode.containerInfo,x=Wr(t);qr(t,x,C);break;default:throw Error(l(161))}}catch(L){Ce(t,t.return,L)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function id(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;id(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function fi(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Jc(t,s.alternate,s),s=s.sibling}function Xi(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:di(4,s,s.return),Xi(s);break;case 1:kt(s,s.return);var n=s.stateNode;typeof n.componentWillUnmount=="function"&&Yc(s,s.return,n),Xi(s);break;case 27:kl(s.stateNode);case 26:case 5:kt(s,s.return),Xi(s);break;case 22:s.memoizedState===null&&Xi(s);break;case 30:Xi(s);break;default:Xi(s)}t=t.sibling}}function pi(t,s,n){for(n=n&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var r=s.alternate,u=t,c=s,g=c.flags;switch(c.tag){case 0:case 11:case 15:pi(u,c,n),Rl(4,c);break;case 1:if(pi(u,c,n),r=c,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(x){Ce(r,r.return,x)}if(r=c,u=r.updateQueue,u!==null){var v=r.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)Ah(C[u],v)}catch(x){Ce(r,r.return,x)}}n&&g&64&&qc(c),Tl(c,c.return);break;case 27:Zc(c);case 26:case 5:pi(u,c,n),n&&r===null&&g&4&&Xc(c),Tl(c,c.return);break;case 12:pi(u,c,n);break;case 13:pi(u,c,n),n&&g&4&&ed(u,c);break;case 22:c.memoizedState===null&&pi(u,c,n),Tl(c,c.return);break;case 30:break;default:pi(u,c,n)}s=s.sibling}}function Qr(t,s){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ul(n))}function Zr(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ul(t))}function Ot(t,s,n,r){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sd(t,s,n,r),s=s.sibling}function sd(t,s,n,r){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Ot(t,s,n,r),u&2048&&Rl(9,s);break;case 1:Ot(t,s,n,r);break;case 3:Ot(t,s,n,r),u&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ul(t)));break;case 12:if(u&2048){Ot(t,s,n,r),t=s.stateNode;try{var c=s.memoizedProps,g=c.id,v=c.onPostCommit;typeof v=="function"&&v(g,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ce(s,s.return,C)}}else Ot(t,s,n,r);break;case 13:Ot(t,s,n,r);break;case 23:break;case 22:c=s.stateNode,g=s.alternate,s.memoizedState!==null?c._visibility&2?Ot(t,s,n,r):Sl(t,s):c._visibility&2?Ot(t,s,n,r):(c._visibility|=2,Ms(t,s,n,r,(s.subtreeFlags&10256)!==0)),u&2048&&Qr(g,s);break;case 24:Ot(t,s,n,r),u&2048&&Zr(s.alternate,s);break;default:Ot(t,s,n,r)}}function Ms(t,s,n,r,u){for(u=u&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var c=t,g=s,v=n,C=r,x=g.flags;switch(g.tag){case 0:case 11:case 15:Ms(c,g,v,C,u),Rl(8,g);break;case 23:break;case 22:var L=g.stateNode;g.memoizedState!==null?L._visibility&2?Ms(c,g,v,C,u):Sl(c,g):(L._visibility|=2,Ms(c,g,v,C,u)),u&&x&2048&&Qr(g.alternate,g);break;case 24:Ms(c,g,v,C,u),u&&x&2048&&Zr(g.alternate,g);break;default:Ms(c,g,v,C,u)}s=s.sibling}}function Sl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var n=t,r=s,u=r.flags;switch(r.tag){case 22:Sl(n,r),u&2048&&Qr(r.alternate,r);break;case 24:Sl(n,r),u&2048&&Zr(r.alternate,r);break;default:Sl(n,r)}s=s.sibling}}var Ml=8192;function xs(t){if(t.subtreeFlags&Ml)for(t=t.child;t!==null;)ld(t),t=t.sibling}function ld(t){switch(t.tag){case 26:xs(t),t.flags&Ml&&t.memoizedState!==null&&rg(Mt,t.memoizedState,t.memoizedProps);break;case 5:xs(t);break;case 3:case 4:var s=Mt;Mt=ta(t.stateNode.containerInfo),xs(t),Mt=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Ml,Ml=16777216,xs(t),Ml=s):xs(t));break;default:xs(t)}}function nd(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function xl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var n=0;n<s.length;n++){var r=s[n];Fe=r,rd(r,t)}nd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ad(t),t=t.sibling}function ad(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&di(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Pn(t)):xl(t);break;default:xl(t)}}function Pn(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var n=0;n<s.length;n++){var r=s[n];Fe=r,rd(r,t)}nd(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:di(8,s,s.return),Pn(s);break;case 22:n=s.stateNode,n._visibility&2&&(n._visibility&=-3,Pn(s));break;default:Pn(s)}t=t.sibling}}function rd(t,s){for(;Fe!==null;){var n=Fe;switch(n.tag){case 0:case 11:case 15:di(8,n,s);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ul(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Fe=r;else e:for(n=t;Fe!==null;){r=Fe;var u=r.sibling,c=r.return;if(Ic(r),r===n){Fe=null;break e}if(u!==null){u.return=c,Fe=u;break e}Fe=c}}}var Rm={getCacheForType:function(t){var s=Ye(Oe),n=s.data.get(t);return n===void 0&&(n=t(),s.data.set(t,n)),n}},Tm=typeof WeakMap=="function"?WeakMap:Map,fe=0,Re=null,ne=null,re=0,pe=0,ht=null,mi=!1,Ds=!1,Kr=!1,Kt=0,De=0,gi=0,Qi=0,Jr=0,Et=0,zs=0,Dl=null,tt=null,Ir=!1,$r=0,Wn=1/0,qn=null,bi=null,Ge=0,vi=null,Ls=null,As=0,eo=0,to=null,od=null,zl=0,io=null;function ct(){if((fe&2)!==0&&re!==0)return re&-re;if(A.T!==null){var t=vs;return t!==0?t:uo()}return Tu()}function ud(){Et===0&&(Et=(re&536870912)===0||ce?wu():536870912);var t=Ct.current;return t!==null&&(t.flags|=32),Et}function dt(t,s,n){(t===Re&&(pe===2||pe===9)||t.cancelPendingCommit!==null)&&(Hs(t,0),yi(t,re,Et,!1)),Xs(t,n),((fe&2)===0||t!==Re)&&(t===Re&&((fe&2)===0&&(Qi|=n),De===4&&yi(t,re,Et,!1)),_t(t))}function hd(t,s,n){if((fe&6)!==0)throw Error(l(327));var r=!n&&(s&124)===0&&(s&t.expiredLanes)===0||Ys(t,s),u=r?xm(t,s):no(t,s,!0),c=r;do{if(u===0){Ds&&!r&&yi(t,s,0,!1);break}else{if(n=t.current.alternate,c&&!Sm(n)){u=no(t,s,!1),c=!1;continue}if(u===2){if(c=s,t.errorRecoveryDisabledLanes&c)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){s=g;e:{var v=t;u=Dl;var C=v.current.memoizedState.isDehydrated;if(C&&(Hs(v,g).flags|=256),g=no(v,g,!1),g!==2){if(Kr&&!C){v.errorRecoveryDisabledLanes|=c,Qi|=c,u=4;break e}c=tt,tt=u,c!==null&&(tt===null?tt=c:tt.push.apply(tt,c))}u=g}if(c=!1,u!==2)continue}}if(u===1){Hs(t,0),yi(t,s,0,!0);break}e:{switch(r=t,c=u,c){case 0:case 1:throw Error(l(345));case 4:if((s&4194048)!==s)break;case 6:yi(r,s,Et,!mi);break e;case 2:tt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((s&62914560)===s&&(u=$r+300-Lt(),10<u)){if(yi(r,s,Et,!mi),tn(r,0,!0)!==0)break e;r.timeoutHandle=Vd(cd.bind(null,r,n,tt,qn,Ir,s,Et,Qi,zs,mi,c,2,-0,0),u);break e}cd(r,n,tt,qn,Ir,s,Et,Qi,zs,mi,c,0,-0,0)}}break}while(!0);_t(t)}function cd(t,s,n,r,u,c,g,v,C,x,L,O,D,z){if(t.timeoutHandle=-1,O=s.subtreeFlags,(O&8192||(O&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:ag},ld(s),O=og(),O!==null)){t.cancelPendingCommit=O(vd.bind(null,t,s,c,n,r,u,g,v,C,L,1,D,z)),yi(t,c,g,!x);return}vd(t,s,c,n,r,u,g,v,C)}function Sm(t){for(var s=t;;){var n=s.tag;if((n===0||n===11||n===15)&&s.flags&16384&&(n=s.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var u=n[r],c=u.getSnapshot;u=u.value;try{if(!at(c(),u))return!1}catch{return!1}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yi(t,s,n,r){s&=~Jr,s&=~Qi,t.suspendedLanes|=s,t.pingedLanes&=~s,r&&(t.warmLanes|=s),r=t.expirationTimes;for(var u=s;0<u;){var c=31-nt(u),g=1<<c;r[c]=-1,u&=~g}n!==0&&Eu(t,n,s)}function Yn(){return(fe&6)===0?(Ll(0),!1):!0}function so(){if(ne!==null){if(pe===0)var t=ne.return;else t=ne,jt=ji=null,wr(t),Ts=null,wl=0,t=ne;for(;t!==null;)Wc(t.alternate,t),t=t.return;ne=null}}function Hs(t,s){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Pm(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),so(),Re=t,ne=n=Vt(t.current,null),re=s,pe=0,ht=null,mi=!1,Ds=Ys(t,s),Kr=!1,zs=Et=Jr=Qi=gi=De=0,tt=Dl=null,Ir=!1,(s&8)!==0&&(s|=s&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=s;0<r;){var u=31-nt(r),c=1<<u;s|=t[u],r&=~c}return Kt=s,pn(),n}function dd(t,s){se=null,A.H=kn,s===cl||s===Rn?(s=zh(),pe=3):s===Mh?(s=zh(),pe=4):pe=s===Lc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ht=s,ne===null&&(De=1,Fn(t,bt(s,t.current)))}function fd(){var t=A.H;return A.H=kn,t===null?kn:t}function pd(){var t=A.A;return A.A=Rm,t}function lo(){De=4,mi||(re&4194048)!==re&&Ct.current!==null||(Ds=!0),(gi&134217727)===0&&(Qi&134217727)===0||Re===null||yi(Re,re,Et,!1)}function no(t,s,n){var r=fe;fe|=2;var u=fd(),c=pd();(Re!==t||re!==s)&&(qn=null,Hs(t,s)),s=!1;var g=De;e:do try{if(pe!==0&&ne!==null){var v=ne,C=ht;switch(pe){case 8:so(),g=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(s=!0);var x=pe;if(pe=0,ht=null,ks(t,v,C,x),n&&Ds){g=0;break e}break;default:x=pe,pe=0,ht=null,ks(t,v,C,x)}}Mm(),g=De;break}catch(L){dd(t,L)}while(!0);return s&&t.shellSuspendCounter++,jt=ji=null,fe=r,A.H=u,A.A=c,ne===null&&(Re=null,re=0,pn()),g}function Mm(){for(;ne!==null;)md(ne)}function xm(t,s){var n=fe;fe|=2;var r=fd(),u=pd();Re!==t||re!==s?(qn=null,Wn=Lt()+500,Hs(t,s)):Ds=Ys(t,s);e:do try{if(pe!==0&&ne!==null){s=ne;var c=ht;t:switch(pe){case 1:pe=0,ht=null,ks(t,s,c,1);break;case 2:case 9:if(xh(c)){pe=0,ht=null,gd(s);break}s=function(){pe!==2&&pe!==9||Re!==t||(pe=7),_t(t)},c.then(s,s);break e;case 3:pe=7;break e;case 4:pe=5;break e;case 7:xh(c)?(pe=0,ht=null,gd(s)):(pe=0,ht=null,ks(t,s,c,7));break;case 5:var g=null;switch(ne.tag){case 26:g=ne.memoizedState;case 5:case 27:var v=ne;if(!g||Jd(g)){pe=0,ht=null;var C=v.sibling;if(C!==null)ne=C;else{var x=v.return;x!==null?(ne=x,Xn(x)):ne=null}break t}}pe=0,ht=null,ks(t,s,c,5);break;case 6:pe=0,ht=null,ks(t,s,c,6);break;case 8:so(),De=6;break e;default:throw Error(l(462))}}Dm();break}catch(L){dd(t,L)}while(!0);return jt=ji=null,A.H=r,A.A=u,fe=n,ne!==null?0:(Re=null,re=0,pn(),De)}function Dm(){for(;ne!==null&&!Kf();)md(ne)}function md(t){var s=jc(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,s===null?Xn(t):ne=s}function gd(t){var s=t,n=s.alternate;switch(s.tag){case 15:case 0:s=Bc(n,s,s.pendingProps,s.type,void 0,re);break;case 11:s=Bc(n,s,s.pendingProps,s.type.render,s.ref,re);break;case 5:wr(s);default:Wc(n,s),s=ne=bh(s,Kt),s=jc(n,s,Kt)}t.memoizedProps=t.pendingProps,s===null?Xn(t):ne=s}function ks(t,s,n,r){jt=ji=null,wr(s),Ts=null,wl=0;var u=s.return;try{if(bm(t,u,s,n,re)){De=1,Fn(t,bt(n,t.current)),ne=null;return}}catch(c){if(u!==null)throw ne=u,c;De=1,Fn(t,bt(n,t.current)),ne=null;return}s.flags&32768?(ce||r===1?t=!0:Ds||(re&536870912)!==0?t=!1:(mi=t=!0,(r===2||r===9||r===3||r===6)&&(r=Ct.current,r!==null&&r.tag===13&&(r.flags|=16384))),bd(s,t)):Xn(s)}function Xn(t){var s=t;do{if((s.flags&32768)!==0){bd(s,mi);return}t=s.return;var n=ym(s.alternate,s,Kt);if(n!==null){ne=n;return}if(s=s.sibling,s!==null){ne=s;return}ne=s=t}while(s!==null);De===0&&(De=5)}function bd(t,s){do{var n=wm(t.alternate,t);if(n!==null){n.flags&=32767,ne=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!s&&(t=t.sibling,t!==null)){ne=t;return}ne=t=n}while(t!==null);De=6,ne=null}function vd(t,s,n,r,u,c,g,v,C){t.cancelPendingCommit=null;do Qn();while(Ge!==0);if((fe&6)!==0)throw Error(l(327));if(s!==null){if(s===t.current)throw Error(l(177));if(c=s.lanes|s.childLanes,c|=Za,ap(t,n,c,g,v,C),t===Re&&(ne=Re=null,re=0),Ls=s,vi=t,As=n,eo=c,to=u,od=r,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Hm(Il,function(){return Rd(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||r){r=A.T,A.T=null,u=G.p,G.p=2,g=fe,fe|=4;try{Cm(t,s,n)}finally{fe=g,G.p=u,A.T=r}}Ge=1,yd(),wd(),Cd()}}function yd(){if(Ge===1){Ge=0;var t=vi,s=Ls,n=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var r=G.p;G.p=2;var u=fe;fe|=4;try{td(s,t);var c=vo,g=rh(t.containerInfo),v=c.focusedElem,C=c.selectionRange;if(g!==v&&v&&v.ownerDocument&&ah(v.ownerDocument.documentElement,v)){if(C!==null&&Wa(v)){var x=C.start,L=C.end;if(L===void 0&&(L=x),"selectionStart"in v)v.selectionStart=x,v.selectionEnd=Math.min(L,v.value.length);else{var O=v.ownerDocument||document,D=O&&O.defaultView||window;if(D.getSelection){var z=D.getSelection(),K=v.textContent.length,X=Math.min(C.start,K),be=C.end===void 0?X:Math.min(C.end,K);!z.extend&&X>be&&(g=be,be=X,X=g);var T=nh(v,X),R=nh(v,be);if(T&&R&&(z.rangeCount!==1||z.anchorNode!==T.node||z.anchorOffset!==T.offset||z.focusNode!==R.node||z.focusOffset!==R.offset)){var S=O.createRange();S.setStart(T.node,T.offset),z.removeAllRanges(),X>be?(z.addRange(S),z.extend(R.node,R.offset)):(S.setEnd(R.node,R.offset),z.addRange(S))}}}}for(O=[],z=v;z=z.parentNode;)z.nodeType===1&&O.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<O.length;v++){var k=O[v];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}aa=!!bo,vo=bo=null}finally{fe=u,G.p=r,A.T=n}}t.current=s,Ge=2}}function wd(){if(Ge===2){Ge=0;var t=vi,s=Ls,n=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var r=G.p;G.p=2;var u=fe;fe|=4;try{Jc(t,s.alternate,s)}finally{fe=u,G.p=r,A.T=n}}Ge=3}}function Cd(){if(Ge===4||Ge===3){Ge=0,Jf();var t=vi,s=Ls,n=As,r=od;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ge=5:(Ge=0,Ls=vi=null,Ed(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(bi=null),Ra(n),s=s.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(qs,s,void 0,(s.current.flags&128)===128)}catch{}if(r!==null){s=A.T,u=G.p,G.p=2,A.T=null;try{for(var c=t.onRecoverableError,g=0;g<r.length;g++){var v=r[g];c(v.value,{componentStack:v.stack})}}finally{A.T=s,G.p=u}}(As&3)!==0&&Qn(),_t(t),u=t.pendingLanes,(n&4194090)!==0&&(u&42)!==0?t===io?zl++:(zl=0,io=t):zl=0,Ll(0)}}function Ed(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,ul(s)))}function Qn(t){return yd(),wd(),Cd(),Rd()}function Rd(){if(Ge!==5)return!1;var t=vi,s=eo;eo=0;var n=Ra(As),r=A.T,u=G.p;try{G.p=32>n?32:n,A.T=null,n=to,to=null;var c=vi,g=As;if(Ge=0,Ls=vi=null,As=0,(fe&6)!==0)throw Error(l(331));var v=fe;if(fe|=4,ad(c.current),sd(c,c.current,g,n),fe=v,Ll(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(qs,c)}catch{}return!0}finally{G.p=u,A.T=r,Ed(t,s)}}function Td(t,s,n){s=bt(n,s),s=Or(t.stateNode,s,2),t=oi(t,s,2),t!==null&&(Xs(t,2),_t(t))}function Ce(t,s,n){if(t.tag===3)Td(t,t,n);else for(;s!==null;){if(s.tag===3){Td(s,t,n);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bi===null||!bi.has(r))){t=bt(n,t),n=Dc(2),r=oi(s,n,2),r!==null&&(zc(n,r,s,t),Xs(r,2),_t(r));break}}s=s.return}}function ao(t,s,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Tm;var u=new Set;r.set(s,u)}else u=r.get(s),u===void 0&&(u=new Set,r.set(s,u));u.has(n)||(Kr=!0,u.add(n),t=zm.bind(null,t,s,n),s.then(t,t))}function zm(t,s,n){var r=t.pingCache;r!==null&&r.delete(s),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Re===t&&(re&n)===n&&(De===4||De===3&&(re&62914560)===re&&300>Lt()-$r?(fe&2)===0&&Hs(t,0):Jr|=n,zs===re&&(zs=0)),_t(t)}function Sd(t,s){s===0&&(s=Cu()),t=ps(t,s),t!==null&&(Xs(t,s),_t(t))}function Lm(t){var s=t.memoizedState,n=0;s!==null&&(n=s.retryLane),Sd(t,n)}function Am(t,s){var n=0;switch(t.tag){case 13:var r=t.stateNode,u=t.memoizedState;u!==null&&(n=u.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(s),Sd(t,n)}function Hm(t,s){return ya(t,s)}var Zn=null,Os=null,ro=!1,Kn=!1,oo=!1,Zi=0;function _t(t){t!==Os&&t.next===null&&(Os===null?Zn=Os=t:Os=Os.next=t),Kn=!0,ro||(ro=!0,Om())}function Ll(t,s){if(!oo&&Kn){oo=!0;do for(var n=!1,r=Zn;r!==null;){if(t!==0){var u=r.pendingLanes;if(u===0)var c=0;else{var g=r.suspendedLanes,v=r.pingedLanes;c=(1<<31-nt(42|t)+1)-1,c&=u&~(g&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,zd(r,c))}else c=re,c=tn(r,r===Re?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(c&3)===0||Ys(r,c)||(n=!0,zd(r,c));r=r.next}while(n);oo=!1}}function km(){Md()}function Md(){Kn=ro=!1;var t=0;Zi!==0&&(jm()&&(t=Zi),Zi=0);for(var s=Lt(),n=null,r=Zn;r!==null;){var u=r.next,c=xd(r,s);c===0?(r.next=null,n===null?Zn=u:n.next=u,u===null&&(Os=n)):(n=r,(t!==0||(c&3)!==0)&&(Kn=!0)),r=u}Ll(t)}function xd(t,s){for(var n=t.suspendedLanes,r=t.pingedLanes,u=t.expirationTimes,c=t.pendingLanes&-62914561;0<c;){var g=31-nt(c),v=1<<g,C=u[g];C===-1?((v&n)===0||(v&r)!==0)&&(u[g]=np(v,s)):C<=s&&(t.expiredLanes|=v),c&=~v}if(s=Re,n=re,n=tn(t,t===s?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===s&&(pe===2||pe===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&wa(r),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Ys(t,n)){if(s=n&-n,s===t.callbackPriority)return s;switch(r!==null&&wa(r),Ra(n)){case 2:case 8:n=vu;break;case 32:n=Il;break;case 268435456:n=yu;break;default:n=Il}return r=Dd.bind(null,t),n=ya(n,r),t.callbackPriority=s,t.callbackNode=n,s}return r!==null&&r!==null&&wa(r),t.callbackPriority=2,t.callbackNode=null,2}function Dd(t,s){if(Ge!==0&&Ge!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Qn()&&t.callbackNode!==n)return null;var r=re;return r=tn(t,t===Re?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(hd(t,r,s),xd(t,Lt()),t.callbackNode!=null&&t.callbackNode===n?Dd.bind(null,t):null)}function zd(t,s){if(Qn())return null;hd(t,s,!0)}function Om(){Wm(function(){(fe&6)!==0?ya(bu,km):Md()})}function uo(){return Zi===0&&(Zi=wu()),Zi}function Ld(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rn(""+t)}function Ad(t,s){var n=s.ownerDocument.createElement("input");return n.name=s.name,n.value=s.value,t.id&&n.setAttribute("form",t.id),s.parentNode.insertBefore(n,s),t=new FormData(t),n.parentNode.removeChild(n),t}function _m(t,s,n,r,u){if(s==="submit"&&n&&n.stateNode===u){var c=Ld((u[Je]||null).action),g=r.submitter;g&&(s=(s=g[Je]||null)?Ld(s.formAction):g.getAttribute("formAction"),s!==null&&(c=s,g=null));var v=new cn("action","action",null,r,u);t.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Zi!==0){var C=g?Ad(u,g):new FormData(u);zr(n,{pending:!0,data:C,method:u.method,action:c},null,C)}}else typeof c=="function"&&(v.preventDefault(),C=g?Ad(u,g):new FormData(u),zr(n,{pending:!0,data:C,method:u.method,action:c},c,C))},currentTarget:u}]})}}for(var ho=0;ho<Qa.length;ho++){var co=Qa[ho],Bm=co.toLowerCase(),Nm=co[0].toUpperCase()+co.slice(1);St(Bm,"on"+Nm)}St(hh,"onAnimationEnd"),St(ch,"onAnimationIteration"),St(dh,"onAnimationStart"),St("dblclick","onDoubleClick"),St("focusin","onFocus"),St("focusout","onBlur"),St(em,"onTransitionRun"),St(tm,"onTransitionStart"),St(im,"onTransitionCancel"),St(fh,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Hd(t,s){s=(s&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],u=r.event;r=r.listeners;e:{var c=void 0;if(s)for(var g=r.length-1;0<=g;g--){var v=r[g],C=v.instance,x=v.currentTarget;if(v=v.listener,C!==c&&u.isPropagationStopped())break e;c=v,u.currentTarget=x;try{c(u)}catch(L){Nn(L)}u.currentTarget=null,c=C}else for(g=0;g<r.length;g++){if(v=r[g],C=v.instance,x=v.currentTarget,v=v.listener,C!==c&&u.isPropagationStopped())break e;c=v,u.currentTarget=x;try{c(u)}catch(L){Nn(L)}u.currentTarget=null,c=C}}}}function ae(t,s){var n=s[Ta];n===void 0&&(n=s[Ta]=new Set);var r=t+"__bubble";n.has(r)||(kd(s,t,2,!1),n.add(r))}function fo(t,s,n){var r=0;s&&(r|=4),kd(n,t,r,s)}var Jn="_reactListening"+Math.random().toString(36).slice(2);function po(t){if(!t[Jn]){t[Jn]=!0,Mu.forEach(function(n){n!=="selectionchange"&&(Fm.has(n)||fo(n,!1,t),fo(n,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Jn]||(s[Jn]=!0,fo("selectionchange",!1,s))}}function kd(t,s,n,r){switch(lf(s)){case 2:var u=cg;break;case 8:u=dg;break;default:u=Do}n=u.bind(null,s,n,t),u=void 0,!_a||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(u=!0),r?u!==void 0?t.addEventListener(s,n,{capture:!0,passive:u}):t.addEventListener(s,n,!0):u!==void 0?t.addEventListener(s,n,{passive:u}):t.addEventListener(s,n,!1)}function mo(t,s,n,r,u){var c=r;if((s&1)===0&&(s&2)===0&&r!==null)e:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var v=r.stateNode.containerInfo;if(v===u)break;if(g===4)for(g=r.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;v!==null;){if(g=ts(v),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){r=c=g;continue e}v=v.parentNode}}r=r.return}Uu(function(){var x=c,L=ka(n),O=[];e:{var D=ph.get(t);if(D!==void 0){var z=cn,K=t;switch(t){case"keypress":if(un(n)===0)break e;case"keydown":case"keyup":z=Hp;break;case"focusin":K="focus",z=Va;break;case"focusout":K="blur",z=Va;break;case"beforeblur":case"afterblur":z=Va;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=_p;break;case hh:case ch:case dh:z=Rp;break;case fh:z=Np;break;case"scroll":case"scrollend":z=vp;break;case"wheel":z=Vp;break;case"copy":case"cut":case"paste":z=Sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=qu;break;case"toggle":case"beforetoggle":z=Gp}var X=(s&4)!==0,be=!X&&(t==="scroll"||t==="scrollend"),T=X?D!==null?D+"Capture":null:D;X=[];for(var R=x,S;R!==null;){var k=R;if(S=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||S===null||T===null||(k=Ks(R,T),k!=null&&X.push(Hl(R,k,S))),be)break;R=R.return}0<X.length&&(D=new z(D,K,null,n,L),O.push({event:D,listeners:X}))}}if((s&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",z=t==="mouseout"||t==="pointerout",D&&n!==Ha&&(K=n.relatedTarget||n.fromElement)&&(ts(K)||K[es]))break e;if((z||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,z?(K=n.relatedTarget||n.toElement,z=x,K=K?ts(K):null,K!==null&&(be=o(K),X=K.tag,K!==be||X!==5&&X!==27&&X!==6)&&(K=null)):(z=null,K=x),z!==K)){if(X=Pu,k="onMouseLeave",T="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(X=qu,k="onPointerLeave",T="onPointerEnter",R="pointer"),be=z==null?D:Zs(z),S=K==null?D:Zs(K),D=new X(k,R+"leave",z,n,L),D.target=be,D.relatedTarget=S,k=null,ts(L)===x&&(X=new X(T,R+"enter",K,n,L),X.target=S,X.relatedTarget=be,k=X),be=k,z&&K)t:{for(X=z,T=K,R=0,S=X;S;S=_s(S))R++;for(S=0,k=T;k;k=_s(k))S++;for(;0<R-S;)X=_s(X),R--;for(;0<S-R;)T=_s(T),S--;for(;R--;){if(X===T||T!==null&&X===T.alternate)break t;X=_s(X),T=_s(T)}X=null}else X=null;z!==null&&Od(O,D,z,X,!1),K!==null&&be!==null&&Od(O,be,K,X,!0)}}e:{if(D=x?Zs(x):window,z=D.nodeName&&D.nodeName.toLowerCase(),z==="select"||z==="input"&&D.type==="file")var P=$u;else if(Ju(D))if(eh)P=Jp;else{P=Zp;var le=Qp}else z=D.nodeName,!z||z.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?x&&Aa(x.elementType)&&(P=$u):P=Kp;if(P&&(P=P(t,x))){Iu(O,P,n,L);break e}le&&le(t,D,x),t==="focusout"&&x&&D.type==="number"&&x.memoizedProps.value!=null&&La(D,"number",D.value)}switch(le=x?Zs(x):window,t){case"focusin":(Ju(le)||le.contentEditable==="true")&&(cs=le,qa=x,ll=null);break;case"focusout":ll=qa=cs=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,oh(O,n,L);break;case"selectionchange":if($p)break;case"keydown":case"keyup":oh(O,n,L)}var q;if(Ga)e:{switch(t){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else hs?Zu(t,n)&&(Q="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Q="onCompositionStart");Q&&(Yu&&n.locale!=="ko"&&(hs||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&hs&&(q=Gu()):(li=L,Ba="value"in li?li.value:li.textContent,hs=!0)),le=In(x,Q),0<le.length&&(Q=new Wu(Q,t,null,n,L),O.push({event:Q,listeners:le}),q?Q.data=q:(q=Ku(n),q!==null&&(Q.data=q)))),(q=Pp?Wp(t,n):qp(t,n))&&(Q=In(x,"onBeforeInput"),0<Q.length&&(le=new Wu("onBeforeInput","beforeinput",null,n,L),O.push({event:le,listeners:Q}),le.data=q)),_m(O,t,x,n,L)}Hd(O,s)})}function Hl(t,s,n){return{instance:t,listener:s,currentTarget:n}}function In(t,s){for(var n=s+"Capture",r=[];t!==null;){var u=t,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=Ks(t,n),u!=null&&r.unshift(Hl(t,u,c)),u=Ks(t,s),u!=null&&r.push(Hl(t,u,c))),t.tag===3)return r;t=t.return}return[]}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Od(t,s,n,r,u){for(var c=s._reactName,g=[];n!==null&&n!==r;){var v=n,C=v.alternate,x=v.stateNode;if(v=v.tag,C!==null&&C===r)break;v!==5&&v!==26&&v!==27||x===null||(C=x,u?(x=Ks(n,c),x!=null&&g.unshift(Hl(n,x,C))):u||(x=Ks(n,c),x!=null&&g.push(Hl(n,x,C)))),n=n.return}g.length!==0&&t.push({event:s,listeners:g})}var Vm=/\r\n?/g,Um=/\u0000|\uFFFD/g;function _d(t){return(typeof t=="string"?t:""+t).replace(Vm,`
`).replace(Um,"")}function Bd(t,s){return s=_d(s),_d(t)===s}function $n(){}function ge(t,s,n,r,u,c){switch(n){case"children":typeof r=="string"?s==="body"||s==="textarea"&&r===""||rs(t,r):(typeof r=="number"||typeof r=="bigint")&&s!=="body"&&rs(t,""+r);break;case"className":ln(t,"class",r);break;case"tabIndex":ln(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ln(t,n,r);break;case"style":Fu(t,r,c);break;case"data":if(s!=="object"){ln(t,"data",r);break}case"src":case"href":if(r===""&&(s!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=rn(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(s!=="input"&&ge(t,s,"name",u.name,u,null),ge(t,s,"formEncType",u.formEncType,u,null),ge(t,s,"formMethod",u.formMethod,u,null),ge(t,s,"formTarget",u.formTarget,u,null)):(ge(t,s,"encType",u.encType,u,null),ge(t,s,"method",u.method,u,null),ge(t,s,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=rn(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=$n);break;case"onScroll":r!=null&&ae("scroll",t);break;case"onScrollEnd":r!=null&&ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(n=r.__html,n!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=rn(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":ae("beforetoggle",t),ae("toggle",t),sn(t,"popover",r);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":sn(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=gp.get(n)||n,sn(t,n,r))}}function go(t,s,n,r,u,c){switch(n){case"style":Fu(t,r,c);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(n=r.__html,n!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=n}}break;case"children":typeof r=="string"?rs(t,r):(typeof r=="number"||typeof r=="bigint")&&rs(t,""+r);break;case"onScroll":r!=null&&ae("scroll",t);break;case"onScrollEnd":r!=null&&ae("scrollend",t);break;case"onClick":r!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xu.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),s=n.slice(2,u?n.length-7:void 0),c=t[Je]||null,c=c!=null?c[n]:null,typeof c=="function"&&t.removeEventListener(s,c,u),typeof r=="function")){typeof c!="function"&&c!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(s,r,u);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):sn(t,n,r)}}}function je(t,s,n){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",t),ae("load",t);var r=!1,u=!1,c;for(c in n)if(n.hasOwnProperty(c)){var g=n[c];if(g!=null)switch(c){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:ge(t,s,c,g,n,null)}}u&&ge(t,s,"srcSet",n.srcSet,n,null),r&&ge(t,s,"src",n.src,n,null);return;case"input":ae("invalid",t);var v=c=g=u=null,C=null,x=null;for(r in n)if(n.hasOwnProperty(r)){var L=n[r];if(L!=null)switch(r){case"name":u=L;break;case"type":g=L;break;case"checked":C=L;break;case"defaultChecked":x=L;break;case"value":c=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,s));break;default:ge(t,s,r,L,n,null)}}Ou(t,c,v,C,x,g,u,!1),nn(t);return;case"select":ae("invalid",t),r=g=c=null;for(u in n)if(n.hasOwnProperty(u)&&(v=n[u],v!=null))switch(u){case"value":c=v;break;case"defaultValue":g=v;break;case"multiple":r=v;default:ge(t,s,u,v,n,null)}s=c,n=g,t.multiple=!!r,s!=null?as(t,!!r,s,!1):n!=null&&as(t,!!r,n,!0);return;case"textarea":ae("invalid",t),c=u=r=null;for(g in n)if(n.hasOwnProperty(g)&&(v=n[g],v!=null))switch(g){case"value":r=v;break;case"defaultValue":u=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:ge(t,s,g,v,n,null)}Bu(t,r,u,c),nn(t);return;case"option":for(C in n)if(n.hasOwnProperty(C)&&(r=n[C],r!=null))switch(C){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ge(t,s,C,r,n,null)}return;case"dialog":ae("beforetoggle",t),ae("toggle",t),ae("cancel",t),ae("close",t);break;case"iframe":case"object":ae("load",t);break;case"video":case"audio":for(r=0;r<Al.length;r++)ae(Al[r],t);break;case"image":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"embed":case"source":case"link":ae("error",t),ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in n)if(n.hasOwnProperty(x)&&(r=n[x],r!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:ge(t,s,x,r,n,null)}return;default:if(Aa(s)){for(L in n)n.hasOwnProperty(L)&&(r=n[L],r!==void 0&&go(t,s,L,r,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(r=n[v],r!=null&&ge(t,s,v,r,n,null))}function Gm(t,s,n,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,g=null,v=null,C=null,x=null,L=null;for(z in n){var O=n[z];if(n.hasOwnProperty(z)&&O!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":C=O;default:r.hasOwnProperty(z)||ge(t,s,z,null,r,O)}}for(var D in r){var z=r[D];if(O=n[D],r.hasOwnProperty(D)&&(z!=null||O!=null))switch(D){case"type":c=z;break;case"name":u=z;break;case"checked":x=z;break;case"defaultChecked":L=z;break;case"value":g=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,s));break;default:z!==O&&ge(t,s,D,z,r,O)}}za(t,g,v,C,x,L,c,u);return;case"select":z=g=v=D=null;for(c in n)if(C=n[c],n.hasOwnProperty(c)&&C!=null)switch(c){case"value":break;case"multiple":z=C;default:r.hasOwnProperty(c)||ge(t,s,c,null,r,C)}for(u in r)if(c=r[u],C=n[u],r.hasOwnProperty(u)&&(c!=null||C!=null))switch(u){case"value":D=c;break;case"defaultValue":v=c;break;case"multiple":g=c;default:c!==C&&ge(t,s,u,c,r,C)}s=v,n=g,r=z,D!=null?as(t,!!n,D,!1):!!r!=!!n&&(s!=null?as(t,!!n,s,!0):as(t,!!n,n?[]:"",!1));return;case"textarea":z=D=null;for(v in n)if(u=n[v],n.hasOwnProperty(v)&&u!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:ge(t,s,v,null,r,u)}for(g in r)if(u=r[g],c=n[g],r.hasOwnProperty(g)&&(u!=null||c!=null))switch(g){case"value":D=u;break;case"defaultValue":z=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==c&&ge(t,s,g,u,r,c)}_u(t,D,z);return;case"option":for(var K in n)if(D=n[K],n.hasOwnProperty(K)&&D!=null&&!r.hasOwnProperty(K))switch(K){case"selected":t.selected=!1;break;default:ge(t,s,K,null,r,D)}for(C in r)if(D=r[C],z=n[C],r.hasOwnProperty(C)&&D!==z&&(D!=null||z!=null))switch(C){case"selected":t.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:ge(t,s,C,D,r,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var X in n)D=n[X],n.hasOwnProperty(X)&&D!=null&&!r.hasOwnProperty(X)&&ge(t,s,X,null,r,D);for(x in r)if(D=r[x],z=n[x],r.hasOwnProperty(x)&&D!==z&&(D!=null||z!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,s));break;default:ge(t,s,x,D,r,z)}return;default:if(Aa(s)){for(var be in n)D=n[be],n.hasOwnProperty(be)&&D!==void 0&&!r.hasOwnProperty(be)&&go(t,s,be,void 0,r,D);for(L in r)D=r[L],z=n[L],!r.hasOwnProperty(L)||D===z||D===void 0&&z===void 0||go(t,s,L,D,r,z);return}}for(var T in n)D=n[T],n.hasOwnProperty(T)&&D!=null&&!r.hasOwnProperty(T)&&ge(t,s,T,null,r,D);for(O in r)D=r[O],z=n[O],!r.hasOwnProperty(O)||D===z||D==null&&z==null||ge(t,s,O,D,r,z)}var bo=null,vo=null;function ea(t){return t.nodeType===9?t:t.ownerDocument}function Nd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fd(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function yo(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wo=null;function jm(){var t=window.event;return t&&t.type==="popstate"?t===wo?!1:(wo=t,!0):(wo=null,!1)}var Vd=typeof setTimeout=="function"?setTimeout:void 0,Pm=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,Wm=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(t){return Ud.resolve(null).then(t).catch(qm)}:Vd;function qm(t){setTimeout(function(){throw t})}function wi(t){return t==="head"}function Gd(t,s){var n=s,r=0,u=0;do{var c=n.nextSibling;if(t.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(0<r&&8>r){n=r;var g=t.ownerDocument;if(n&1&&kl(g.documentElement),n&2&&kl(g.body),n&4)for(n=g.head,kl(n),g=n.firstChild;g;){var v=g.nextSibling,C=g.nodeName;g[Qs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||n.removeChild(g),g=v}}if(u===0){t.removeChild(c),Gl(s);return}u--}else n==="$"||n==="$?"||n==="$!"?u++:r=n.charCodeAt(0)-48;else r=0;n=c}while(n);Gl(s)}function Co(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var n=s;switch(s=s.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Co(n),Sa(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Ym(t,s,n,r){for(;t.nodeType===1;){var u=n;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Qs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(c=t.getAttribute("rel"),c==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(c!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(c=t.getAttribute("src"),(c!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===c)return t}else return t;if(t=xt(t.nextSibling),t===null)break}return null}function Xm(t,s,n){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=xt(t.nextSibling),t===null))return null;return t}function Eo(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Qm(t,s){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")s();else{var r=function(){s(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function xt(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Ro=null;function jd(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(s===0)return t;s--}else n==="/$"&&s++}t=t.previousSibling}return null}function Pd(t,s,n){switch(s=ea(n),t){case"html":if(t=s.documentElement,!t)throw Error(l(452));return t;case"head":if(t=s.head,!t)throw Error(l(453));return t;case"body":if(t=s.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function kl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Sa(t)}var Rt=new Map,Wd=new Set;function ta(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Jt=G.d;G.d={f:Zm,r:Km,D:Jm,C:Im,L:$m,m:eg,X:ig,S:tg,M:sg};function Zm(){var t=Jt.f(),s=Yn();return t||s}function Km(t){var s=is(t);s!==null&&s.tag===5&&s.type==="form"?hc(s):Jt.r(t)}var Bs=typeof document>"u"?null:document;function qd(t,s,n){var r=Bs;if(r&&typeof s=="string"&&s){var u=gt(s);u='link[rel="'+t+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),Wd.has(u)||(Wd.add(u),t={rel:t,crossOrigin:n,href:s},r.querySelector(u)===null&&(s=r.createElement("link"),je(s,"link",t),Be(s),r.head.appendChild(s)))}}function Jm(t){Jt.D(t),qd("dns-prefetch",t,null)}function Im(t,s){Jt.C(t,s),qd("preconnect",t,s)}function $m(t,s,n){Jt.L(t,s,n);var r=Bs;if(r&&t&&s){var u='link[rel="preload"][as="'+gt(s)+'"]';s==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+gt(n.imageSizes)+'"]')):u+='[href="'+gt(t)+'"]';var c=u;switch(s){case"style":c=Ns(t);break;case"script":c=Fs(t)}Rt.has(c)||(t=b({rel:"preload",href:s==="image"&&n&&n.imageSrcSet?void 0:t,as:s},n),Rt.set(c,t),r.querySelector(u)!==null||s==="style"&&r.querySelector(Ol(c))||s==="script"&&r.querySelector(_l(c))||(s=r.createElement("link"),je(s,"link",t),Be(s),r.head.appendChild(s)))}}function eg(t,s){Jt.m(t,s);var n=Bs;if(n&&t){var r=s&&typeof s.as=="string"?s.as:"script",u='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(t)+'"]',c=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Fs(t)}if(!Rt.has(c)&&(t=b({rel:"modulepreload",href:t},s),Rt.set(c,t),n.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_l(c)))return}r=n.createElement("link"),je(r,"link",t),Be(r),n.head.appendChild(r)}}}function tg(t,s,n){Jt.S(t,s,n);var r=Bs;if(r&&t){var u=ss(r).hoistableStyles,c=Ns(t);s=s||"default";var g=u.get(c);if(!g){var v={loading:0,preload:null};if(g=r.querySelector(Ol(c)))v.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":s},n),(n=Rt.get(c))&&To(t,n);var C=g=r.createElement("link");Be(C),je(C,"link",t),C._p=new Promise(function(x,L){C.onload=x,C.onerror=L}),C.addEventListener("load",function(){v.loading|=1}),C.addEventListener("error",function(){v.loading|=2}),v.loading|=4,ia(g,s,r)}g={type:"stylesheet",instance:g,count:1,state:v},u.set(c,g)}}}function ig(t,s){Jt.X(t,s);var n=Bs;if(n&&t){var r=ss(n).hoistableScripts,u=Fs(t),c=r.get(u);c||(c=n.querySelector(_l(u)),c||(t=b({src:t,async:!0},s),(s=Rt.get(u))&&So(t,s),c=n.createElement("script"),Be(c),je(c,"link",t),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(u,c))}}function sg(t,s){Jt.M(t,s);var n=Bs;if(n&&t){var r=ss(n).hoistableScripts,u=Fs(t),c=r.get(u);c||(c=n.querySelector(_l(u)),c||(t=b({src:t,async:!0,type:"module"},s),(s=Rt.get(u))&&So(t,s),c=n.createElement("script"),Be(c),je(c,"link",t),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(u,c))}}function Yd(t,s,n,r){var u=(u=I.current)?ta(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(s=Ns(n.href),n=ss(u).hoistableStyles,r=n.get(s),r||(r={type:"style",instance:null,count:0,state:null},n.set(s,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ns(n.href);var c=ss(u).hoistableStyles,g=c.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,g),(c=u.querySelector(Ol(t)))&&!c._p&&(g.instance=c,g.state.loading=5),Rt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Rt.set(t,n),c||lg(u,t,n,g.state))),s&&r===null)throw Error(l(528,""));return g}if(s&&r!==null)throw Error(l(529,""));return null;case"script":return s=n.async,n=n.src,typeof n=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Fs(n),n=ss(u).hoistableScripts,r=n.get(s),r||(r={type:"script",instance:null,count:0,state:null},n.set(s,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Ns(t){return'href="'+gt(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Xd(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function lg(t,s,n,r){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?r.loading=1:(s=t.createElement("link"),r.preload=s,s.addEventListener("load",function(){return r.loading|=1}),s.addEventListener("error",function(){return r.loading|=2}),je(s,"link",n),Be(s),t.head.appendChild(s))}function Fs(t){return'[src="'+gt(t)+'"]'}function _l(t){return"script[async]"+t}function Qd(t,s,n){if(s.count++,s.instance===null)switch(s.type){case"style":var r=t.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return s.instance=r,Be(r),r;var u=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Be(r),je(r,"style",u),ia(r,n.precedence,t),s.instance=r;case"stylesheet":u=Ns(n.href);var c=t.querySelector(Ol(u));if(c)return s.state.loading|=4,s.instance=c,Be(c),c;r=Xd(n),(u=Rt.get(u))&&To(r,u),c=(t.ownerDocument||t).createElement("link"),Be(c);var g=c;return g._p=new Promise(function(v,C){g.onload=v,g.onerror=C}),je(c,"link",r),s.state.loading|=4,ia(c,n.precedence,t),s.instance=c;case"script":return c=Fs(n.src),(u=t.querySelector(_l(c)))?(s.instance=u,Be(u),u):(r=n,(u=Rt.get(c))&&(r=b({},n),So(r,u)),t=t.ownerDocument||t,u=t.createElement("script"),Be(u),je(u,"link",r),t.head.appendChild(u),s.instance=u);case"void":return null;default:throw Error(l(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(r=s.instance,s.state.loading|=4,ia(r,n.precedence,t));return s.instance}function ia(t,s,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,c=u,g=0;g<r.length;g++){var v=r[g];if(v.dataset.precedence===s)c=v;else if(c!==u)break}c?c.parentNode.insertBefore(t,c.nextSibling):(s=n.nodeType===9?n.head:n,s.insertBefore(t,s.firstChild))}function To(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function So(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var sa=null;function Zd(t,s,n){if(sa===null){var r=new Map,u=sa=new Map;u.set(n,r)}else u=sa,r=u.get(n),r||(r=new Map,u.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),u=0;u<n.length;u++){var c=n[u];if(!(c[Qs]||c[qe]||t==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var g=c.getAttribute(s)||"";g=t+g;var v=r.get(g);v?v.push(c):r.set(g,[c])}}return r}function Kd(t,s,n){t=t.ownerDocument||t,t.head.insertBefore(n,s==="title"?t.querySelector("head > title"):null)}function ng(t,s,n){if(n===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Jd(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Bl=null;function ag(){}function rg(t,s,n){if(Bl===null)throw Error(l(475));var r=Bl;if(s.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=Ns(n.href),c=t.querySelector(Ol(u));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=la.bind(r),t.then(r,r)),s.state.loading|=4,s.instance=c,Be(c);return}c=t.ownerDocument||t,n=Xd(n),(u=Rt.get(u))&&To(n,u),c=c.createElement("link"),Be(c);var g=c;g._p=new Promise(function(v,C){g.onload=v,g.onerror=C}),je(c,"link",n),s.instance=c}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(r.count++,s=la.bind(r),t.addEventListener("load",s),t.addEventListener("error",s))}}function og(){if(Bl===null)throw Error(l(475));var t=Bl;return t.stylesheets&&t.count===0&&Mo(t,t.stylesheets),0<t.count?function(s){var n=setTimeout(function(){if(t.stylesheets&&Mo(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(n)}}:null}function la(){if(this.count--,this.count===0){if(this.stylesheets)Mo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var na=null;function Mo(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,na=new Map,s.forEach(ug,t),na=null,la.call(t))}function ug(t,s){if(!(s.state.loading&4)){var n=na.get(t);if(n)var r=n.get(null);else{n=new Map,na.set(t,n);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var g=u[c];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),r=g)}r&&n.set(null,r)}u=s.instance,g=u.getAttribute("data-precedence"),c=n.get(g)||r,c===r&&n.set(null,u),n.set(g,u),this.count++,r=la.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),c?c.parentNode.insertBefore(u,c.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),s.state.loading|=4}}var Nl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function hg(t,s,n,r,u,c,g,v){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.hiddenUpdates=Ca(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Id(t,s,n,r,u,c,g,v,C,x,L,O){return t=new hg(t,s,n,g,v,C,x,O),s=1,c===!0&&(s|=24),c=rt(3,null,null,s),t.current=c,c.stateNode=t,s=ar(),s.refCount++,t.pooledCache=s,s.refCount++,c.memoizedState={element:r,isDehydrated:n,cache:s},hr(c),t}function $d(t){return t?(t=ms,t):ms}function ef(t,s,n,r,u,c){u=$d(u),r.context===null?r.context=u:r.pendingContext=u,r=ri(s),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=oi(t,r,s),n!==null&&(dt(n,t,s),fl(n,t,s))}function tf(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<s?n:s}}function xo(t,s){tf(t,s),(t=t.alternate)&&tf(t,s)}function sf(t){if(t.tag===13){var s=ps(t,67108864);s!==null&&dt(s,t,67108864),xo(t,67108864)}}var aa=!0;function cg(t,s,n,r){var u=A.T;A.T=null;var c=G.p;try{G.p=2,Do(t,s,n,r)}finally{G.p=c,A.T=u}}function dg(t,s,n,r){var u=A.T;A.T=null;var c=G.p;try{G.p=8,Do(t,s,n,r)}finally{G.p=c,A.T=u}}function Do(t,s,n,r){if(aa){var u=zo(r);if(u===null)mo(t,s,r,ra,n),nf(t,r);else if(pg(u,t,s,n,r))r.stopPropagation();else if(nf(t,r),s&4&&-1<fg.indexOf(t)){for(;u!==null;){var c=is(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var g=Hi(c.pendingLanes);if(g!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var C=1<<31-nt(g);v.entanglements[1]|=C,g&=~C}_t(c),(fe&6)===0&&(Wn=Lt()+500,Ll(0))}}break;case 13:v=ps(c,2),v!==null&&dt(v,c,2),Yn(),xo(c,2)}if(c=zo(r),c===null&&mo(t,s,r,ra,n),c===u)break;u=c}u!==null&&r.stopPropagation()}else mo(t,s,r,null,n)}}function zo(t){return t=ka(t),Lo(t)}var ra=null;function Lo(t){if(ra=null,t=ts(t),t!==null){var s=o(t);if(s===null)t=null;else{var n=s.tag;if(n===13){if(t=h(s),t!==null)return t;t=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return ra=t,null}function lf(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(If()){case bu:return 2;case vu:return 8;case Il:case $f:return 32;case yu:return 268435456;default:return 32}default:return 32}}var Ao=!1,Ci=null,Ei=null,Ri=null,Fl=new Map,Vl=new Map,Ti=[],fg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nf(t,s){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Fl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(s.pointerId)}}function Ul(t,s,n,r,u,c){return t===null||t.nativeEvent!==c?(t={blockedOn:s,domEventName:n,eventSystemFlags:r,nativeEvent:c,targetContainers:[u]},s!==null&&(s=is(s),s!==null&&sf(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,u!==null&&s.indexOf(u)===-1&&s.push(u),t)}function pg(t,s,n,r,u){switch(s){case"focusin":return Ci=Ul(Ci,t,s,n,r,u),!0;case"dragenter":return Ei=Ul(Ei,t,s,n,r,u),!0;case"mouseover":return Ri=Ul(Ri,t,s,n,r,u),!0;case"pointerover":var c=u.pointerId;return Fl.set(c,Ul(Fl.get(c)||null,t,s,n,r,u)),!0;case"gotpointercapture":return c=u.pointerId,Vl.set(c,Ul(Vl.get(c)||null,t,s,n,r,u)),!0}return!1}function af(t){var s=ts(t.target);if(s!==null){var n=o(s);if(n!==null){if(s=n.tag,s===13){if(s=h(n),s!==null){t.blockedOn=s,rp(t.priority,function(){if(n.tag===13){var r=ct();r=Ea(r);var u=ps(n,r);u!==null&&dt(u,n,r),xo(n,r)}});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oa(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var n=zo(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ha=r,n.target.dispatchEvent(r),Ha=null}else return s=is(n),s!==null&&sf(s),t.blockedOn=n,!1;s.shift()}return!0}function rf(t,s,n){oa(t)&&n.delete(s)}function mg(){Ao=!1,Ci!==null&&oa(Ci)&&(Ci=null),Ei!==null&&oa(Ei)&&(Ei=null),Ri!==null&&oa(Ri)&&(Ri=null),Fl.forEach(rf),Vl.forEach(rf)}function ua(t,s){t.blockedOn===s&&(t.blockedOn=null,Ao||(Ao=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,mg)))}var ha=null;function of(t){ha!==t&&(ha=t,m.unstable_scheduleCallback(m.unstable_NormalPriority,function(){ha===t&&(ha=null);for(var s=0;s<t.length;s+=3){var n=t[s],r=t[s+1],u=t[s+2];if(typeof r!="function"){if(Lo(r||n)===null)continue;break}var c=is(n);c!==null&&(t.splice(s,3),s-=3,zr(c,{pending:!0,data:u,method:n.method,action:r},r,u))}}))}function Gl(t){function s(C){return ua(C,t)}Ci!==null&&ua(Ci,t),Ei!==null&&ua(Ei,t),Ri!==null&&ua(Ri,t),Fl.forEach(s),Vl.forEach(s);for(var n=0;n<Ti.length;n++){var r=Ti[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ti.length&&(n=Ti[0],n.blockedOn===null);)af(n),n.blockedOn===null&&Ti.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var u=n[r],c=n[r+1],g=u[Je]||null;if(typeof c=="function")g||of(n);else if(g){var v=null;if(c&&c.hasAttribute("formAction")){if(u=c,g=c[Je]||null)v=g.formAction;else if(Lo(u)!==null)continue}else v=g.action;typeof v=="function"?n[r+1]=v:(n.splice(r,3),r-=3),of(n)}}}function Ho(t){this._internalRoot=t}ca.prototype.render=Ho.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(l(409));var n=s.current,r=ct();ef(n,r,t,s,null,null)},ca.prototype.unmount=Ho.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;ef(t.current,2,null,t,null,null),Yn(),s[es]=null}};function ca(t){this._internalRoot=t}ca.prototype.unstable_scheduleHydration=function(t){if(t){var s=Tu();t={blockedOn:null,target:t,priority:s};for(var n=0;n<Ti.length&&s!==0&&s<Ti[n].priority;n++);Ti.splice(n,0,t),n===0&&af(t)}};var uf=e.version;if(uf!=="19.1.0")throw Error(l(527,uf,"19.1.0"));G.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=f(s),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var gg={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{qs=da.inject(gg),lt=da}catch{}}return Pl.createRoot=function(t,s){if(!a(t))throw Error(l(299));var n=!1,r="",u=Tc,c=Sc,g=Mc,v=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(c=s.onCaughtError),s.onRecoverableError!==void 0&&(g=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(v=s.unstable_transitionCallbacks)),s=Id(t,1,!1,null,null,n,r,u,c,g,v,null),t[es]=s.current,po(t),new Ho(s)},Pl.hydrateRoot=function(t,s,n){if(!a(t))throw Error(l(299));var r=!1,u="",c=Tc,g=Sc,v=Mc,C=null,x=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks),n.formState!==void 0&&(x=n.formState)),s=Id(t,1,!0,s,n??null,r,u,c,g,v,C,x),s.context=$d(null),n=s.current,r=ct(),r=Ea(r),u=ri(r),u.callback=null,oi(n,u,r),n=r,s.current.lanes=n,Xs(s,n),_t(s),t[es]=s.current,po(t),new ca(s)},Pl.version="19.1.0",Pl}var yf;function Dg(){if(yf)return _o.exports;yf=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(e){console.error(e)}}return m(),_o.exports=xg(),_o.exports}var zg=Dg();class Pe{constructor(e){this.table=e}reloadData(e,i,l){return this.table.dataLoader.load(e,void 0,void 0,void 0,i,l)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(e){return this.table.modules.layout.layout(e)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(e){return this.table.eventBus.subscribed(e)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(e){return this.table.externalEvents.subscribed(e)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(e){return this.table.options[e]}setOption(e,i){return typeof i<"u"&&(this.table.options[e]=i),this.table.options[e]}deprecationCheck(e,i,l){return this.table.deprecationAdvisor.check(e,i,l)}deprecationCheckMsg(e,i){return this.table.deprecationAdvisor.checkMsg(e,i)}deprecationMsg(e){return this.table.deprecationAdvisor.msg(e)}module(e){return this.table.module(e)}}class Ee{static elVisible(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}static elOffset(e){var i=e.getBoundingClientRect();return{top:i.top+window.pageYOffset-document.documentElement.clientTop,left:i.left+window.pageXOffset-document.documentElement.clientLeft}}static retrieveNestedData(e,i,l){var a=e?i.split(e):[i],o=a.length,h;for(let d=0;d<o&&(l=l[a[d]],h=l,!!l);d++);return h}static deepClone(e,i,l=[]){var a={}.__proto__,o=[].__proto__;i||(i=Object.assign(Array.isArray(e)?[]:{},e));for(var h in e){let d=e[h],f,p;d!=null&&typeof d=="object"&&(d.__proto__===a||d.__proto__===o)&&(f=l.findIndex(b=>b.subject===d),f>-1?i[h]=l[f].copy:(p=Object.assign(Array.isArray(d)?[]:{},d),l.unshift({subject:d,copy:p}),i[h]=this.deepClone(d,p,l)))}return i}}let Lg=class Sf extends Pe{constructor(e,i,l){super(e),this.element=i,this.container=this._lookupContainer(),this.parent=l,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var e=this.table.options.popupContainer;return typeof e=="string"?(e=document.querySelector(e),e||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)")):e===!0&&(e=this.table.element),e&&!this._checkContainerIsParent(e)&&(e=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),e||(e=document.body),e}_checkContainerIsParent(e,i=this.table.element){return e===i?!0:i.parentNode?this._checkContainerIsParent(e,i.parentNode):!1}renderCallback(e){this.renderedCallback=e}containerEventCoords(e){var i=!(e instanceof MouseEvent),l=i?e.touches[0].pageX:e.pageX,a=i?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let o=Ee.elOffset(this.container);l-=o.left,a-=o.top}return{x:l,y:a}}elementPositionCoords(e,i="right"){var l=Ee.elOffset(e),a,o,h;switch(this.container!==document.body&&(a=Ee.elOffset(this.container),l.left-=a.left,l.top-=a.top),i){case"right":o=l.left+e.offsetWidth,h=l.top-1;break;case"bottom":o=l.left,h=l.top+e.offsetHeight;break;case"left":o=l.left,h=l.top-1;break;case"top":o=l.left,h=l.top;break;case"center":o=l.left+e.offsetWidth/2,h=l.top+e.offsetHeight/2;break}return{x:o,y:h,offset:l}}show(e,i){var l,a,o,h,d;return this.destroyed||this.table.destroyed?this:(e instanceof HTMLElement?(o=e,d=this.elementPositionCoords(e,i),h=d.offset,l=d.x,a=d.y):typeof e=="number"?(h={top:0,left:0},l=e,a=i):(d=this.containerEventCoords(e),l=d.x,a=d.y,this.reversedX=!1),this.element.style.top=a+"px",this.element.style.left=l+"px",this.container.appendChild(this.element),typeof this.renderedCallback=="function"&&this.renderedCallback(),this._fitToScreen(l,a,o,h,i),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",f=>{f.stopPropagation()}),this)}_fitToScreen(e,i,l,a,o){var h=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;(e+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",l?this.element.style.right=this.container.offsetWidth-a.left+"px":this.element.style.right=this.container.offsetWidth-e+"px",this.reversedX=!0);let d=Math.max(this.container.offsetHeight,h?this.container.scrollHeight:0);if(i+this.element.offsetHeight>d)if(l)switch(o){case"bottom":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-l.offsetHeight-1+"px";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+l.offsetHeight+1+"px"}else this.element.style.height=d+"px"}isVisible(){return this.visible}hideOnBlur(e){return this.blurable=!0,this.visible&&(setTimeout(()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)},100),this.blurCallback=e),this}_escapeCheck(e){e.keyCode==27&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(e=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!e&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(e){return this.childPopup&&this.childPopup.hide(),this.childPopup=new Sf(this.table,e,this),this.childPopup}};class ie extends Pe{constructor(e,i){super(e),this._handler=null}initialize(){}registerTableOption(e,i){this.table.optionsList.register(e,i)}registerColumnOption(e,i){this.table.columnManager.optionsList.register(e,i)}registerTableFunction(e,i){typeof this.table[e]>"u"?this.table[e]=(...l)=>(this.table.initGuard(e),i(...l)):console.warn("Unable to bind table function, name already in use",e)}registerComponentFunction(e,i,l){return this.table.componentFunctionBinder.bind(e,i,l)}registerDataHandler(e,i){this.table.rowManager.registerDataPipelineHandler(e,i),this._handler=e}registerDisplayHandler(e,i){this.table.rowManager.registerDisplayPipelineHandler(e,i),this._handler=e}displayRows(e){var i=this.table.rowManager.displayRows.length-1,l;if(this._handler&&(l=this.table.rowManager.displayPipeline.findIndex(a=>a.handler===this._handler),l>-1&&(i=l)),e&&(i=i+e),this._handler)return i>-1?this.table.rowManager.getDisplayRows(i):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(e,i){i||(i=this._handler),i&&this.table.rowManager.refreshActiveData(i,!1,e)}footerAppend(e){return this.table.footerManager.append(e)}footerPrepend(e){return this.table.footerManager.prepend(e)}footerRemove(e){return this.table.footerManager.remove(e)}popup(e,i){return new Lg(this.table,e,i)}alert(e,i){return this.table.alertManager.alert(e,i)}clearAlert(){return this.table.alertManager.clear()}}var Ag={rownum:function(m,e,i,l,a,o){return o.getPosition()}};const Gs=class Gs extends ie{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var i=!1,l={};this.allowedTypes.forEach(a=>{var o="accessor"+(a.charAt(0).toUpperCase()+a.slice(1)),h;e.definition[o]&&(h=this.lookupAccessor(e.definition[o]),h&&(i=!0,l[o]={accessor:h,params:e.definition[o+"Params"]||{}}))}),i&&(e.modules.accessor=l)}lookupAccessor(e){var i=!1;switch(typeof e){case"string":Gs.accessors[e]?i=Gs.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":i=e;break}return i}transformRow(e,i){var l="accessor"+(i.charAt(0).toUpperCase()+i.slice(1)),a=e.getComponent(),o=Ee.deepClone(e.data||{});return this.table.columnManager.traverse(function(h){var d,f,p,b;h.modules.accessor&&(f=h.modules.accessor[l]||h.modules.accessor.accessor||!1,f&&(d=h.getFieldValue(o),d!="undefined"&&(b=h.getComponent(),p=typeof f.params=="function"?f.params(d,o,i,b,a):f.params,h.setFieldValue(o,f.accessor(d,o,i,p,b,a)))))}),o}};V(Gs,"moduleName","accessor"),V(Gs,"accessors",Ag);let jo=Gs;var Hg={method:"GET"};function Po(m,e){var i=[];if(e=e||"",Array.isArray(m))m.forEach((a,o)=>{i=i.concat(Po(a,e?e+"["+o+"]":o))});else if(typeof m=="object")for(var l in m)i=i.concat(Po(m[l],e?e+"["+l+"]":l));else i.push({key:e,value:m});return i}function kg(m){var e=Po(m),i=[];return e.forEach(function(l){i.push(encodeURIComponent(l.key)+"="+encodeURIComponent(l.value))}),i.join("&")}function Mf(m,e,i){return m&&i&&Object.keys(i).length&&(!e.method||e.method.toLowerCase()=="get")&&(e.method="get",m+=(m.includes("?")?"&":"?")+kg(i)),m}function Og(m,e,i){var l;return new Promise((a,o)=>{if(m=this.urlGenerator.call(this.table,m,e,i),e.method.toUpperCase()!="GET")if(l=typeof this.table.options.ajaxContentType=="object"?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType],l){for(var h in l.headers)e.headers||(e.headers={}),typeof e.headers[h]>"u"&&(e.headers[h]=l.headers[h]);e.body=l.body.call(this,m,e,i)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);m?(typeof e.headers>"u"&&(e.headers={}),typeof e.headers.Accept>"u"&&(e.headers.Accept="application/json"),typeof e.headers["X-Requested-With"]>"u"&&(e.headers["X-Requested-With"]="XMLHttpRequest"),typeof e.mode>"u"&&(e.mode="cors"),e.mode=="cors"?(typeof e.headers.Origin>"u"&&(e.headers.Origin=window.location.origin),typeof e.credentials>"u"&&(e.credentials="same-origin")):typeof e.credentials>"u"&&(e.credentials="include"),fetch(m,e).then(d=>{d.ok?d.json().then(f=>{a(f)}).catch(f=>{o(f),console.warn("Ajax Load Error - Invalid JSON returned",f)}):(console.error("Ajax Load Error - Connection Error: "+d.status,d.statusText),o(d))}).catch(d=>{console.error("Ajax Load Error - Connection Error: ",d),o(d)})):(console.warn("Ajax Load Error - No URL Set"),a([]))})}function Wo(m,e){var i=[];if(e=e||"",Array.isArray(m))m.forEach((a,o)=>{i=i.concat(Wo(a,e?e+"["+o+"]":o))});else if(typeof m=="object")for(var l in m)i=i.concat(Wo(m[l],e?e+"["+l+"]":l));else i.push({key:e,value:m});return i}var _g={json:{headers:{"Content-Type":"application/json"},body:function(m,e,i){return JSON.stringify(i)}},form:{headers:{},body:function(m,e,i){var l=Wo(i),a=new FormData;return l.forEach(function(o){a.append(o.key,o.value)}),a}}};const Dt=class Dt extends ie{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=Dt.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||Dt.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||Dt.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,i,l,a){var o=this.table.options.ajaxParams;return o&&(typeof o=="function"&&(o=o.call(this.table)),a=Object.assign(Object.assign({},o),a)),a}requestDataCheck(e,i,l,a){return!!(!e&&this.url||typeof e=="string")}requestData(e,i,l,a,o){var h;return!o&&this.requestDataCheck(e)?(e&&this.setUrl(e),h=this.generateConfig(l),this.sendRequest(this.url,i,h)):o}setDefaultConfig(e={}){this.config=Object.assign({},Dt.defaultConfig),typeof e=="string"?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var i=Object.assign({},this.config);return typeof e=="string"?i.method=e:Object.assign(i,e),i}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,i,l){return this.table.options.ajaxRequesting.call(this.table,e,i)!==!1?this.loaderPromise(e,l,i).then(a=>(this.table.options.ajaxResponse&&(a=this.table.options.ajaxResponse.call(this.table,e,i,a)),a)):Promise.reject()}};V(Dt,"moduleName","ajax"),V(Dt,"defaultConfig",Hg),V(Dt,"defaultURLGenerator",Mf),V(Dt,"defaultLoaderPromise",Og),V(Dt,"contentTypeFormatters",_g);let qo=Dt;var Bg={replace:function(m){return this.table.setData(m)},update:function(m){return this.table.updateOrAddData(m)},insert:function(m){return this.table.addData(m)}},Ng={table:function(m){var e=[],i=!0,l=this.table.columnManager.columns,a=[],o=[];return m=m.split(`
`),m.forEach(function(h){e.push(h.split("	"))}),e.length&&!(e.length===1&&e[0].length<2)?(e[0].forEach(function(h){var d=l.find(function(f){return h&&f.definition.title&&h.trim()&&f.definition.title.trim()===h.trim()});d?a.push(d):i=!1}),i||(i=!0,a=[],e[0].forEach(function(h){var d=l.find(function(f){return h&&f.field&&h.trim()&&f.field.trim()===h.trim()});d?a.push(d):i=!1}),i||(a=this.table.columnManager.columnsByIndex)),i&&e.shift(),e.forEach(function(h){var d={};h.forEach(function(f,p){a[p]&&(d[a[p].field]=f)}),o.push(d)}),o):!1}},Fg={copyToClipboard:["ctrl + 67","meta + 67"]},Vg={copyToClipboard:function(m){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}},Ug={keybindings:{bindings:Fg,actions:Vg}};const Mi=class Mi extends ie{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(this.mode===!0||this.mode==="copy")&&this.table.element.addEventListener("copy",e=>{var i,l,a;this.blocked||(e.preventDefault(),this.customSelection?(i=this.customSelection,this.table.options.clipboardCopyFormatter&&(i=this.table.options.clipboardCopyFormatter("plain",i))):(a=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),l=this.table.modules.export.generateHTMLTable(a),i=l?this.generatePlainContent(a):"",this.table.options.clipboardCopyFormatter&&(i=this.table.options.clipboardCopyFormatter("plain",i),l=this.table.options.clipboardCopyFormatter("html",l))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",i):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",i),l&&e.clipboardData.setData("text/html",l)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",i),l&&e.originalEvent.clipboardData.setData("text/html",l)),this.dispatchExternal("clipboardCopied",i,l),this.reset())}),(this.mode===!0||this.mode==="paste")&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var i=[];return e.forEach(l=>{var a=[];l.columns.forEach(o=>{var h="";if(o)if(l.type==="group"&&(o.value=o.component.getKey()),o.value===null)h="";else switch(typeof o.value){case"object":h=JSON.stringify(o.value);break;case"undefined":h="";break;default:h=o.value}a.push(h)}),i.push(a.join("	"))}),i.join(`
`)}copy(e,i){var l,a;this.blocked=!1,this.customSelection=!1,(this.mode===!0||this.mode==="copy")&&(this.rowRange=e||this.table.options.clipboardCopyRowRange,typeof window.getSelection<"u"&&typeof document.createRange<"u"?(e=document.createRange(),e.selectNodeContents(this.table.element),l=window.getSelection(),l.toString()&&i&&(this.customSelection=l.toString()),l.removeAllRanges(),l.addRange(e)):typeof document.selection<"u"&&typeof document.body.createTextRange<"u"&&(a=document.body.createTextRange(),a.moveToElementText(this.table.element),a.select()),document.execCommand("copy"),l&&l.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=Mi.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e;break}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=Mi.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e;break}}paste(e){var i,l,a;this.checkPasteOrigin(e)&&(i=this.getPasteData(e),l=this.pasteParser.call(this,i),l?(e.preventDefault(),this.table.modExists("mutator")&&(l=this.mutateData(l)),a=this.pasteAction.call(this,l),this.dispatchExternal("clipboardPasted",i,l,a)):this.dispatchExternal("clipboardPasteError",i))}mutateData(e){var i=[];return Array.isArray(e)?e.forEach(l=>{i.push(this.table.modules.mutator.transformRow(l,"clipboard"))}):i=e,i}checkPasteOrigin(e){var i=!0,l=this.confirm("clipboard-paste",[e]);return(l||!["DIV","SPAN"].includes(e.target.tagName))&&(i=!1),i}getPasteData(e){var i;return window.clipboardData&&window.clipboardData.getData?i=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?i=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(i=e.originalEvent.clipboardData.getData("text/plain")),i}};V(Mi,"moduleName","clipboard"),V(Mi,"moduleExtensions",Ug),V(Mi,"pasteActions",Bg),V(Mi,"pasteParsers",Ng);let Yo=Mi;class Gg{constructor(e){return this._row=e,new Proxy(this,{get:function(i,l,a){return typeof i[l]<"u"?i[l]:i._row.table.componentFunctionBinder.handle("row",i._row,l)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var e=[];return this._row.getCells().forEach(function(i){e.push(i.getComponent())}),e}getCell(e){var i=this._row.getCell(e);return i?i.getComponent():!1}_getSelf(){return this._row}}class xf{constructor(e){return this._cell=e,new Proxy(this,{get:function(i,l,a){return typeof i[l]<"u"?i[l]:i._cell.table.componentFunctionBinder.handle("cell",i._cell,l)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(e){return this._cell.row.getData(e)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(e,i){typeof i>"u"&&(i=!0),this._cell.setValue(e,i)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class Kl extends Pe{constructor(e,i){super(e.table),this.table=e.table,this.column=e,this.row=i,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.column.isRowHeader&&this.element.classList.add("tabulator-row-header")}_configureCell(){var e=this.element,i=this.column.getField(),l={top:"flex-start",bottom:"flex-end",middle:"center"},a={left:"flex-start",right:"flex-end",center:"center"};if(e.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(e.style.display="inline-flex",e.style.alignItems=l[this.column.vertAlign]||"",this.column.hozAlign&&(e.style.justifyContent=a[this.column.hozAlign]||"")),i&&e.setAttribute("tabulator-field",i),this.column.definition.cssClass){var o=this.column.definition.cssClass.split(" ");o.forEach(h=>{e.classList.add(h)})}this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var e;switch(e=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value),typeof e){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",e!=null&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=e}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(e,i,l){var a=this.setValueProcessData(e,i,l);a&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(e,i,l){var a=!1;return(this.value!==e||l)&&(a=!0,i&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),a&&this.dispatch("cell-value-changed",this),a}setValueActual(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new xf(this)),this.component}}class Df{constructor(e){return this._column=e,this.type="ColumnComponent",new Proxy(this,{get:function(i,l,a){return typeof i[l]<"u"?i[l]:i._column.table.componentFunctionBinder.handle("column",i._column,l)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var e=[];return this._column.cells.forEach(function(i){e.push(i.getComponent())}),e}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(e){e.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(e){e.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var e=[];return this._column.columns.length&&this._column.columns.forEach(function(i){e.push(i.getComponent())}),e}getParentColumn(){return this._column.getParentComponent()}_getSelf(){return this._column}scrollTo(e,i){return this._column.table.columnManager.scrollToColumn(this._column,e,i)}getTable(){return this._column.table}move(e,i){var l=this._column.table.columnManager.findColumn(e);l?this._column.table.columnManager.moveColumn(this._column,l,i):console.warn("Move Error - No matching column found:",l)}getNextColumn(){var e=this._column.nextColumn();return e?e.getComponent():!1}getPrevColumn(){var e=this._column.prevColumn();return e?e.getComponent():!1}updateDefinition(e){return this._column.updateDefinition(e)}getWidth(){return this._column.getWidth()}setWidth(e){var i;return e===!0?i=this._column.reinitializeWidth(!0):i=this._column.setWidth(e),this._column.table.columnManager.rerenderColumns(!0),i}}var zf={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};const Ki=class Ki extends Pe{constructor(e,i,l){super(i.table),this.definition=e,this.parent=i,this.type="column",this.columns=[],this.cells=[],this.isGroup=!1,this.isRowHeader=l,this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((a,o)=>{var h=new Ki(a,this);this.attachColumn(h)}),this.checkColumnVisibility()):i.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.isRowHeader&&e.classList.add("tabulator-row-header"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end";break}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let i in e)typeof this.definition[i]>"u"&&(this.definition[i]=e[i]);this.definition=this.table.columnManager.optionsList.generate(Ki.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{Ki.defaultOptionList.indexOf(e)===-1&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),e.headerVertical==="flip"&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;if(this.dispatch("column-layout",this),typeof e.visible<"u"&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var i=e.cssClass.split(" ");i.forEach(l=>{this.element.classList.add(l)})}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,i=document.createElement("div");if(i.classList.add("tabulator-col-title"),e.headerWordWrap&&i.classList.add("tabulator-col-title-wrap"),e.editableTitle){var l=document.createElement("input");l.classList.add("tabulator-title-editor"),l.addEventListener("click",a=>{a.stopPropagation(),l.focus()}),l.addEventListener("mousedown",a=>{a.stopPropagation()}),l.addEventListener("change",()=>{e.title=l.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),i.appendChild(l),e.field?this.langBind("columns|"+e.field,a=>{l.value=a||e.title||"&nbsp;"}):l.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,a=>{this._formatColumnHeaderTitle(i,a||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(i,e.title||"&nbsp;");return i}_formatColumnHeaderTitle(e,i){var l=this.chain("column-format",[this,i,e],null,()=>i);switch(typeof l){case"object":l instanceof Node?e.appendChild(l):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",l));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=l}}_buildGroupHeader(){if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach(i=>{this.element.classList.add(i)})}this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var i=e,l=this.fieldStructure,a=l.length,o;for(let h=0;h<a&&(i=i[l[h]],o=i,!!i);h++);return o}_setFlatData(e,i){this.field&&(e[this.field]=i)}_setNestedData(e,i){var l=e,a=this.fieldStructure,o=a.length;for(let h=0;h<o;h++)if(h==o-1)l[a[h]]=i;else{if(!l[a[h]])if(typeof i<"u")l[a[h]]={};else break;l=l[a[h]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,i){var l=this.parent.isGroup?this.parent.getGroupElement().clientHeight:i||this.parent.getHeadersElement().clientHeight;this.element.style.height=l+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=l-this.contentElement.offsetHeight+"px"),this.columns.forEach(function(a){a.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()}),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?this.columns.length?this.columns[0].getFirstColumn():!1:this}getLastColumn(){return this.isGroup?this.columns.length?this.columns[this.columns.length-1].getLastColumn():!1:this}getColumns(e){var i=[];return e?this.columns.forEach(l=>{i.push(l),i=i.concat(l.getColumns(!0))}):i=this.columns,i}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var i=[];return this.isGroup&&e&&(this.columns.forEach(function(l){i.push(l.getDefinition(!0))}),this.definition.columns=i),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(i){i.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,i){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(l){l.show()}),!this.isGroup&&this.width===null&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,i),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,i){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(l){l.hide()}),this.dispatch("column-hide",this,i),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(i){i.visible&&(e+=i.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.table.initialized&&(this.element.style.width=e+"px"),this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var i=this.columns.indexOf(e);i>-1&&this.columns.splice(i,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(i){i.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this),this.subscribedExternal("columnWidth")&&this.dispatchExternal("columnWidth",this.getComponent())}checkCellHeights(){var e=[];this.cells.forEach(function(i){i.row.heightInitialized&&(i.row.getElement().offsetParent!==null?(e.push(i.row),i.row.clearCellHeight()):i.row.heightInitialized=!1)}),e.forEach(function(i){i.calcHeight()}),e.forEach(function(i){i.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(i){i.visible&&(e+=i.getWidth())}):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(i){i.setMinWidth()})}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(i){i.setMaxWidth()})}delete(){return new Promise((e,i)=>{this.isGroup&&this.columns.forEach(function(a){a.delete()}),this.dispatch("column-delete",this);var l=this.cells.length;for(let a=0;a<l;a++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),this.dispatch("column-deleted",this),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var i=new Kl(this,e);return this.cells.push(i),i}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._nextVisibleColumn(e+1):!1}_nextVisibleColumn(e){var i=this.table.columnManager.getColumnByIndex(e);return!i||i.visible?i:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._prevVisibleColumn(e-1):!1}_prevVisibleColumn(e){var i=this.table.columnManager.getColumnByIndex(e);return!i||i.visible?i:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,typeof this.definition.width<"u"&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(a=>{a.clearWidth()}));var i=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(a=>{var o=a.getWidth();o>i&&(i=o)}),i)){var l=i+1;e?this.setWidth(l):(this.maxInitialWidth&&!e&&(l=Math.min(l,this.maxInitialWidth)),this.setWidthActual(l))}}}updateDefinition(e){var i;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(i=Object.assign({},this.getDefinition()),i=Object.assign(i,e),this.table.columnManager.addColumn(i,!1,this).then(l=>(i.field==this.field&&(this.field=!1),this.delete().then(()=>l.getComponent()))))}deleteCell(e){var i=this.cells.indexOf(e);i>-1&&this.cells.splice(i,1)}getComponent(){return this.component||(this.component=new Df(this)),this.component}getPosition(){return this.table.columnManager.getVisibleColumnsByIndex().indexOf(this)+1}getParentComponent(){return this.parent instanceof Ki?this.parent.getComponent():!1}};V(Ki,"defaultOptionList",zf);let $i=Ki;class pa{constructor(e){return this._row=e,new Proxy(this,{get:function(i,l,a){return typeof i[l]<"u"?i[l]:i._row.table.componentFunctionBinder.handle("row",i._row,l)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getCells(){var e=[];return this._row.getCells().forEach(function(i){e.push(i.getComponent())}),e}getCell(e){var i=this._row.getCell(e);return i?i.getComponent():!1}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(e){return this._row.watchPosition(e)}delete(){return this._row.delete()}scrollTo(e,i){return this._row.table.rowManager.scrollToRow(this._row,e,i)}move(e,i){this._row.moveToRow(e,i)}update(e){return this._row.updateData(e)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var e=this._row.nextRow();return e&&e.getComponent()}getPrevRow(){var e=this._row.prevRow();return e&&e.getComponent()}}class Qe extends Pe{constructor(e,i,l="row"){super(i.table),this.parent=i,this.data={},this.type=l,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(e)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(e,i){if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,i),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,i)}rendered(){this.cells.forEach(e=>{e.cellRendered()})}reinitializeHeight(){this.heightInitialized=!1,this.element&&this.element.offsetParent!==null&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&this.element.offsetParent!==null&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(e){var i=0,l=0;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(l=this.calcMinHeight(),i=this.calcMaxHeight(),e?this.height=Math.max(i,l):this.height=this.manualHeight?this.height:Math.max(i,l)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}calcMinHeight(){return this.table.options.resizableRows?this.element.clientHeight:0}calcMaxHeight(){var e=0;return this.cells.forEach(function(i){var l=i.getHeight();l>e&&(e=l)}),e}setCellHeight(){this.cells.forEach(function(e){e.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(e){e.clearHeight()})}normalizeHeight(e){e&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}setHeight(e,i){(this.height!=e||i)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight,this.subscribedExternal("rowHeight")&&this.dispatchExternal("rowHeight",this.getComponent()))}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(e){var i=this.cells.indexOf(e);i>-1&&this.cells.splice(i,1)}setData(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}updateData(e){var i=this.element&&Ee.elVisible(this.element),l={},a;return new Promise((o,h)=>{typeof e=="string"&&(e=JSON.parse(e)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(l=Object.assign(l,this.data),l=Object.assign(l,e)),a=this.chain("row-data-changing",[this,l,e],null,e);for(let d in a)this.data[d]=a[d];this.dispatch("row-data-save-after",this);for(let d in e)this.table.columnManager.getColumnsByFieldRoot(d).forEach(p=>{let b=this.getCell(p.getField());if(b){let y=p.getFieldValue(a);b.getValue()!==y&&(b.setValueProcessData(y),i&&b.cellRendered())}});i?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,i,e),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),o()})}getData(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}getCell(e){var i=!1;return e=this.table.columnManager.findColumn(e),!this.initialized&&this.cells.length===0&&this.generateCells(),i=this.cells.find(function(l){return l.column===e}),i}getCellIndex(e){return this.cells.findIndex(function(i){return i===e})}findCell(e){return this.cells.find(i=>i.element===e)}getCells(){return!this.initialized&&this.cells.length===0&&this.generateCells(),this.cells}nextRow(){var e=this.table.rowManager.nextDisplayRow(this,!0);return e||!1}prevRow(){var e=this.table.rowManager.prevDisplayRow(this,!0);return e||!1}moveToRow(e,i){var l=this.table.rowManager.findRow(e);l?(this.table.rowManager.moveRowActual(this,l,!i),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(e){this.detachModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var e=this.cells.length;for(let i=0;i<e;i++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return this.isDisplayed()?this.position:!1}setPosition(e){e!=this.position&&(this.position=e,this.positionWatchers.forEach(i=>{i(this.position)}))}watchPosition(e){this.positionWatchers.push(e),e(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new pa(this)),this.component}}var jg={avg:function(m,e,i){var l=0,a=typeof i.precision<"u"?i.precision:2;return m.length&&(l=m.reduce(function(o,h){return Number(o)+Number(h)}),l=l/m.length,l=a!==!1?l.toFixed(a):l),parseFloat(l).toString()},max:function(m,e,i){var l=null,a=typeof i.precision<"u"?i.precision:!1;return m.forEach(function(o){o=Number(o),(o>l||l===null)&&(l=o)}),l!==null?a!==!1?l.toFixed(a):l:""},min:function(m,e,i){var l=null,a=typeof i.precision<"u"?i.precision:!1;return m.forEach(function(o){o=Number(o),(o<l||l===null)&&(l=o)}),l!==null?a!==!1?l.toFixed(a):l:""},sum:function(m,e,i){var l=0,a=typeof i.precision<"u"?i.precision:!1;return m.length&&m.forEach(function(o){o=Number(o),l+=isNaN(o)?0:Number(o)}),a!==!1?l.toFixed(a):l},concat:function(m,e,i){var l=0;return m.length&&(l=m.reduce(function(a,o){return String(a)+String(o)})),l},count:function(m,e,i){var l=0;return m.length&&m.forEach(function(a){a&&l++}),l},unique:function(m,e,i){var l=m.filter((a,o)=>(m||a===0)&&m.indexOf(a)===o);return l.length}};const xi=class xi extends ie{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new $i({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,i){return this.topRow&&i.unshift(this.topRow),this.botRow&&i.push(this.botRow),i}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?((this.table.options.columnCalcs=="table"||this.table.options.columnCalcs=="both")&&this.recalcActiveRows(),this.table.options.columnCalcs!="table"&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var i=e.definition,l={topCalcParams:i.topCalcParams||{},botCalcParams:i.bottomCalcParams||{}};if(i.topCalc){switch(typeof i.topCalc){case"string":xi.calculations[i.topCalc]?l.topCalc=xi.calculations[i.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",i.topCalc);break;case"function":l.topCalc=i.topCalc;break}l.topCalc&&(e.modules.columnCalcs=l,this.topCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeTopRow())}if(i.bottomCalc){switch(typeof i.bottomCalc){case"string":xi.calculations[i.bottomCalc]?l.botCalc=xi.calculations[i.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",i.bottomCalc);break;case"function":l.botCalc=i.bottomCalc;break}l.botCalc&&(e.modules.columnCalcs=l,this.botCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){var e=document.createDocumentFragment();this.topInitialized||(e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var i,l;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(i=this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),l=this.generateRow("top",i),this.topRow=l;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(l.getElement()),l.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),l=this.generateRow("bottom",i),this.botRow=l;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(l.getElement()),l.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){if((this.topCalcs.length||this.botCalcs.length)&&(this.table.options.columnCalcs!=="group"&&this.recalcActiveRows(),this.table.options.groupBy&&this.table.options.columnCalcs!=="table")){var e=this.table.modules.groupRows.getChildGroups();e.forEach(i=>{this.recalcGroup(i)})}}recalcGroup(e){var i,l;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(i=this.rowsToData(e.rows),l=this.generateRowData("bottom",i),e.calcs.bottom.updateData(l),e.calcs.bottom.reinitialize()),e.calcs.top&&(i=this.rowsToData(e.rows),l=this.generateRowData("top",i),e.calcs.top.updateData(l),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var i=[],l=this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs,a=this.table.modules.dataTree;return e.forEach(o=>{var h;i.push(o.getData()),l&&((h=o.modules.dataTree)!=null&&h.open)&&this.rowsToData(a.getFilteredTreeChildren(o)).forEach(d=>{i.push(o)})}),i}generateRow(e,i){var l=this.generateRowData(e,i),a;return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),a=new Qe(l,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),a.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),a.component=!1,a.getComponent=()=>(a.component||(a.component=new Gg(a)),a.component),a.generateCells=()=>{var o=[];this.table.columnManager.columnsByIndex.forEach(h=>{this.genColumn.setField(h.getField()),this.genColumn.hozAlign=h.hozAlign,h.definition[e+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter(h.definition[e+"CalcFormatter"]),params:h.definition[e+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=h.definition.cssClass;var d=new Kl(this.genColumn,a);d.getElement(),d.column=h,d.setWidth(),h.cells.push(d),o.push(d),h.visible||d.hide()}),a.cells=o},a}generateRowData(e,i){var l={},a=e=="top"?this.topCalcs:this.botCalcs,o=e=="top"?"topCalc":"botCalc",h,d;return a.forEach(function(f){var p=[];f.modules.columnCalcs&&f.modules.columnCalcs[o]&&(i.forEach(function(b){p.push(f.getFieldValue(b))}),d=o+"Params",h=typeof f.modules.columnCalcs[d]=="function"?f.modules.columnCalcs[d](p,i):f.modules.columnCalcs[d],f.setFieldValue(l,f.modules.columnCalcs[o](p,i,h)))}),l}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={},i;return this.table.options.groupBy&&this.table.modExists("groupRows")?(i=this.table.modules.groupRows.getGroups(!0),i.forEach(l=>{e[l.getKey()]=this.getGroupResults(l)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var i=e._getSelf(),l=e.getSubGroups(),a={},o={};return l.forEach(h=>{a[h.getKey()]=this.getGroupResults(h)}),o={top:i.calcs.top?i.calcs.top.getData():{},bottom:i.calcs.bottom?i.calcs.bottom.getData():{},groups:a},o}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}};V(xi,"moduleName","columnCalcs"),V(xi,"calculations",jg);let Xo=xi;class Lf extends ie{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,i=this.table.options;switch(this.field=i.dataTreeChildField,this.indent=i.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),i.dataTreeBranchElement?i.dataTreeBranchElement===!0?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):typeof i.dataTreeBranchElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=i.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),i.dataTreeCollapseElement?typeof i.dataTreeCollapseElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=i.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),i.dataTreeExpandElement?typeof i.dataTreeExpandElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=i.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof i.dataTreeStartExpanded){case"boolean":this.startOpen=function(l,a){return i.dataTreeStartExpanded};break;case"function":this.startOpen=i.dataTreeStartExpanded;break;default:this.startOpen=function(l,a){return i.dataTreeStartExpanded[a]};break}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){var i;e&&(i=this.table.rowManager.getRows(),i.forEach(l=>{this.reinitializeRowChildren(l)}))}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||(e?e.field:!1)}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(i=>{e=e.concat(this.getTreeChildren(i,!1,!0))}),e}rowDataChanged(e,i,l){this.redrawNeeded(l)&&(this.initializeRow(e),i&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){var i=e.column.getField();i===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var i=e.getData()[this.field],l=Array.isArray(i),a=l||!l&&typeof i=="object"&&i!==null;!a&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!a&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:a?e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0):!1,controlEl:e.modules.dataTree&&a?e.modules.dataTree.controlEl:!1,branchEl:e.modules.dataTree&&a?e.modules.dataTree.branchEl:!1,parent:e.modules.dataTree?e.modules.dataTree.parent:!1,children:a}}reinitializeRowChildren(e){var i=this.getTreeChildren(e,!1,!0);i.forEach(function(l){l.reinitialize(!0)})}layoutRow(e){var i=this.elementField?e.getCell(this.elementField):e.getCells()[0],l=i.getElement(),a=e.modules.dataTree;a.branchEl&&(a.branchEl.parentNode&&a.branchEl.parentNode.removeChild(a.branchEl),a.branchEl=!1),a.controlEl&&(a.controlEl.parentNode&&a.controlEl.parentNode.removeChild(a.controlEl),a.controlEl=!1),this.generateControlElement(e,l),e.getElement().classList.add("tabulator-tree-level-"+a.index),a.index&&(this.branchEl?(a.branchEl=this.branchEl.cloneNode(!0),l.insertBefore(a.branchEl,l.firstChild),this.table.rtl?a.branchEl.style.marginRight=(a.branchEl.offsetWidth+a.branchEl.style.marginLeft)*(a.index-1)+a.index*this.indent+"px":a.branchEl.style.marginLeft=(a.branchEl.offsetWidth+a.branchEl.style.marginRight)*(a.index-1)+a.index*this.indent+"px"):this.table.rtl?l.style.paddingRight=parseInt(window.getComputedStyle(l,null).getPropertyValue("padding-right"))+a.index*this.indent+"px":l.style.paddingLeft=parseInt(window.getComputedStyle(l,null).getPropertyValue("padding-left"))+a.index*this.indent+"px")}generateControlElement(e,i){var l=e.modules.dataTree,a=l.controlEl;i=i||e.getCells()[0].getElement(),l.children!==!1&&(l.open?(l.controlEl=this.collapseEl.cloneNode(!0),l.controlEl.addEventListener("click",o=>{o.stopPropagation(),this.collapseRow(e)})):(l.controlEl=this.expandEl.cloneNode(!0),l.controlEl.addEventListener("click",o=>{o.stopPropagation(),this.expandRow(e)})),l.controlEl.addEventListener("mousedown",o=>{o.stopPropagation()}),a&&a.parentNode===i?a.parentNode.replaceChild(l.controlEl,a):i.insertBefore(l.controlEl,i.firstChild))}getRows(e){var i=[];return e.forEach((l,a)=>{var o,h;i.push(l),l instanceof Qe&&(l.create(),o=l.modules.dataTree,!o.index&&o.children!==!1&&(h=this.getChildren(l,!1,!0),h.forEach(d=>{d.create(),i.push(d)})))}),i}getChildren(e,i,l){var a=e.modules.dataTree,o=[],h=[];return a.children!==!1&&(a.open||i)&&(Array.isArray(a.children)||(a.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?o=this.table.modules.filter.filter(a.children):o=a.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(o,l),o.forEach(d=>{h.push(d);var f=this.getChildren(d,!1,!0);f.forEach(p=>{h.push(p)})})),h}generateChildren(e){var i=[],l=e.getData()[this.field];return Array.isArray(l)||(l=[l]),l.forEach(a=>{var o=new Qe(a||{},this.table.rowManager);o.create(),o.modules.dataTree.index=e.modules.dataTree.index+1,o.modules.dataTree.parent=e,o.modules.dataTree.children&&(o.modules.dataTree.open=this.startOpen(o.getComponent(),o.modules.dataTree.index)),i.push(o)}),i}expandRow(e,i){var l=e.modules.dataTree;l.children!==!1&&(l.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var i=e.modules.dataTree;i.children!==!1&&(i.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var i=e.modules.dataTree;i.children!==!1&&(i.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return e.modules.dataTree.parent?e.modules.dataTree.parent.getComponent():!1}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var i=e.modules.dataTree,l=[],a;return i.children&&(Array.isArray(i.children)||(i.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?a=this.table.modules.filter.filter(i.children):a=i.children,a.forEach(o=>{o instanceof Qe&&l.push(o)})),l}rowDeleting(e){var i=e.modules.dataTree;i&&i.children&&Array.isArray(i.children)&&i.children.forEach(l=>{l instanceof Qe&&l.wipe()})}rowDelete(e){var i=e.modules.dataTree.parent,l;i&&(l=this.findChildIndex(e,i),l!==!1&&i.data[this.field].splice(l,1),i.data[this.field].length||delete i.data[this.field],this.initializeRow(i),this.layoutRow(i)),this.refreshData(!0)}addTreeChildRow(e,i,l,a){var o=!1;typeof i=="string"&&(i=JSON.parse(i)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),typeof a<"u"&&(o=this.findChildIndex(a,e),o!==!1&&e.data[this.field].splice(l?o:o+1,0,i)),o===!1&&(l?e.data[this.field].unshift(i):e.data[this.field].push(i)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,i){var l=!1;return typeof e=="object"?e instanceof Qe?l=e.data:e instanceof pa?l=e._getSelf().data:typeof HTMLElement<"u"&&e instanceof HTMLElement?i.modules.dataTree&&(l=i.modules.dataTree.children.find(a=>a instanceof Qe?a.element===e:!1),l&&(l=l.data)):e===null&&(l=!1):typeof e>"u"?l=!1:l=i.data[this.field].find(a=>a.data[this.table.options.index]==e),l&&(Array.isArray(i.data[this.field])&&(l=i.data[this.field].indexOf(l)),l==-1&&(l=!1)),l}getTreeChildren(e,i,l){var a=e.modules.dataTree,o=[];return a&&a.children&&(Array.isArray(a.children)||(a.children=this.generateChildren(e)),a.children.forEach(h=>{h instanceof Qe&&(o.push(i?h.getComponent():h),l&&this.getTreeChildren(h,i,l).forEach(d=>{o.push(d)}))})),o}getChildField(){return this.field}redrawNeeded(e){return(this.field?typeof e[this.field]<"u":!1)||(this.elementField?typeof e[this.elementField]<"u":!1)}}V(Lf,"moduleName","dataTree");function Pg(m,e={},i){var l=e.delimiter?e.delimiter:",",a=[],o=[];m.forEach(h=>{var d=[];switch(h.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":h.columns.forEach((f,p)=>{f&&f.depth===1&&(o[p]=typeof f.value>"u"||f.value===null?"":'"'+String(f.value).split('"').join('""')+'"')});break;case"row":h.columns.forEach(f=>{if(f){switch(typeof f.value){case"object":f.value=f.value!==null?JSON.stringify(f.value):"";break;case"undefined":f.value="";break}d.push('"'+String(f.value).split('"').join('""')+'"')}}),a.push(d.join(l));break}}),o.length&&a.unshift(o.join(l)),a=a.join(`
`),e.bom&&(a="\uFEFF"+a),i(a,"text/csv")}function Wg(m,e,i){var l=[];m.forEach(a=>{var o={};switch(a.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":a.columns.forEach(h=>{h&&(o[h.component.getTitleDownload()||h.component.getField()]=h.value)}),l.push(o);break}}),l=JSON.stringify(l,null,"	"),i(l,"application/json")}function qg(m,e={},i){var l=[],a=[],o={},h=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},d=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},f=e.jsPDF||{},p=e.title?e.title:"",b,y;f.orientation||(f.orientation=e.orientation||"landscape"),f.unit||(f.unit="pt"),m.forEach(M=>{switch(M.type){case"header":l.push(w(M));break;case"group":a.push(w(M,h));break;case"calc":a.push(w(M,d));break;case"row":a.push(w(M));break}});function w(M,H){var _=[];return M.columns.forEach(F=>{var B;if(F){switch(typeof F.value){case"object":F.value=F.value!==null?JSON.stringify(F.value):"";break;case"undefined":F.value="";break}B={content:F.value,colSpan:F.width,rowSpan:F.height},H&&(B.styles=H),_.push(B)}}),_}b=this.dependencyRegistry.lookup("jspdf","jsPDF"),y=new b(f),e.autoTable&&(typeof e.autoTable=="function"?o=e.autoTable(y)||{}:o=e.autoTable),p&&(o.didDrawPage=function(M){y.text(p,40,30)}),o.head=l,o.body=a,y.autoTable(o),e.documentProcessing&&e.documentProcessing(y),i(y.output("arraybuffer"),"application/pdf")}function Yg(m,e,i){var l=this,a=e.sheetName||"Sheet1",o=this.dependencyRegistry.lookup("XLSX"),h=o.utils.book_new(),d=new Pe(this),f="compress"in e?e.compress:!0,p=e.writeOptions||{bookType:"xlsx",bookSST:!0,compression:f},b;p.type="binary",h.SheetNames=[],h.Sheets={};function y(){var H=[],_=[],F={},B={s:{c:0,r:0},e:{c:m[0]?m[0].columns.reduce(($,ee)=>$+(ee&&ee.width?ee.width:1),0):0,r:m.length}};return m.forEach(($,ee)=>{var oe=[];$.columns.forEach(function(W,ye){W?(oe.push(!(W.value instanceof Date)&&typeof W.value=="object"?JSON.stringify(W.value):W.value),(W.width>1||W.height>-1)&&(W.height>1||W.width>1)&&_.push({s:{r:ee,c:ye},e:{r:ee+W.height-1,c:ye+W.width-1}})):oe.push("")}),H.push(oe)}),o.utils.sheet_add_aoa(F,H),F["!ref"]=o.utils.encode_range(B),_.length&&(F["!merges"]=_),F}if(e.sheetOnly){i(y());return}if(e.sheets)for(var w in e.sheets)e.sheets[w]===!0?(h.SheetNames.push(w),h.Sheets[w]=y()):(h.SheetNames.push(w),d.commsSend(e.sheets[w],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:l.active,intercept:function(H){h.Sheets[w]=H}}));else h.SheetNames.push(a),h.Sheets[a]=y();e.documentProcessing&&(h=e.documentProcessing(h));function M(H){for(var _=new ArrayBuffer(H.length),F=new Uint8Array(_),B=0;B!=H.length;++B)F[B]=H.charCodeAt(B)&255;return _}b=o.write(h,p),i(M(b),"application/octet-stream")}function Xg(m,e,i){this.modExists("export",!0)&&i(this.modules.export.generateHTMLTable(m),"text/html")}function Qg(m,e,i){const l=[];m.forEach(a=>{const o={};switch(a.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":a.columns.forEach(h=>{h&&(o[h.component.getTitleDownload()||h.component.getField()]=h.value)}),l.push(JSON.stringify(o));break}}),i(l.join(`
`),"application/x-ndjson")}var Zg={csv:Pg,json:Wg,jsonLines:Qg,pdf:qg,xlsx:Yg,html:Xg};const js=class js extends ie{constructor(e){super(e),this.registerTableOption("downloadEncoder",function(i,l){return new Blob([i],{type:l})}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){}downloadToTab(e,i,l,a){this.download(e,i,l,a,!0)}download(e,i,l,a,o){var h=!1;function d(p,b){o?o===!0?this.triggerDownload(p,b,e,i,!0):o(p):this.triggerDownload(p,b,e,i)}if(typeof e=="function"?h=e:js.downloaders[e]?h=js.downloaders[e]:console.warn("Download Error - No such download type found: ",e),h){var f=this.generateExportList(a);h.call(this.table,f,l||{},d.bind(this))}}generateExportList(e){var i=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),l=this.table.options.groupHeaderDownload;return l&&!Array.isArray(l)&&(l=[l]),i.forEach(a=>{var o;a.type==="group"&&(o=a.columns[0],l&&l[a.indent]&&(o.value=l[a.indent](o.value,a.component._group.getRowCount(),a.component._group.getData(),a.component)))}),i}triggerDownload(e,i,l,a,o){var h=document.createElement("a"),d=this.table.options.downloadEncoder(e,i);d&&(o?window.open(window.URL.createObjectURL(d)):(a=a||"Tabulator."+(typeof l=="function"?"txt":l),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(d,a):(h.setAttribute("href",window.URL.createObjectURL(d)),h.setAttribute("download",a),h.style.display="none",document.body.appendChild(h),h.click(),document.body.removeChild(h))),this.dispatchExternal("downloadComplete"))}commsReceived(e,i,l){switch(i){case"intercept":this.download(l.type,"",l.options,l.active,l.intercept);break}}};V(js,"moduleName","download"),V(js,"downloaders",Zg);let Qo=js;function ma(m,e){var i=e.mask,l=typeof e.maskLetterChar<"u"?e.maskLetterChar:"A",a=typeof e.maskNumberChar<"u"?e.maskNumberChar:"9",o=typeof e.maskWildcardChar<"u"?e.maskWildcardChar:"*";function h(d){var f=i[d];typeof f<"u"&&f!==o&&f!==l&&f!==a&&(m.value=m.value+""+f,h(d+1))}m.addEventListener("keydown",d=>{var f=m.value.length,p=d.key;if(d.keyCode>46&&!d.ctrlKey&&!d.metaKey){if(f>=i.length)return d.preventDefault(),d.stopPropagation(),!1;switch(i[f]){case l:if(p.toUpperCase()==p.toLowerCase())return d.preventDefault(),d.stopPropagation(),!1;break;case a:if(isNaN(p))return d.preventDefault(),d.stopPropagation(),!1;break;case o:break;default:if(p!==i[f])return d.preventDefault(),d.stopPropagation(),!1}}}),m.addEventListener("keyup",d=>{d.keyCode>46&&e.maskAutoFill&&h(m.value.length)}),m.placeholder||(m.placeholder=i),e.maskAutoFill&&h(m.value.length)}function Kg(m,e,i,l,a){var o=m.getValue(),h=document.createElement("input");if(h.setAttribute("type",a.search?"search":"text"),h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",a.elementAttributes&&typeof a.elementAttributes=="object")for(let f in a.elementAttributes)f.charAt(0)=="+"?(f=f.slice(1),h.setAttribute(f,h.getAttribute(f)+a.elementAttributes["+"+f])):h.setAttribute(f,a.elementAttributes[f]);h.value=typeof o<"u"?o:"",e(function(){m.getType()==="cell"&&(h.focus({preventScroll:!0}),h.style.height="100%",a.selectContents&&h.select())});function d(f){(o===null||typeof o>"u")&&h.value!==""||h.value!==o?i(h.value)&&(o=h.value):l()}return h.addEventListener("change",d),h.addEventListener("blur",d),h.addEventListener("keydown",function(f){switch(f.keyCode){case 13:d();break;case 27:l();break;case 35:case 36:f.stopPropagation();break}}),a.mask&&ma(h,a),h}function Jg(m,e,i,l,a){var o=m.getValue(),h=a.verticalNavigation||"hybrid",d=String(o!==null&&typeof o<"u"?o:""),f=document.createElement("textarea"),p=0;if(f.style.display="block",f.style.padding="2px",f.style.height="100%",f.style.width="100%",f.style.boxSizing="border-box",f.style.whiteSpace="pre-wrap",f.style.resize="none",a.elementAttributes&&typeof a.elementAttributes=="object")for(let y in a.elementAttributes)y.charAt(0)=="+"?(y=y.slice(1),f.setAttribute(y,f.getAttribute(y)+a.elementAttributes["+"+y])):f.setAttribute(y,a.elementAttributes[y]);f.value=d,e(function(){m.getType()==="cell"&&(f.focus({preventScroll:!0}),f.style.height="100%",f.scrollHeight,f.style.height=f.scrollHeight+"px",m.getRow().normalizeHeight(),a.selectContents&&f.select())});function b(y){(o===null||typeof o>"u")&&f.value!==""||f.value!==o?(i(f.value)&&(o=f.value),setTimeout(function(){m.getRow().normalizeHeight()},300)):l()}return f.addEventListener("change",b),f.addEventListener("blur",b),f.addEventListener("keyup",function(){f.style.height="";var y=f.scrollHeight;f.style.height=y+"px",y!=p&&(p=y,m.getRow().normalizeHeight())}),f.addEventListener("keydown",function(y){switch(y.keyCode){case 13:y.shiftKey&&a.shiftEnterSubmit&&b();break;case 27:l();break;case 38:(h=="editor"||h=="hybrid"&&f.selectionStart)&&(y.stopImmediatePropagation(),y.stopPropagation());break;case 40:(h=="editor"||h=="hybrid"&&f.selectionStart!==f.value.length)&&(y.stopImmediatePropagation(),y.stopPropagation());break;case 35:case 36:y.stopPropagation();break}}),a.mask&&ma(f,a),f}function Ig(m,e,i,l,a){var o=m.getValue(),h=a.verticalNavigation||"editor",d=document.createElement("input");if(d.setAttribute("type","number"),typeof a.max<"u"&&d.setAttribute("max",a.max),typeof a.min<"u"&&d.setAttribute("min",a.min),typeof a.step<"u"&&d.setAttribute("step",a.step),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",a.elementAttributes&&typeof a.elementAttributes=="object")for(let b in a.elementAttributes)b.charAt(0)=="+"?(b=b.slice(1),d.setAttribute(b,d.getAttribute(b)+a.elementAttributes["+"+b])):d.setAttribute(b,a.elementAttributes[b]);d.value=o;var f=function(b){p()};e(function(){m.getType()==="cell"&&(d.removeEventListener("blur",f),d.focus({preventScroll:!0}),d.style.height="100%",d.addEventListener("blur",f),a.selectContents&&d.select())});function p(){var b=d.value;!isNaN(b)&&b!==""&&(b=Number(b)),b!==o?i(b)&&(o=b):l()}return d.addEventListener("keydown",function(b){switch(b.keyCode){case 13:p();break;case 27:l();break;case 38:case 40:h=="editor"&&(b.stopImmediatePropagation(),b.stopPropagation());break;case 35:case 36:b.stopPropagation();break}}),a.mask&&ma(d,a),d}function $g(m,e,i,l,a){var o=m.getValue(),h=document.createElement("input");if(h.setAttribute("type","range"),typeof a.max<"u"&&h.setAttribute("max",a.max),typeof a.min<"u"&&h.setAttribute("min",a.min),typeof a.step<"u"&&h.setAttribute("step",a.step),h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",a.elementAttributes&&typeof a.elementAttributes=="object")for(let f in a.elementAttributes)f.charAt(0)=="+"?(f=f.slice(1),h.setAttribute(f,h.getAttribute(f)+a.elementAttributes["+"+f])):h.setAttribute(f,a.elementAttributes[f]);h.value=o,e(function(){m.getType()==="cell"&&(h.focus({preventScroll:!0}),h.style.height="100%")});function d(){var f=h.value;!isNaN(f)&&f!==""&&(f=Number(f)),f!=o?i(f)&&(o=f):l()}return h.addEventListener("blur",function(f){d()}),h.addEventListener("keydown",function(f){switch(f.keyCode){case 13:d();break;case 27:l();break}}),h}function eb(m,e,i,l,a){var o=a.format,h=a.verticalNavigation||"editor",d=o?window.DateTime||luxon.DateTime:null,f=m.getValue(),p=document.createElement("input");function b(w){var M;return d.isDateTime(w)?M=w:o==="iso"?M=d.fromISO(String(w)):M=d.fromFormat(String(w),o),M.toFormat("yyyy-MM-dd")}if(p.type="date",p.style.padding="4px",p.style.width="100%",p.style.boxSizing="border-box",a.max&&p.setAttribute("max",o?b(a.max):a.max),a.min&&p.setAttribute("min",o?b(a.min):a.min),a.elementAttributes&&typeof a.elementAttributes=="object")for(let w in a.elementAttributes)w.charAt(0)=="+"?(w=w.slice(1),p.setAttribute(w,p.getAttribute(w)+a.elementAttributes["+"+w])):p.setAttribute(w,a.elementAttributes[w]);f=typeof f<"u"?f:"",o&&(d?f=b(f):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),p.value=f,e(function(){m.getType()==="cell"&&(p.focus({preventScroll:!0}),p.style.height="100%",a.selectContents&&p.select())});function y(){var w=p.value,M;if((f===null||typeof f>"u")&&w!==""||w!==f){if(w&&o)switch(M=d.fromFormat(String(w),"yyyy-MM-dd"),o){case!0:w=M;break;case"iso":w=M.toISO();break;default:w=M.toFormat(o)}i(w)&&(f=p.value)}else l()}return p.addEventListener("blur",function(w){(w.relatedTarget||w.rangeParent||w.explicitOriginalTarget!==p)&&y()}),p.addEventListener("keydown",function(w){switch(w.keyCode){case 13:y();break;case 27:l();break;case 35:case 36:w.stopPropagation();break;case 38:case 40:h=="editor"&&(w.stopImmediatePropagation(),w.stopPropagation());break}}),p}function tb(m,e,i,l,a){var o=a.format,h=a.verticalNavigation||"editor",d=o?window.DateTime||luxon.DateTime:null,f,p=m.getValue(),b=document.createElement("input");if(b.type="time",b.style.padding="4px",b.style.width="100%",b.style.boxSizing="border-box",a.elementAttributes&&typeof a.elementAttributes=="object")for(let w in a.elementAttributes)w.charAt(0)=="+"?(w=w.slice(1),b.setAttribute(w,b.getAttribute(w)+a.elementAttributes["+"+w])):b.setAttribute(w,a.elementAttributes[w]);p=typeof p<"u"?p:"",o&&(d?(d.isDateTime(p)?f=p:o==="iso"?f=d.fromISO(String(p)):f=d.fromFormat(String(p),o),p=f.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),b.value=p,e(function(){m.getType()=="cell"&&(b.focus({preventScroll:!0}),b.style.height="100%",a.selectContents&&b.select())});function y(){var w=b.value,M;if((p===null||typeof p>"u")&&w!==""||w!==p){if(w&&o)switch(M=d.fromFormat(String(w),"hh:mm"),o){case!0:w=M;break;case"iso":w=M.toISO();break;default:w=M.toFormat(o)}i(w)&&(p=b.value)}else l()}return b.addEventListener("blur",function(w){(w.relatedTarget||w.rangeParent||w.explicitOriginalTarget!==b)&&y()}),b.addEventListener("keydown",function(w){switch(w.keyCode){case 13:y();break;case 27:l();break;case 35:case 36:w.stopPropagation();break;case 38:case 40:h=="editor"&&(w.stopImmediatePropagation(),w.stopPropagation());break}}),b}function ib(m,e,i,l,a){var o=a.format,h=a.verticalNavigation||"editor",d=o?this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"):null,f,p=m.getValue(),b=document.createElement("input");if(b.type="datetime-local",b.style.padding="4px",b.style.width="100%",b.style.boxSizing="border-box",a.elementAttributes&&typeof a.elementAttributes=="object")for(let w in a.elementAttributes)w.charAt(0)=="+"?(w=w.slice(1),b.setAttribute(w,b.getAttribute(w)+a.elementAttributes["+"+w])):b.setAttribute(w,a.elementAttributes[w]);p=typeof p<"u"?p:"",o&&(d?(d.isDateTime(p)?f=p:o==="iso"?f=d.fromISO(String(p)):f=d.fromFormat(String(p),o),p=f.toFormat("yyyy-MM-dd")+"T"+f.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),b.value=p,e(function(){m.getType()==="cell"&&(b.focus({preventScroll:!0}),b.style.height="100%",a.selectContents&&b.select())});function y(){var w=b.value,M;if((p===null||typeof p>"u")&&w!==""||w!==p){if(w&&o)switch(M=d.fromISO(String(w)),o){case!0:w=M;break;case"iso":w=M.toISO();break;default:w=M.toFormat(o)}i(w)&&(p=b.value)}else l()}return b.addEventListener("blur",function(w){(w.relatedTarget||w.rangeParent||w.explicitOriginalTarget!==b)&&y()}),b.addEventListener("keydown",function(w){switch(w.keyCode){case 13:y();break;case 27:l();break;case 35:case 36:w.stopPropagation();break;case 38:case 40:h=="editor"&&(w.stopImmediatePropagation(),w.stopPropagation());break}}),b}let sb=class{constructor(e,i,l,a,o,h){this.edit=e,this.table=e.table,this.cell=i,this.params=this._initializeParams(h),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter=i.getType()==="header",this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:a,cancel:o},this._deprecatedOptionsCheck(),this._initializeValue(),l(this._onRendered.bind(this))}_deprecatedOptionsCheck(){}_initializeValue(){var e=this.cell.getValue();typeof e>"u"&&typeof this.params.defaultValue<"u"&&(e=this.params.defaultValue),this.initialValues=this.params.multiselect?e:[e],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var e=this.cell.getElement();function i(l){l.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),e.addEventListener("click",i),setTimeout(()=>{e.removeEventListener("click",i)},1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var e=document.createElement("div");return e.classList.add("tabulator-edit-list"),e.addEventListener("mousedown",this._preventBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e}_setListWidth(){var e=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=e.offsetWidth+"px",this.params.maxWidth&&(this.params.maxWidth===!0?this.listEl.style.maxWidth=e.offsetWidth+"px":typeof this.params.maxWidth=="number"?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var e=this.params.elementAttributes,i=document.createElement("input");if(i.setAttribute("type",this.params.clearable?"search":"text"),i.style.padding="4px",i.style.width="100%",i.style.boxSizing="border-box",this.params.autocomplete||(i.style.cursor="default",i.style.caretColor="transparent"),e&&typeof e=="object")for(let l in e)l.charAt(0)=="+"?(l=l.slice(1),i.setAttribute(l,i.getAttribute(l)+e["+"+l])):i.setAttribute(l,e[l]);return this.params.mask&&ma(i,this.params),this._bindInputEvents(i),i}_initializeParams(e){var i=["values","valuesURL","valuesLookup"],l;return e=Object.assign({},e),e.verticalNavigation=e.verticalNavigation||"editor",e.placeholderLoading=typeof e.placeholderLoading>"u"?"Searching ...":e.placeholderLoading,e.placeholderEmpty=typeof e.placeholderEmpty>"u"?"No Results Found":e.placeholderEmpty,e.filterDelay=typeof e.filterDelay>"u"?300:e.filterDelay,e.emptyValue=Object.keys(e).includes("emptyValue")?e.emptyValue:"",l=Object.keys(e).filter(a=>i.includes(a)).length,l?l>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),e.autocomplete?e.multiselect&&(e.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(e.freetext&&(e.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),e.filterFunc&&(e.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),e.filterRemote&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),e.mask&&(e.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),e.allowEmpty&&(e.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),e.listOnEmpty&&(e.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),e.filterRemote&&!(typeof e.valuesLookup=="function"||e.valuesURL)&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),e}_bindInputEvents(e){e.addEventListener("focus",this._inputFocus.bind(this)),e.addEventListener("click",this._inputClick.bind(this)),e.addEventListener("blur",this._inputBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&e.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(e){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList()},this.params.filterDelay)):this._filterList()}_inputClick(e){e.stopPropagation()}_inputBlur(e){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(e){switch(e.keyCode){case 38:this._keyUp(e);break;case 40:this._keyDown(e);break;case 37:case 39:this._keySide(e);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(e);break;case 9:this._keyTab(e);break;default:this._keySelectLetter(e)}}_inputKeyUp(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(e)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout(()=>{this.popup&&this.popup.restoreHide()},10)}_preventBlur(){this.blurable=!1,setTimeout(()=>{this.blurable=!0},10)}_keyTab(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(e){var i=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&i)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),i>0&&this._focusItem(this.displayItems[i-1]))}_keyDown(e){var i=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&i<this.displayItems.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),i<this.displayItems.length-1&&(i==-1?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[i+1])))}_keySide(e){this.params.autocomplete||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}_keyEnter(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(e){this._cancel()}_keyHomeEnd(e){this.params.autocomplete&&e.stopImmediatePropagation()}_keySelectLetter(e){this.params.autocomplete||(e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&this._scrollToValue(e.keyCode))}_keyAutoCompLetter(e){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(e){clearTimeout(this.filterTimeout);var i=String.fromCharCode(e).toLowerCase();this.filterTerm+=i.toLowerCase();var l=this.displayItems.find(a=>typeof a.label<"u"&&a.label.toLowerCase().startsWith(this.filterTerm));l&&this._focusItem(l),this.filterTimeout=setTimeout(()=>{this.filterTerm=""},800)}_focusItem(e){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=e,e&&e.element&&(e.element.classList.add("focused"),e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(e=>{Number.isInteger(e)||console.error("List generation error",e)})}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(e){var i=[],l=++this.listIteration;return this.filtered=!1,this.params.values?i=this.params.values:this.params.valuesURL?i=this._ajaxRequest(this.params.valuesURL,this.input.value):typeof this.params.valuesLookup=="function"?i=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(i=this._uniqueColumnValues(this.params.valuesLookupField)),i instanceof Promise?(e||this._addPlaceholder(this.params.placeholderLoading),i.then().then(a=>this.listIteration===l?this._parseList(a):Promise.reject(l))):Promise.resolve(this._parseList(i))}_addPlaceholder(e){var i=document.createElement("div");typeof e=="function"&&(e=e(this.cell.getComponent(),this.listEl)),e&&(this._clearList(),e instanceof HTMLElement?i=e:(i.classList.add("tabulator-edit-list-placeholder"),i.innerHTML=e),this.listEl.appendChild(i),this._showList())}_ajaxRequest(e,i){var l=this.params.filterRemote?{term:i}:{};return e=Mf(e,{},l),fetch(e).then(a=>a.ok?a.json().catch(o=>(console.warn("List Ajax Load Error - Invalid JSON returned",o),Promise.reject(o))):(console.error("List Ajax Load Error - Connection Error: "+a.status,a.statusText),Promise.reject(a))).catch(a=>(console.error("List Ajax Load Error - Connection Error: ",a),Promise.reject(a)))}_uniqueColumnValues(e){var i={},l=this.table.getData(this.params.valuesLookup),a;return e?a=this.table.columnManager.getColumnByField(e):a=this.cell.getColumn()._getSelf(),a?l.forEach(o=>{var h=a.getFieldValue(o);this._emptyValueCheck(h)||(this.params.multiselect&&Array.isArray(h)?h.forEach(d=>{this._emptyValueCheck(d)||(i[d]=!0)}):i[h]=!0)}):(console.warn("unable to find matching column to create select lookup list:",e),i=[]),Object.keys(i)}_emptyValueCheck(e){return e===null||typeof e>"u"||e===""}_parseList(e){var i=[];return Array.isArray(e)||(e=Object.entries(e).map(([l,a])=>({label:a,value:l}))),e.forEach(l=>{typeof l!="object"&&(l={label:l,value:l}),this._parseListItem(l,i,0)}),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=i,i}_parseListItem(e,i,l){var a={};e.options?a=this._parseListGroup(e,l+1):(a={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,selected:!1,visible:!0,level:l,original:e},this.initialValues&&this.initialValues.indexOf(e.value)>-1&&this._chooseItem(a,!0)),i.push(a)}_parseListGroup(e,i){var l={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,visible:!0,level:i,options:[],original:e};return e.options.forEach(a=>{this._parseListItem(a,l.options,i)}),l}_sortOptions(e){var i;return this.params.sort&&(i=typeof this.params.sort=="function"?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(i,e)),e}_sortGroup(e,i){i.sort((l,a)=>e(l.label,a.label,l.value,a.value,l.original,a.original)),i.forEach(l=>{l.group&&this._sortGroup(e,l.options)})}_defaultSortFunction(e,i){var l,a,o,h,d=0,f,p=/(\d+)|(\D+)/g,b=/\d/,y=0;if(this.params.sort==="desc"&&([e,i]=[i,e]),!e&&e!==0)y=!i&&i!==0?0:-1;else if(!i&&i!==0)y=1;else{if(isFinite(e)&&isFinite(i))return e-i;if(l=String(e).toLowerCase(),a=String(i).toLowerCase(),l===a)return 0;if(!(b.test(l)&&b.test(a)))return l>a?1:-1;for(l=l.match(p),a=a.match(p),f=l.length>a.length?a.length:l.length;d<f;)if(o=l[d],h=a[d++],o!==h)return isFinite(o)&&isFinite(h)?(o.charAt(0)==="0"&&(o="."+o),h.charAt(0)==="0"&&(h="."+h),o-h):o>h?1:-1;return l.length>a.length}return y}_filterOptions(){var e=this.params.filterFunc||this._defaultFilterFunc,i=this.input.value;return i?(this.filtered=!0,this.data.forEach(l=>{this._filterItem(e,i,l)})):this.filtered=!1,this.data}_filterItem(e,i,l){var a=!1;return l.group?(l.options.forEach(o=>{this._filterItem(e,i,o)&&(a=!0)}),l.visible=a):l.visible=e(i,l.label,l.value,l.original),l.visible}_defaultFilterFunc(e,i,l,a){return e=String(e).toLowerCase(),i!==null&&typeof i<"u"&&(String(i).toLowerCase().indexOf(e)>-1||String(l).toLowerCase().indexOf(e)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(e){this._clearList(),e.forEach(i=>{this._buildItem(i)}),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(e){var i=e.element,l;if(!this.filtered||e.visible){if(!i){if(i=document.createElement("div"),i.tabIndex=0,l=this.params.itemFormatter?this.params.itemFormatter(e.label,e.value,e.original,i):e.label,l instanceof HTMLElement?i.appendChild(l):i.innerHTML=l,e.group?i.classList.add("tabulator-edit-list-group"):i.classList.add("tabulator-edit-list-item"),i.classList.add("tabulator-edit-list-group-level-"+e.level),e.elementAttributes&&typeof e.elementAttributes=="object")for(let a in e.elementAttributes)a.charAt(0)=="+"?(a=a.slice(1),i.setAttribute(a,this.input.getAttribute(a)+e.elementAttributes["+"+a])):i.setAttribute(a,e.elementAttributes[a]);e.group?i.addEventListener("click",this._groupClick.bind(this,e)):i.addEventListener("click",this._itemClick.bind(this,e)),i.addEventListener("mousedown",this._preventBlur.bind(this)),e.element=i}this._styleItem(e),this.listEl.appendChild(i),e.group?e.options.forEach(a=>{this._buildItem(a)}):this.displayItems.push(e)}}_showList(){var e=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&this.input.value===""&&!this.params.listOnEmpty){this.popup&&this.popup.hide(!0);return}this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),e||setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))},10)}}_styleItem(e){e&&e.element&&(e.selected?e.element.classList.add("active"):e.element.classList.remove("active"))}_itemClick(e,i){i.stopPropagation(),this._chooseItem(e)}_groupClick(e,i){i.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach(e=>{e.selected=!1,this._styleItem(e)}),this.currentItems=[],this.focusedItem=null}_chooseItem(e,i){var l;this.typing=!1,this.params.multiselect?(l=this.currentItems.indexOf(e),l>-1?(this.currentItems.splice(l,1),e.selected=!1):(this.currentItems.push(e),e.selected=!0),this.input.value=this.currentItems.map(a=>a.label).join(","),this._styleItem(e)):(this.currentItems=[e],e.selected=!0,this.input.value=e.label,this._styleItem(e),i||this._resolveValue()),this._focusItem(e)}_resolveValue(e){var i,l;if(this.popup&&this.popup.hide(!0),this.params.multiselect)i=this.currentItems.map(a=>a.value);else if(e&&this.params.autocomplete&&this.typing)if(this.params.freetext||this.params.allowEmpty&&this.input.value==="")i=this.input.value;else{this.actions.cancel();return}else this.currentItems[0]?i=this.currentItems[0].value:(l=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues,l===null||typeof l>"u"||l===""?i=l:i=this.params.emptyValue);i===""&&(i=this.params.emptyValue),this.actions.success(i),this.isFilter&&(this.initialValues=i&&!Array.isArray(i)?[i]:i,this.currentItems=[])}};function lb(m,e,i,l,a){var o=new sb(this,m,e,i,l,a);return o.input}function nb(m,e,i,l,a){var o=this,h=m.getElement(),d=m.getValue(),f=h.getElementsByTagName("svg").length||5,p=h.getElementsByTagName("svg")[0]?h.getElementsByTagName("svg")[0].getAttribute("width"):14,b=[],y=document.createElement("div"),w=document.createElementNS("http://www.w3.org/2000/svg","svg");function M(B){b.forEach(function($,ee){ee<B?(o.table.browser=="ie"?$.setAttribute("class","tabulator-star-active"):$.classList.replace("tabulator-star-inactive","tabulator-star-active"),$.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):(o.table.browser=="ie"?$.setAttribute("class","tabulator-star-inactive"):$.classList.replace("tabulator-star-active","tabulator-star-inactive"),$.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function H(B){var $=document.createElement("span"),ee=w.cloneNode(!0);b.push(ee),$.addEventListener("mouseenter",function(oe){oe.stopPropagation(),oe.stopImmediatePropagation(),M(B)}),$.addEventListener("mousemove",function(oe){oe.stopPropagation(),oe.stopImmediatePropagation()}),$.addEventListener("click",function(oe){oe.stopPropagation(),oe.stopImmediatePropagation(),i(B),h.blur()}),$.appendChild(ee),y.appendChild($)}function _(B){d=B,M(B)}if(h.style.whiteSpace="nowrap",h.style.overflow="hidden",h.style.textOverflow="ellipsis",y.style.verticalAlign="middle",y.style.display="inline-block",y.style.padding="4px",w.setAttribute("width",p),w.setAttribute("height",p),w.setAttribute("viewBox","0 0 512 512"),w.setAttribute("xml:space","preserve"),w.style.padding="0 1px",a.elementAttributes&&typeof a.elementAttributes=="object")for(let B in a.elementAttributes)B.charAt(0)=="+"?(B=B.slice(1),y.setAttribute(B,y.getAttribute(B)+a.elementAttributes["+"+B])):y.setAttribute(B,a.elementAttributes[B]);for(var F=1;F<=f;F++)H(F);return d=Math.min(parseInt(d),f),M(d),y.addEventListener("mousemove",function(B){M(0)}),y.addEventListener("click",function(B){i(0)}),h.addEventListener("blur",function(B){l()}),h.addEventListener("keydown",function(B){switch(B.keyCode){case 39:_(d+1);break;case 37:_(d-1);break;case 13:i(d);break;case 27:l();break}}),y}function ab(m,e,i,l,a){var o=m.getElement(),h=typeof a.max>"u"?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("max")||100:a.max,d=typeof a.min>"u"?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("min")||0:a.min,f=(h-d)/100,p=m.getValue()||0,b=document.createElement("div"),y=document.createElement("div"),w,M;function H(){var _=window.getComputedStyle(o,null),F=f*Math.round(y.offsetWidth/((o.clientWidth-parseInt(_.getPropertyValue("padding-left"))-parseInt(_.getPropertyValue("padding-right")))/100))+d;i(F),o.setAttribute("aria-valuenow",F),o.setAttribute("aria-label",p)}if(b.style.position="absolute",b.style.right="0",b.style.top="0",b.style.bottom="0",b.style.width="5px",b.classList.add("tabulator-progress-handle"),y.style.display="inline-block",y.style.position="relative",y.style.height="100%",y.style.backgroundColor="#488CE9",y.style.maxWidth="100%",y.style.minWidth="0%",a.elementAttributes&&typeof a.elementAttributes=="object")for(let _ in a.elementAttributes)_.charAt(0)=="+"?(_=_.slice(1),y.setAttribute(_,y.getAttribute(_)+a.elementAttributes["+"+_])):y.setAttribute(_,a.elementAttributes[_]);return o.style.padding="4px 4px",p=Math.min(parseFloat(p),h),p=Math.max(parseFloat(p),d),p=Math.round((p-d)/f),y.style.width=p+"%",o.setAttribute("aria-valuemin",d),o.setAttribute("aria-valuemax",h),y.appendChild(b),b.addEventListener("mousedown",function(_){w=_.screenX,M=y.offsetWidth}),b.addEventListener("mouseover",function(){b.style.cursor="ew-resize"}),o.addEventListener("mousemove",function(_){w&&(y.style.width=M+_.screenX-w+"px")}),o.addEventListener("mouseup",function(_){w&&(_.stopPropagation(),_.stopImmediatePropagation(),w=!1,M=!1,H())}),o.addEventListener("keydown",function(_){switch(_.keyCode){case 39:_.preventDefault(),y.style.width=y.clientWidth+o.clientWidth/100+"px";break;case 37:_.preventDefault(),y.style.width=y.clientWidth-o.clientWidth/100+"px";break;case 9:case 13:H();break;case 27:l();break}}),o.addEventListener("blur",function(){l()}),y}function rb(m,e,i,l,a){var o=m.getValue(),h=document.createElement("input"),d=a.tristate,f=typeof a.indeterminateValue>"u"?null:a.indeterminateValue,p=!1,b=Object.keys(a).includes("trueValue"),y=Object.keys(a).includes("falseValue");if(h.setAttribute("type","checkbox"),h.style.marginTop="5px",h.style.boxSizing="border-box",a.elementAttributes&&typeof a.elementAttributes=="object")for(let M in a.elementAttributes)M.charAt(0)=="+"?(M=M.slice(1),h.setAttribute(M,h.getAttribute(M)+a.elementAttributes["+"+M])):h.setAttribute(M,a.elementAttributes[M]);h.value=o,d&&(typeof o>"u"||o===f||o==="")&&(p=!0,h.indeterminate=!0),this.table.browser!="firefox"&&this.table.browser!="safari"&&e(function(){m.getType()==="cell"&&h.focus({preventScroll:!0})}),h.checked=b?o===a.trueValue:o===!0||o==="true"||o==="True"||o===1;function w(M){var H=h.checked;return b&&H?H=a.trueValue:y&&!H&&(H=a.falseValue),d?M?p?f:H:h.checked&&!p?(h.checked=!1,h.indeterminate=!0,p=!0,f):(p=!1,H):H}return h.addEventListener("change",function(M){i(w())}),h.addEventListener("blur",function(M){i(w(!0))}),h.addEventListener("keydown",function(M){M.keyCode==13&&i(w()),M.keyCode==27&&l()}),h}function ob(m,e,i,l,a){var o=m._getSelf().column,h,d,f;function p(b){var y=b.getValue(),w="input";switch(typeof y){case"number":w="number";break;case"boolean":w="tickCross";break;case"string":y.includes(`
`)&&(w="textarea");break}return w}return h=a.editorLookup?a.editorLookup(m):p(m),a.paramsLookup&&(f=typeof a.paramsLookup=="function"?a.paramsLookup(h,m):a.paramsLookup[h]),d=this.table.modules.edit.lookupEditor(h,o),d.call(this,m,e,i,l,f||{})}var ub={input:Kg,textarea:Jg,number:Ig,range:$g,date:eb,time:tb,datetime:ib,list:lb,star:nb,progress:ab,tickCross:rb,adaptable:ob};const ql=class ql extends ie{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.convertEmptyValues=!1,this.editors=ql.editors,this.registerTableOption("editTriggerEvent","focus"),this.registerTableOption("editorEmptyValue"),this.registerTableOption("editorEmptyValueFunc",this.emptyValueCheck.bind(this)),this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("editorEmptyValue"),this.registerColumnOption("editorEmptyValueFunc"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("clipboard-paste",this.pasteBlocker.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0)),Object.keys(this.table.options).includes("editorEmptyValue")&&(this.convertEmptyValues=!0)}pasteBlocker(e){if(this.currentCell)return!0}keybindingNavigateNext(e){var i=this.currentCell,l=this.options("tabEndNewRow");i&&(this.navigateNext(i,e)||l&&(i.getElement().firstChild.blur(),this.invalidEdit||(l===!0?l=this.table.addRow({}):typeof l=="function"?l=this.table.addRow(l(i.row.getComponent())):l=this.table.addRow(Object.assign({},l)),l.then(()=>{setTimeout(()=>{i.getComponent().navigateNext()})}))))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(i=>{this.table.modules.edit.clearEdited(i._getSelf())})}navigatePrev(e=this.currentCell,i){var l,a;if(e){if(i&&i.preventDefault(),l=this.navigateLeft(),l)return!0;if(a=this.table.rowManager.prevDisplayRow(e.row,!0),a&&(l=this.findPrevEditableCell(a,a.cells.length),l))return l.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,i){var l,a;if(e){if(i&&i.preventDefault(),l=this.navigateRight(),l)return!0;if(a=this.table.rowManager.nextDisplayRow(e.row,!0),a&&(l=this.findNextEditableCell(a,-1),l))return l.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,i){var l,a;return e&&(i&&i.preventDefault(),l=e.getIndex(),a=this.findPrevEditableCell(e.row,l),a)?(a.getComponent().edit(),!0):!1}navigateRight(e=this.currentCell,i){var l,a;return e&&(i&&i.preventDefault(),l=e.getIndex(),a=this.findNextEditableCell(e.row,l),a)?(a.getComponent().edit(),!0):!1}navigateUp(e=this.currentCell,i){var l,a;return e&&(i&&i.preventDefault(),l=e.getIndex(),a=this.table.rowManager.prevDisplayRow(e.row,!0),a)?(a.cells[l].getComponent().edit(),!0):!1}navigateDown(e=this.currentCell,i){var l,a;return e&&(i&&i.preventDefault(),l=e.getIndex(),a=this.table.rowManager.nextDisplayRow(e.row,!0),a)?(a.cells[l].getComponent().edit(),!0):!1}findNextEditableCell(e,i){var l=!1;if(i<e.cells.length-1)for(var a=i+1;a<e.cells.length;a++){let o=e.cells[a];if(o.column.modules.edit&&Ee.elVisible(o.getElement())&&this.allowEdit(o)){l=o;break}}return l}findPrevEditableCell(e,i){var l=!1;if(i>0)for(var a=i-1;a>=0;a--){let o=e.cells[a];if(o.column.modules.edit&&Ee.elVisible(o.getElement())&&this.allowEdit(o)){l=o;break}}return l}initializeColumnCheck(e){typeof e.definition.editor<"u"&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach(i=>{i.column.modules.edit&&typeof i.column.modules.edit.check=="function"&&this.updateCellClass(i)})}initializeColumn(e){var i=Object.keys(e.definition).includes("editorEmptyValue"),l={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{},convertEmptyValues:i,editorEmptyValue:e.definition.editorEmptyValue,editorEmptyValueFunc:e.definition.editorEmptyValueFunc};l.editor=this.lookupEditor(e.definition.editor,e),l.editor&&(e.modules.edit=l)}lookupEditor(e,i){var l;switch(typeof e){case"string":this.editors[e]?l=this.editors[e]:console.warn("Editor Error - No such editor found: ",e);break;case"function":l=e;break;case"boolean":e===!0&&(typeof i.definition.formatter!="function"?this.editors[i.definition.formatter]?l=this.editors[i.definition.formatter]:l=this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",i.definition.formatter));break}return l}getCurrentCell(){return this.currentCell?this.currentCell.getComponent():!1}clearEditor(e){var i=this.currentCell,l;if(this.invalidEdit=!1,i){for(this.currentCell=!1,l=i.getElement(),this.dispatch("edit-editor-clear",i,e),l.classList.remove("tabulator-editing");l.firstChild;)l.removeChild(l.firstChild);i.row.getElement().classList.remove("tabulator-editing"),i.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,i=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),(e.column.definition.editor=="textarea"||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,i),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",i)}}bindEditor(e){if(e.column.modules.edit){var i=this,l=e.getElement(!0);this.updateCellClass(e),l.setAttribute("tabindex",0),l.addEventListener("mousedown",function(a){a.button===2?a.preventDefault():i.mouseClick=!0}),this.options("editTriggerEvent")==="dblclick"&&l.addEventListener("dblclick",function(a){l.classList.contains("tabulator-editing")||(l.focus({preventScroll:!0}),i.edit(e,a,!1))}),(this.options("editTriggerEvent")==="focus"||this.options("editTriggerEvent")==="click")&&l.addEventListener("click",function(a){l.classList.contains("tabulator-editing")||(l.focus({preventScroll:!0}),i.edit(e,a,!1))}),this.options("editTriggerEvent")==="focus"&&l.addEventListener("focus",function(a){i.recursionBlock||i.edit(e,a,!1)})}}focusCellNoEvent(e,i){this.recursionBlock=!0,i&&this.table.browser==="ie"||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,i){this.focusCellNoEvent(e),this.edit(e,!1,i)}focusScrollAdjust(e){if(this.table.rowManager.getRenderMode()=="virtual"){var i=this.table.rowManager.element.scrollTop,l=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,a=e.row.getElement();a.offsetTop<i?this.table.rowManager.element.scrollTop-=i-a.offsetTop:a.offsetTop+a.offsetHeight>l&&(this.table.rowManager.element.scrollTop+=a.offsetTop+a.offsetHeight-l);var o=this.table.rowManager.element.scrollLeft,h=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,d=e.getElement();this.table.modExists("frozenColumns")&&(o+=parseInt(this.table.modules.frozenColumns.leftMargin||0),h-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),this.table.options.renderHorizontal==="virtual"&&(o-=parseInt(this.table.columnManager.renderer.vDomPadLeft),h-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),d.offsetLeft<o?this.table.rowManager.element.scrollLeft-=o-d.offsetLeft:d.offsetLeft+d.offsetWidth>h&&(this.table.rowManager.element.scrollLeft+=d.offsetLeft+d.offsetWidth-h)}}allowEdit(e){var i=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(i=e.column.modules.edit.check(e.getComponent()));break;case"string":i=!!e.row.data[e.column.modules.edit.check];break;case"boolean":i=e.column.modules.edit.check;break}return i}edit(e,i,l){var a=this,o=!0,h=function(){},d=e.getElement(),f=!1,p,b,y;if(this.currentCell){!this.invalidEdit&&this.currentCell!==e&&this.cancelEdit();return}function w(B){if(a.currentCell===e&&!f){var $=a.chain("edit-success",[e,B],!0,!0);return $===!0||a.table.options.validationMode==="highlight"?(f=!0,a.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,a.editedCells.indexOf(e)==-1&&a.editedCells.push(e),B=a.transformEmptyValues(B,e),e.setValue(B,!0),$===!0):(f=!0,a.invalidEdit=!0,a.focusCellNoEvent(e,!0),h(),setTimeout(()=>{f=!1},10),!1)}}function M(){a.currentCell===e&&!f&&a.cancelEdit()}function H(B){h=B}if(e.column.modules.edit.blocked)return this.mouseClick=!1,this.blur(d),!1;if(i&&i.stopPropagation(),o=this.allowEdit(e),o||l){if(a.cancelEdit(),a.currentCell=e,this.focusScrollAdjust(e),b=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,i,b)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,b),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",b),y=typeof e.column.modules.edit.params=="function"?e.column.modules.edit.params(b):e.column.modules.edit.params,p=e.column.modules.edit.editor.call(a,b,H,w,M,y),this.currentCell&&p!==!1)if(p instanceof Node){for(d.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");d.firstChild;)d.removeChild(d.firstChild);d.appendChild(p),h();for(var _=d.children,F=0;F<_.length;F++)_[F].addEventListener("click",function(B){B.stopPropagation()})}else return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",p),this.blur(d),!1;else return this.blur(d),!1;return!0}else return this.mouseClick=!1,this.blur(d),!1}emptyValueCheck(e){return e===""||e===null||typeof e>"u"}transformEmptyValues(e,i){var l=i.column.modules.edit,a=l.convertEmptyValues||this.convertEmptyValues,o;return a&&(o=l.editorEmptyValueFunc||this.options("editorEmptyValueFunc"),o&&o(e)&&(e=l.convertEmptyValues?l.editorEmptyValue:this.options("editorEmptyValue"))),e}blur(e){this.confirm("edit-blur",[e])||e.blur()}getEditedCells(){var e=[];return this.editedCells.forEach(i=>{e.push(i.getComponent())}),e}clearEdited(e){var i;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),i=this.editedCells.indexOf(e),i>-1&&this.editedCells.splice(i,1)}};V(ql,"moduleName","edit"),V(ql,"editors",ub);let Zo=ql;class wf{constructor(e,i,l,a){this.type=e,this.columns=i,this.component=l||!1,this.indent=a||0}}class Vo{constructor(e,i,l,a,o){this.value=e,this.component=i||!1,this.width=l,this.height=a,this.depth=o}}var hb={},cb={visible:function(){return this.rowManager.getVisibleRows(!1,!0)},all:function(){return this.rowManager.rows},selected:function(){return this.modules.selectRow.selectedRows},active:function(){return this.options.pagination?this.rowManager.getDisplayRows(this.rowManager.displayRows.length-2):this.rowManager.getDisplayRows()}};const Di=class Di extends ie{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.colVisPropAttach="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,i,l,a){var o,h,d,f;return this.cloneTableStyle=i,this.config=e||{},this.colVisProp=a,this.colVisPropAttach=this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1),f=Di.columnLookups[l],f&&(d=f.call(this.table),d=d.filter(p=>this.columnVisCheck(p))),o=this.config.columnHeaders!==!1?this.headersToExportRows(this.generateColumnGroupHeaders(d)):[],d&&(d=d.map(p=>p.getComponent())),h=this.bodyToExportRows(this.rowLookup(l),d),o.concat(h)}generateTable(e,i,l,a){var o=this.generateExportList(e,i,l,a);return this.generateTableElement(o)}rowLookup(e){var i=[],l;return typeof e=="function"?e.call(this.table).forEach(a=>{a=this.table.rowManager.findRow(a),a&&i.push(a)}):(l=Di.rowLookups[e]||Di.rowLookups.active,i=l.call(this.table)),Object.assign([],i)}generateColumnGroupHeaders(e){var i=[];return e||(e=this.config.columnGroups!==!1?this.table.columnManager.columns:this.table.columnManager.columnsByIndex),e.forEach(l=>{var a=this.processColumnGroup(l);a&&i.push(a)}),i}processColumnGroup(e){var i=e.columns,l=0,a=e.definition["title"+this.colVisPropAttach]||e.definition.title,o={title:a,column:e,depth:1};if(i.length){if(o.subGroups=[],o.width=0,i.forEach(h=>{var d=this.processColumnGroup(h);d&&(o.width+=d.width,o.subGroups.push(d),d.depth>l&&(l=d.depth))}),o.depth+=l,!o.width)return!1}else if(this.columnVisCheck(e))o.width=1;else return!1;return o}columnVisCheck(e){var i=e.definition[this.colVisProp];return this.config.rowHeaders===!1&&e.isRowHeader?!1:(typeof i=="function"&&(i=i.call(this.table,e.getComponent())),i===!1||i===!0?i:e.visible&&e.field)}headersToExportRows(e){var i=[],l=0,a=[];function o(h,d){var f=l-d;if(typeof i[d]>"u"&&(i[d]=[]),h.height=h.subGroups?1:f-h.depth+1,i[d].push(h),h.height>1)for(let p=1;p<h.height;p++)typeof i[d+p]>"u"&&(i[d+p]=[]),i[d+p].push(!1);if(h.width>1)for(let p=1;p<h.width;p++)i[d].push(!1);h.subGroups&&h.subGroups.forEach(function(p){o(p,d+1)})}return e.forEach(function(h){h.depth>l&&(l=h.depth)}),e.forEach(function(h){o(h,0)}),i.forEach(h=>{var d=[];h.forEach(f=>{if(f){let p=typeof f.title>"u"?"":f.title;d.push(new Vo(p,f.column.getComponent(),f.width,f.height,f.depth))}else d.push(null)}),a.push(new wf("header",d))}),a}bodyToExportRows(e,i=[]){var l=[];return i.length===0&&this.table.columnManager.columnsByIndex.forEach(a=>{this.columnVisCheck(a)&&i.push(a.getComponent())}),this.config.columnCalcs!==!1&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),e=e.filter(a=>{switch(a.type){case"group":return this.config.rowGroups!==!1;case"calc":return this.config.columnCalcs!==!1;case"row":return!(this.table.options.dataTree&&this.config.dataTree===!1&&a.modules.dataTree.parent)}return!0}),e.forEach((a,o)=>{var h=a.getData(this.colVisProp),d=[],f=0;switch(a.type){case"group":f=a.level,d.push(new Vo(a.key,a.getComponent(),i.length,1));break;case"calc":case"row":i.forEach(p=>{d.push(new Vo(p._column.getFieldValue(h),p,1,1))}),this.table.options.dataTree&&this.config.dataTree!==!1&&(f=a.modules.dataTree.index);break}l.push(new wf(a.type,d,a.getComponent(),f))}),l}generateTableElement(e){var i=document.createElement("table"),l=document.createElement("thead"),a=document.createElement("tbody"),o=this.lookupTableStyles(),h=this.table.options["rowFormatter"+this.colVisPropAttach],d={};return d.rowFormatter=h!==null?h:this.table.options.rowFormatter,this.table.options.dataTree&&this.config.dataTree!==!1&&this.table.modExists("columnCalcs")&&(d.treeElementField=this.table.modules.dataTree.elementField),d.groupHeader=this.table.options["groupHeader"+this.colVisPropAttach],d.groupHeader&&!Array.isArray(d.groupHeader)&&(d.groupHeader=[d.groupHeader]),i.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),l,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((f,p)=>{let b;switch(f.type){case"header":l.appendChild(this.generateHeaderElement(f,d,o));break;case"group":a.appendChild(this.generateGroupElement(f,d,o));break;case"calc":a.appendChild(this.generateCalcElement(f,d,o));break;case"row":b=this.generateRowElement(f,d,o),this.mapElementStyles(p%2&&o.evenRow?o.evenRow:o.oddRow,b,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),a.appendChild(b);break}}),l.innerHTML&&i.appendChild(l),i.appendChild(a),this.mapElementStyles(this.table.element,i,["border-top","border-left","border-right","border-bottom"]),i}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.styleRowHeader=e.firstRow.getElementsByClassName("tabulator-row-header")[0],e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,i,l){var a=document.createElement("tr");return e.columns.forEach(o=>{if(o){var h=document.createElement("th"),d=o.component._column.definition.cssClass?o.component._column.definition.cssClass.split(" "):[];h.colSpan=o.width,h.rowSpan=o.height,h.innerHTML=o.value,this.cloneTableStyle&&(h.style.boxSizing="border-box"),d.forEach(function(f){h.classList.add(f)}),this.mapElementStyles(o.component.getElement(),h,["text-align","border-left","border-right","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(o.component._column.contentElement,h,["padding-top","padding-left","padding-right","padding-bottom"]),o.component._column.visible?this.mapElementStyles(o.component.getElement(),h,["width"]):o.component._column.definition.width&&(h.style.width=o.component._column.definition.width+"px"),o.component._column.parent&&o.component._column.parent.isGroup?this.mapElementStyles(o.component._column.parent.groupElement,h,["border-top"]):this.mapElementStyles(o.component.getElement(),h,["border-top"]),o.component._column.isGroup?this.mapElementStyles(o.component.getElement(),h,["border-bottom"]):this.mapElementStyles(this.table.columnManager.getElement(),h,["border-bottom"]),a.appendChild(h)}}),a}generateGroupElement(e,i,l){var a=document.createElement("tr"),o=document.createElement("td"),h=e.columns[0];return a.classList.add("tabulator-print-table-row"),i.groupHeader&&i.groupHeader[e.indent]?h.value=i.groupHeader[e.indent](h.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):i.groupHeader!==!1&&(h.value=e.component._group.generator(h.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),o.colSpan=h.width,o.innerHTML=h.value,a.classList.add("tabulator-print-table-group"),a.classList.add("tabulator-group-level-"+e.indent),h.component.isVisible()&&a.classList.add("tabulator-group-visible"),this.mapElementStyles(l.firstGroup,a,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(l.firstGroup,o,["padding-top","padding-left","padding-right","padding-bottom"]),a.appendChild(o),a}generateCalcElement(e,i,l){var a=this.generateRowElement(e,i,l);return a.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(l.calcRow,a,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),a}generateRowElement(e,i,l){var a=document.createElement("tr");if(a.classList.add("tabulator-print-table-row"),e.columns.forEach((o,h)=>{if(o){var d=document.createElement("td"),f=o.component._column,p=this.table,b=p.columnManager.findColumnIndex(f),y=o.value,w,M,H={modules:{},getValue:function(){return y},getField:function(){return f.definition.field},getElement:function(){return d},getType:function(){return"cell"},getColumn:function(){return f.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getTable:function(){return p},getComponent:function(){return H},column:f},_=f.definition.cssClass?f.definition.cssClass.split(" "):[];if(_.forEach(function(F){d.classList.add(F)}),this.table.modExists("format")&&this.config.formatCells!==!1)y=this.table.modules.format.formatExportValue(H,this.colVisProp);else switch(typeof y){case"object":y=y!==null?JSON.stringify(y):"";break;case"undefined":y="";break}y instanceof Node?d.appendChild(y):d.innerHTML=y,M=["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"],f.isRowHeader?(w=l.styleRowHeader,M.push("background-color")):w=l.styleCells&&l.styleCells[b]?l.styleCells[b]:l.firstCell,w&&(this.mapElementStyles(w,d,M),f.definition.align&&(d.style.textAlign=f.definition.align)),this.table.options.dataTree&&this.config.dataTree!==!1&&(i.treeElementField&&i.treeElementField==f.field||!i.treeElementField&&h==0)&&(e.component._row.modules.dataTree.controlEl&&d.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),d.firstChild),e.component._row.modules.dataTree.branchEl&&d.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),d.firstChild)),a.appendChild(d),H.modules.format&&H.modules.format.renderedCallback&&H.modules.format.renderedCallback()}}),i.rowFormatter&&e.type==="row"&&this.config.formatCells!==!1){let o=Object.assign(e.component);o.getElement=function(){return a},i.rowFormatter(e.component)}return a}generateHTMLTable(e){var i=document.createElement("div");return i.appendChild(this.generateTableElement(e)),i.innerHTML}getHtml(e,i,l,a){var o=this.generateExportList(l||this.table.options.htmlOutputConfig,i,e,a||"htmlOutput");return this.generateHTMLTable(o)}mapElementStyles(e,i,l){if(this.cloneTableStyle&&e&&i){var a={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var o=window.getComputedStyle(e);l.forEach(function(h){i.style[a[h]]||(i.style[a[h]]=o.getPropertyValue(h))})}}}};V(Di,"moduleName","export"),V(Di,"columnLookups",hb),V(Di,"rowLookups",cb);let Ko=Di;var db={"=":function(m,e,i,l){return e==m},"<":function(m,e,i,l){return e<m},"<=":function(m,e,i,l){return e<=m},">":function(m,e,i,l){return e>m},">=":function(m,e,i,l){return e>=m},"!=":function(m,e,i,l){return e!=m},regex:function(m,e,i,l){return typeof m=="string"&&(m=new RegExp(m)),m.test(e)},like:function(m,e,i,l){return m===null||typeof m>"u"?e===m:typeof e<"u"&&e!==null?String(e).toLowerCase().indexOf(m.toLowerCase())>-1:!1},keywords:function(m,e,i,l){var a=m.toLowerCase().split(typeof l.separator>"u"?" ":l.separator),o=String(e===null||typeof e>"u"?"":e).toLowerCase(),h=[];return a.forEach(d=>{o.includes(d)&&h.push(!0)}),l.matchAll?h.length===a.length:!!h.length},starts:function(m,e,i,l){return m===null||typeof m>"u"?e===m:typeof e<"u"&&e!==null?String(e).toLowerCase().startsWith(m.toLowerCase()):!1},ends:function(m,e,i,l){return m===null||typeof m>"u"?e===m:typeof e<"u"&&e!==null?String(e).toLowerCase().endsWith(m.toLowerCase()):!1},in:function(m,e,i,l){return Array.isArray(m)?m.length?m.indexOf(e)>-1:!0:(console.warn("Filter Error - filter value is not an array:",m),!1)}};const It=class It extends ie{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),this.table.options.filterMode==="remote"&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var i=this.table.columnManager.findColumn(e.field);if(i)this.setHeaderFilterValue(i,e.value);else return console.warn("Column Filter Error - No matching column found:",e.field),!1}),this.tableInitialized=!0}remoteFilterParams(e,i,l,a){return a.filter=this.getFilters(!0,!0),a}generatePlaceholder(e){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(e,i,l,a){this.setFilter(e,i,l,a),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,i,l,a){this.addFilter(e,i,l,a),this.refreshFilter()}userSetHeaderFilterFocus(e){var i=this.table.columnManager.findColumn(e);if(i)this.setHeaderFilterFocus(i);else return console.warn("Column Filter Focus Error - No matching column found:",e),!1}userGetHeaderFilterValue(e){var i=this.table.columnManager.findColumn(e);if(i)return this.getHeaderFilterValue(i);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,i){var l=this.table.columnManager.findColumn(e);if(l)this.setHeaderFilterValue(l,i);else return console.warn("Column Filter Error - No matching column found:",e),!1}userRemoveFilter(e,i,l){this.removeFilter(e,i,l),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,i,l){return this.search("rows",e,i,l)}searchData(e,i,l){return this.search("data",e,i,l)}initializeColumnHeaderFilter(e){var i=e.definition;i.headerFilter&&this.initializeColumn(e)}initializeColumn(e,i){var l=this,a=e.getField();function o(h){var d=e.modules.filter.tagType=="input"&&e.modules.filter.attrType=="text"||e.modules.filter.tagType=="textarea"?"partial":"match",f="",p="",b;if(typeof e.modules.filter.prevSuccess>"u"||e.modules.filter.prevSuccess!==h){if(e.modules.filter.prevSuccess=h,e.modules.filter.emptyFunc(h))delete l.headerFilters[a];else{switch(e.modules.filter.value=h,typeof e.definition.headerFilterFunc){case"string":It.filters[e.definition.headerFilterFunc]?(f=e.definition.headerFilterFunc,b=function(y){var w=e.definition.headerFilterFuncParams||{},M=e.getFieldValue(y);return w=typeof w=="function"?w(h,M,y):w,It.filters[e.definition.headerFilterFunc](h,M,y,w)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":b=function(y){var w=e.definition.headerFilterFuncParams||{},M=e.getFieldValue(y);return w=typeof w=="function"?w(h,M,y):w,e.definition.headerFilterFunc(h,M,y,w)},f=b;break}if(!b)switch(d){case"partial":b=function(y){var w=e.getFieldValue(y);return typeof w<"u"&&w!==null?String(w).toLowerCase().indexOf(String(h).toLowerCase())>-1:!1},f="like";break;default:b=function(y){return e.getFieldValue(y)==h},f="="}l.headerFilters[a]={value:h,func:b,type:f}}e.modules.filter.value=h,p=JSON.stringify(l.headerFilters),l.prevHeaderFilterChangeCheck!==p&&(l.prevHeaderFilterChangeCheck=p,l.trackChanges(),l.refreshFilter())}return!0}e.modules.filter={success:o,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,i,l){var a=this,o=e.modules.filter.success,h=e.getField(),d,f,p,b,y,w,M,H;e.modules.filter.value=i;function _(){}function F(B){H=B}if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),h){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(B){return!B&&B!==0},d=document.createElement("div"),d.classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":a.table.modules.edit.editors[e.definition.headerFilter]?(f=a.table.modules.edit.editors[e.definition.headerFilter],(e.definition.headerFilter==="tick"||e.definition.headerFilter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(B){return B!==!0&&B!==!1})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":f=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?f=e.modules.edit.editor:e.definition.formatter&&a.table.modules.edit.editors[e.definition.formatter]?(f=a.table.modules.edit.editors[e.definition.formatter],(e.definition.formatter==="tick"||e.definition.formatter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(B){return B!==!0&&B!==!1})):f=a.table.modules.edit.editors.input;break}if(f){if(b={getValue:function(){return typeof i<"u"?i:""},getField:function(){return e.definition.field},getElement:function(){return d},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},M=e.definition.headerFilterParams||{},M=typeof M=="function"?M.call(a.table,b):M,p=f.call(this.table.modules.edit,b,F,o,_,M),!p){console.warn("Filter Error - Cannot add filter to "+h+" column, editor returned a value of false");return}if(!(p instanceof Node)){console.warn("Filter Error - Cannot add filter to "+h+" column, editor should return an instance of Node, the editor returned:",p);return}a.langBind("headerFilters|columns|"+e.definition.field,function(B){p.setAttribute("placeholder",typeof B<"u"&&B?B:e.definition.headerFilterPlaceholder||a.langText("headerFilters|default"))}),p.addEventListener("click",function(B){B.stopPropagation(),p.focus()}),p.addEventListener("focus",B=>{var $=this.table.columnManager.contentsElement.scrollLeft,ee=this.table.rowManager.element.scrollLeft;$!==ee&&(this.table.rowManager.scrollHorizontal($),this.table.columnManager.scrollHorizontal($))}),y=!1,w=function(B){y&&clearTimeout(y),y=setTimeout(function(){o(p.value)},a.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=p,e.modules.filter.attrType=p.hasAttribute("type")?p.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=p.tagName.toLowerCase(),e.definition.headerFilterLiveFilter!==!1&&(e.definition.headerFilter==="autocomplete"||e.definition.headerFilter==="tickCross"||(e.definition.editor==="autocomplete"||e.definition.editor==="tickCross")&&e.definition.headerFilter===!0||(p.addEventListener("keyup",w),p.addEventListener("search",w),e.modules.filter.attrType=="number"&&p.addEventListener("change",function(B){o(p.value)}),e.modules.filter.attrType=="text"&&this.table.browser!=="ie"&&p.setAttribute("type","search")),(e.modules.filter.tagType=="input"||e.modules.filter.tagType=="select"||e.modules.filter.tagType=="textarea")&&p.addEventListener("mousedown",function(B){B.stopPropagation()})),d.appendChild(p),e.contentElement.appendChild(d),l||a.headerFilterColumns.push(e),H&&H()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,i){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,i,!0),e.modules.filter.success(i)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&(this.table.options.filterMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,i,l,a){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:i,value:l,params:a}]),this.addFilter(e)}addFilter(e,i,l,a){var o=!1;Array.isArray(e)||(e=[{field:e,type:i,value:l,params:a}]),e.forEach(h=>{h=this.findFilter(h),h&&(this.filterList.push(h),o=!0)}),o&&this.trackChanges()}findFilter(e){var i;if(Array.isArray(e))return this.findSubFilters(e);var l=!1;return typeof e.field=="function"?l=function(a){return e.field(a,e.type||{})}:It.filters[e.type]?(i=this.table.columnManager.getColumnByField(e.field),i?l=function(a){return It.filters[e.type](e.value,i.getFieldValue(a),a,e.params||{})}:l=function(a){return It.filters[e.type](e.value,a[e.field],a,e.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=l,e.func?e:!1}findSubFilters(e){var i=[];return e.forEach(l=>{l=this.findFilter(l),l&&i.push(l)}),i.length?i:!1}getFilters(e,i){var l=[];return e&&(l=this.getHeaderFilters()),i&&l.forEach(function(a){typeof a.type=="function"&&(a.type="function")}),l=l.concat(this.filtersToArray(this.filterList,i)),l}filtersToArray(e,i){var l=[];return e.forEach(a=>{var o;Array.isArray(a)?l.push(this.filtersToArray(a,i)):(o={field:a.field,type:a.type,value:a.value},i&&typeof o.type=="function"&&(o.type="function"),l.push(o))}),l}getHeaderFilters(){var e=[];for(var i in this.headerFilters)e.push({field:i,type:this.headerFilters[i].type,value:this.headerFilters[i].value});return e}removeFilter(e,i,l){Array.isArray(e)||(e=[{field:e,type:i,value:l}]),e.forEach(a=>{var o=-1;typeof a.field=="object"?o=this.filterList.findIndex(h=>a===h):o=this.filterList.findIndex(h=>a.field===h.field&&a.type===h.type&&a.value===h.value),o>-1?this.filterList.splice(o,1):console.warn("Filter Error - No matching filter type found, ignoring: ",a.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{typeof e.modules.filter.value<"u"&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,i,l,a){var o=[],h=[];return Array.isArray(i)||(i=[{field:i,type:l,value:a}]),i.forEach(d=>{d=this.findFilter(d),d&&h.push(d)}),this.table.rowManager.rows.forEach(d=>{var f=!0;h.forEach(p=>{this.filterRecurse(p,d.getData())||(f=!1)}),f&&o.push(e==="data"?d.getData("data"):d.getComponent())}),o}filter(e,i){var l=[],a=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),this.table.options.filterMode!=="remote"&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(o=>{this.filterRow(o)&&l.push(o)}):l=e.slice(0),this.subscribedExternal("dataFiltered")&&(l.forEach(o=>{a.push(o.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(!0),a)),l}filterRow(e,i){var l=!0,a=e.getData();this.filterList.forEach(h=>{this.filterRecurse(h,a)||(l=!1)});for(var o in this.headerFilters)this.headerFilters[o].func(a)||(l=!1);return l}filterRecurse(e,i){var l=!1;return Array.isArray(e)?e.forEach(a=>{this.filterRecurse(a,i)&&(l=!0)}):l=e.func(i),l}};V(It,"moduleName","filter"),V(It,"filters",db);let Jo=It;function fb(m,e,i){return this.emptyToSpace(this.sanitizeHTML(m.getValue()))}function pb(m,e,i){return m.getValue()}function mb(m,e,i){return m.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(m.getValue()))}function gb(m,e,i){var l=parseFloat(m.getValue()),a="",o,h,d,f,p,b=e.decimal||".",y=e.thousand||",",w=e.negativeSign||"-",M=e.symbol||"",H=!!e.symbolAfter,_=typeof e.precision<"u"?e.precision:2;if(isNaN(l))return this.emptyToSpace(this.sanitizeHTML(m.getValue()));if(l<0&&(l=Math.abs(l),a=w),o=_!==!1?l.toFixed(_):l,o=String(o).split("."),h=o[0],d=o.length>1?b+o[1]:"",e.thousand!==!1)for(f=/(\d+)(\d{3})/;f.test(h);)h=h.replace(f,"$1"+y+"$2");return p=h+d,a===!0?(p="("+p+")",H?p+M:M+p):H?a+p+M:a+M+p}function bb(m,e,i){var l=m.getValue(),a=e.urlPrefix||"",o=e.download,h=l,d=document.createElement("a"),f;function p(b,y){var w=b.shift(),M=y[w];return b.length&&typeof M=="object"?p(b,M):M}if(e.labelField&&(f=m.getData(),h=p(e.labelField.split(this.table.options.nestedFieldSeparator),f)),e.label)switch(typeof e.label){case"string":h=e.label;break;case"function":h=e.label(m);break}if(h){if(e.urlField&&(f=m.getData(),l=Ee.retrieveNestedData(this.table.options.nestedFieldSeparator,e.urlField,f)),e.url)switch(typeof e.url){case"string":l=e.url;break;case"function":l=e.url(m);break}return d.setAttribute("href",a+l),e.target&&d.setAttribute("target",e.target),e.download&&(typeof o=="function"?o=o(m):o=o===!0?"":o,d.setAttribute("download",o)),d.innerHTML=this.emptyToSpace(this.sanitizeHTML(h)),d}else return"&nbsp;"}function vb(m,e,i){var l=document.createElement("img"),a=m.getValue();switch(e.urlPrefix&&(a=e.urlPrefix+m.getValue()),e.urlSuffix&&(a=a+e.urlSuffix),l.setAttribute("src",a),typeof e.height){case"number":l.style.height=e.height+"px";break;case"string":l.style.height=e.height;break}switch(typeof e.width){case"number":l.style.width=e.width+"px";break;case"string":l.style.width=e.width;break}return l.addEventListener("load",function(){m.getRow().normalizeHeight()}),l}function yb(m,e,i){var l=m.getValue(),a=m.getElement(),o=e.allowEmpty,h=e.allowTruthy,d=Object.keys(e).includes("trueValue"),f=typeof e.tickElement<"u"?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',p=typeof e.crossElement<"u"?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return d&&l===e.trueValue||!d&&(h&&l||l===!0||l==="true"||l==="True"||l===1||l==="1")?(a.setAttribute("aria-checked",!0),f||""):o&&(l==="null"||l===""||l===null||typeof l>"u")?(a.setAttribute("aria-checked","mixed"),""):(a.setAttribute("aria-checked",!1),p||"")}function wb(m,e,i){var l=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),a=e.inputFormat||"yyyy-MM-dd HH:mm:ss",o=e.outputFormat||"dd/MM/yyyy HH:mm:ss",h=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",d=m.getValue();if(typeof l<"u"){var f;return l.isDateTime(d)?f=d:a==="iso"?f=l.fromISO(String(d)):f=l.fromFormat(String(d),a),f.isValid?(e.timezone&&(f=f.setZone(e.timezone)),f.toFormat(o)):h===!0||!d?d:typeof h=="function"?h(d):h}else console.error("Format Error - 'datetime' formatter is dependant on luxon.js")}function Cb(m,e,i){var l=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),a=e.inputFormat||"yyyy-MM-dd HH:mm:ss",o=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",h=typeof e.suffix<"u"?e.suffix:!1,d=typeof e.unit<"u"?e.unit:"days",f=typeof e.humanize<"u"?e.humanize:!1,p=typeof e.date<"u"?e.date:l.now(),b=m.getValue();if(typeof l<"u"){var y;return l.isDateTime(b)?y=b:a==="iso"?y=l.fromISO(String(b)):y=l.fromFormat(String(b),a),y.isValid?f?y.diff(p,d).toHuman()+(h?" "+h:""):parseInt(y.diff(p,d)[d])+(h?" "+h:""):o===!0?b:typeof o=="function"?o(b):o}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")}function Eb(m,e,i){var l=m.getValue();return typeof e[l]>"u"?(console.warn("Missing display value for "+l),l):e[l]}function Rb(m,e,i){var l=m.getValue(),a=m.getElement(),o=e&&e.stars?e.stars:5,h=document.createElement("span"),d=document.createElementNS("http://www.w3.org/2000/svg","svg"),f='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',p='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';h.style.verticalAlign="middle",d.setAttribute("width","14"),d.setAttribute("height","14"),d.setAttribute("viewBox","0 0 512 512"),d.setAttribute("xml:space","preserve"),d.style.padding="0 1px",l=l&&!isNaN(l)?parseInt(l):0,l=Math.max(0,Math.min(l,o));for(var b=1;b<=o;b++){var y=d.cloneNode(!0);y.innerHTML=b<=l?f:p,h.appendChild(y)}return a.style.whiteSpace="nowrap",a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.setAttribute("aria-label",l),h}function Tb(m,e,i){var l=this.sanitizeHTML(m.getValue())||0,a=document.createElement("span"),o=e&&e.max?e.max:100,h=e&&e.min?e.min:0,d=e&&typeof e.color<"u"?e.color:["red","orange","green"],f="#666666",p,b;if(!(isNaN(l)||typeof m.getValue()>"u")){switch(a.classList.add("tabulator-traffic-light"),b=parseFloat(l)<=o?parseFloat(l):o,b=parseFloat(b)>=h?parseFloat(b):h,p=(o-h)/100,b=Math.round((b-h)/p),typeof d){case"string":f=d;break;case"function":f=d(l);break;case"object":if(Array.isArray(d)){var y=100/d.length,w=Math.floor(b/y);w=Math.min(w,d.length-1),w=Math.max(w,0),f=d[w];break}}return a.style.backgroundColor=f,a}}function Sb(m,e={},i){var l=this.sanitizeHTML(m.getValue())||0,a=m.getElement(),o=e.max?e.max:100,h=e.min?e.min:0,d=e.legendAlign?e.legendAlign:"center",f,p,b,y,w;switch(p=parseFloat(l)<=o?parseFloat(l):o,p=parseFloat(p)>=h?parseFloat(p):h,f=(o-h)/100,p=Math.round((p-h)/f),typeof e.color){case"string":b=e.color;break;case"function":b=e.color(l);break;case"object":if(Array.isArray(e.color)){let F=100/e.color.length,B=Math.floor(p/F);B=Math.min(B,e.color.length-1),B=Math.max(B,0),b=e.color[B];break}default:b="#2DC214"}switch(typeof e.legend){case"string":y=e.legend;break;case"function":y=e.legend(l);break;case"boolean":y=l;break;default:y=!1}switch(typeof e.legendColor){case"string":w=e.legendColor;break;case"function":w=e.legendColor(l);break;case"object":if(Array.isArray(e.legendColor)){let F=100/e.legendColor.length,B=Math.floor(p/F);B=Math.min(B,e.legendColor.length-1),B=Math.max(B,0),w=e.legendColor[B]}break;default:w="#000"}a.style.minWidth="30px",a.style.position="relative",a.setAttribute("aria-label",p);var M=document.createElement("div");M.style.display="inline-block",M.style.width=p+"%",M.style.backgroundColor=b,M.style.height="100%",M.setAttribute("data-max",o),M.setAttribute("data-min",h);var H=document.createElement("div");if(H.style.position="relative",H.style.width="100%",H.style.height="100%",y){var _=document.createElement("div");_.style.position="absolute",_.style.top=0,_.style.left=0,_.style.textAlign=d,_.style.width="100%",_.style.color=w,_.innerHTML=y}return i(function(){if(!(m instanceof xf)){var F=document.createElement("div");F.style.position="absolute",F.style.top="4px",F.style.bottom="4px",F.style.left="4px",F.style.right="4px",a.appendChild(F),a=F}a.appendChild(H),H.appendChild(M),y&&H.appendChild(_)}),""}function Mb(m,e,i){return m.getElement().style.backgroundColor=this.sanitizeHTML(m.getValue()),""}function xb(m,e,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'}function Db(m,e,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}function zb(m,e,i){var l=m.getValue(),a=e.size||15,o=a+"px",h,d,f=e.hasOwnProperty("onValue")?e.onValue:!0,p=e.hasOwnProperty("offValue")?e.offValue:!1,b=e.onTruthy?l:l===f;return h=document.createElement("div"),h.classList.add("tabulator-toggle"),b?(h.classList.add("tabulator-toggle-on"),h.style.flexDirection="row-reverse",e.onColor&&(h.style.background=e.onColor)):e.offColor&&(h.style.background=e.offColor),h.style.width=2.5*a+"px",h.style.borderRadius=o,e.clickable&&h.addEventListener("click",y=>{m.setValue(b?p:f)}),d=document.createElement("div"),d.classList.add("tabulator-toggle-switch"),d.style.height=o,d.style.width=o,d.style.borderRadius=o,h.appendChild(d),h}function Lb(m,e,i){var l=document.createElement("span"),a=m.getRow(),o=m.getTable();return a.watchPosition(h=>{e.relativeToPage&&(h+=o.modules.page.getPageSize()*(o.modules.page.getPage()-1)),l.innerText=h}),l}function Ab(m,e,i){return m.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"}function Hb(m,e,i){var l,a,o;function h(d){var f=d.getValue(),p="plaintext";switch(typeof f){case"boolean":p="tickCross";break;case"string":f.includes(`
`)&&(p="textarea");break}return p}return l=e.formatterLookup?e.formatterLookup(m):h(m),e.paramsLookup&&(o=typeof e.paramsLookup=="function"?e.paramsLookup(l,m):e.paramsLookup[l]),a=this.table.modules.format.lookupFormatter(l),a.call(this,m,o||{},i)}function kb(m,e,i){var l=e.delimiter||",",a=m.getValue(),o=this.table,h;return e.valueMap&&(typeof e.valueMap=="string"?h=function(d){return d.map(f=>Ee.retrieveNestedData(o.options.nestedFieldSeparator,e.valueMap,f))}:h=e.valueMap),Array.isArray(a)?(h&&(a=h(a)),a.join(l)):a}function Ob(m,e,i){var l=e.indent||"	",a=typeof e.multiline>"u"?!0:e.multiline,o=e.replacer||null,h=m.getValue();return a&&(m.getElement().style.whiteSpace="pre-wrap"),JSON.stringify(h,o,l)}var _b={plaintext:fb,html:pb,textarea:mb,money:gb,link:bb,image:vb,tickCross:yb,datetime:wb,datetimediff:Cb,lookup:Eb,star:Rb,traffic:Tb,progress:Sb,color:Mb,buttonTick:xb,buttonCross:Db,toggle:zb,rownum:Lb,handle:Ab,adaptable:Hb,array:kb,json:Ob};const zi=class zi extends ie{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupTypeFormatter(e,""),typeof e.definition.formatterPrint<"u"&&(e.modules.format.print=this.lookupTypeFormatter(e,"Print")),typeof e.definition.formatterClipboard<"u"&&(e.modules.format.clipboard=this.lookupTypeFormatter(e,"Clipboard")),typeof e.definition.formatterHtmlOutput<"u"&&(e.modules.format.htmlOutput=this.lookupTypeFormatter(e,"HtmlOutput"))}lookupTypeFormatter(e,i){var l={params:e.definition["formatter"+i+"Params"]||{}},a=e.definition["formatter"+i];return l.formatter=this.lookupFormatter(a),l}lookupFormatter(e){var i;switch(typeof e){case"string":zi.formatters[e]?i=zi.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),i=zi.formatters.plaintext);break;case"function":i=e;break;default:i=zi.formatters.plaintext;break}return i}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,i,l){var a,o,h,d;return e.definition.titleFormatter?(a=this.lookupFormatter(e.definition.titleFormatter),h=f=>{e.titleFormatterRendered=f},d={getValue:function(){return i},getElement:function(){return l},getType:function(){return"header"},getColumn:function(){return e.getComponent()},getTable:()=>this.table},o=e.definition.titleFormatterParams||{},o=typeof o=="function"?o():o,a.call(this,d,o,h)):i}formatValue(e){var i=e.getComponent(),l=typeof e.column.modules.format.params=="function"?e.column.modules.format.params(i):e.column.modules.format.params;function a(o){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=o,e.modules.format.rendered=!1}return e.column.modules.format.formatter.call(this,i,l,a)}formatExportValue(e,i){var l=e.column.modules.format[i],a;if(l){let h=function(d){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=d,e.modules.format.rendered=!1};var o=h;return a=typeof l.params=="function"?l.params(e.getComponent()):l.params,l.formatter.call(this,e.getComponent(),a,h)}else return this.formatValue(e)}sanitizeHTML(e){if(e){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,function(l){return i[l]})}else return e}emptyToSpace(e){return e===null||typeof e>"u"||e===""?"&nbsp;":e}};V(zi,"moduleName","format"),V(zi,"formatters",_b);let Io=zi;class Af extends ie{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-deleted",this.reinitializeColumns.bind(this)),this.subscribe("column-hide",this.reinitializeColumns.bind(this)),this.subscribe("column-show",this.reinitializeColumns.bind(this)),this.subscribe("columns-loaded",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach(e=>{this.initializeColumn(e)}),this.layout()}initializeColumn(e){var i={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(i.position=this.initializationMode,this.initializationMode=="left"?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=i):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(i=>{i.calcs.top&&this.layoutRow(i.calcs.top),i.calcs.bottom&&this.layoutRow(i.calcs.bottom),i.groupList&&i.groupList.length&&this.layoutGroupCalcs(i.groupList)})}layoutColumnPosition(e){var i=[],l=0,a=0;this.leftColumns.forEach((o,h)=>{if(o.modules.frozen.marginValue=l,o.modules.frozen.margin=o.modules.frozen.marginValue+"px",o.visible&&(l+=o.getWidth()),h==this.leftColumns.length-1?o.modules.frozen.edge=!0:o.modules.frozen.edge=!1,o.parent.isGroup){var d=this.getColGroupParentElement(o);i.includes(d)||(this.layoutElement(d,o),i.push(d)),d.classList.toggle("tabulator-frozen-left",o.modules.frozen.edge&&o.modules.frozen.position==="left"),d.classList.toggle("tabulator-frozen-right",o.modules.frozen.edge&&o.modules.frozen.position==="right")}else this.layoutElement(o.getElement(),o);e&&o.cells.forEach(f=>{this.layoutElement(f.getElement(!0),o)})}),this.rightColumns.forEach((o,h)=>{o.modules.frozen.marginValue=a,o.modules.frozen.margin=o.modules.frozen.marginValue+"px",o.visible&&(a+=o.getWidth()),h==this.rightColumns.length-1?o.modules.frozen.edge=!0:o.modules.frozen.edge=!1,o.parent.isGroup?this.layoutElement(this.getColGroupParentElement(o),o):this.layoutElement(o.getElement(),o),e&&o.cells.forEach(d=>{this.layoutElement(d.getElement(!0),o)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0),i=this.table.rowManager.getRows().filter(l=>!e.includes(l));i.forEach(l=>{l.deinitialize()}),e.forEach(l=>{l.type==="row"&&this.layoutRow(l)})}layoutRow(e){this.table.options.layout==="fitDataFill"&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(i=>{var l=e.getCell(i);l&&this.layoutElement(l.getElement(!0),i)}),this.rightColumns.forEach(i=>{var l=e.getCell(i);l&&this.layoutElement(l.getElement(!0),i)})}layoutElement(e,i){var l;i.modules.frozen&&e&&(e.style.position="sticky",this.table.rtl?l=i.modules.frozen.position==="left"?"right":"left":l=i.modules.frozen.position,e.style[l]=i.modules.frozen.margin,e.classList.add("tabulator-frozen"),e.classList.toggle("tabulator-frozen-left",i.modules.frozen.edge&&i.modules.frozen.position==="left"),e.classList.toggle("tabulator-frozen-right",i.modules.frozen.edge&&i.modules.frozen.position==="right"))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}getFrozenColumns(){return this.leftColumns.concat(this.rightColumns)}_calcSpace(e,i){var l=0;for(let a=0;a<i;a++)e[a].visible&&(l+=e[a].getWidth());return l}}V(Af,"moduleName","frozenColumns");class Hf extends ie{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){var e=document.createDocumentFragment();this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach(e=>{this.initializeRow(e)})}initializeRow(e){var i=this.table.options.frozenRows,l=typeof i;l==="number"?e.getPosition()&&e.getPosition()+this.rows.length<=i&&this.freezeRow(e):l==="function"?i.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(i)&&i.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){var i=this.rows.indexOf(e);return i>-1}isFrozen(){return!!this.rows.length}visibleRows(e,i){return this.rows.forEach(l=>{i.push(l)}),i}getRows(e){var i=e.slice(0);return this.rows.forEach(function(l){var a=i.indexOf(l);a>-1&&i.splice(a,1)}),i}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var i=this.rows.indexOf(e);if(i>-1){var l=e.getElement();l.parentNode&&l.parentNode.removeChild(l),this.rows.splice(i,1)}}styleRows(e){this.rows.forEach((i,l)=>{this.table.rowManager.styleRow(i,l)})}}V(Hf,"moduleName","frozenRows");class Bb{constructor(e){return this._group=e,this.type="GroupComponent",new Proxy(this,{get:function(i,l,a){return typeof i[l]<"u"?i[l]:i._group.groupManager.table.componentFunctionBinder.handle("group",i._group,l)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return this._group.parent?this._group.parent.getComponent():!1}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(e,i){return this._group.groupManager.table.rowManager.scrollToRow(this._group,e,i)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class Us{constructor(e,i,l,a,o,h,d){this.groupManager=e,this.parent=i,this.key=a,this.level=l,this.field=o,this.hasSubGroups=l<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=d,this.rows=[],this.groups=[],this.groupList=[],this.generator=h,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=d?d.visible:typeof e.startOpen[l]<"u"?e.startOpen[l]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(e){e||(this.groupList.length?this.groupList.forEach(function(i){i.wipe()}):this.rows.forEach(i=>{i.modules&&delete i.modules.group})),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),this.groupManager.table.options.movableRows!==!1&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach(i=>{this._createGroup(i,e)})}addBindings(){var e;this.groupManager.table.options.groupToggleElement&&(e=this.groupManager.table.options.groupToggleElement=="arrow"?this.arrowElement:this.element,e.addEventListener("click",i=>{this.groupManager.table.options.groupToggleElement==="arrow"&&(i.stopPropagation(),i.stopImmediatePropagation()),setTimeout(()=>{this.toggleVisibility()})}))}_createGroup(e,i){var l=i+"_"+e,a=new Us(this.groupManager,this,i,e,this.groupManager.groupIDLookups[i].field,this.groupManager.headerGenerator[i]||this.groupManager.headerGenerator[0],this.old?this.old.groups[l]:!1);this.groups[l]=a,this.groupList.push(a)}_addRowToGroup(e){var i=this.level+1;if(this.hasSubGroups){var l=this.groupManager.groupIDLookups[i].func(e.getData()),a=i+"_"+l;this.groupManager.allowedValues&&this.groupManager.allowedValues[i]?this.groups[a]&&this.groups[a].addRow(e):(this.groups[a]||this._createGroup(l,i),this.groups[a].addRow(e))}}_addRow(e){this.rows.push(e),e.modules.group=this}insertRow(e,i,l){var a=this.conformRowData({});e.updateData(a);var o=this.rows.indexOf(i);o>-1?l?this.rows.splice(o+1,0,e):this.rows.splice(o,0,e):l?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(e){this.arrowElement&&(this.arrowElement.style.marginLeft=e,this.groupList.forEach(function(i){i.scrollHeader(e)}))}getRowIndex(e){}conformRowData(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}removeRow(e){var i=this.rows.indexOf(e),l=e.getElement();i>-1&&this.rows.splice(i,1),!this.groupManager.table.options.groupValues&&!this.rows.length?(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0)):(l.parentNode&&l.parentNode.removeChild(l),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)))}removeGroup(e){var i=e.level+"_"+e.key,l;this.groups[i]&&(delete this.groups[i],l=this.groupList.indexOf(e),l>-1&&this.groupList.splice(l,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var e=[];return e.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach(function(i){e=e.concat(i.getHeadersAndRows())}):(this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e}getData(e,i){var l=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach(a=>{l.push(a.getData(i||"data"))}),l}getRowCount(){var e=0;return this.groupList.length?this.groupList.forEach(i=>{e+=i.getRowCount()}):e=this.rows.length,e}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination?(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(e=>{var i=e.getHeadersAndRows();i.forEach(l=>{l.detachElement()})}):this.rows.forEach(e=>{var i=e.getElement();i.parentNode.removeChild(i)}),this.groupManager.updateGroupRows(!0)):this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination){this.element.classList.add("tabulator-group-visible");var e=this.generateElement();this.groupList.length?this.groupList.forEach(i=>{var l=i.getHeadersAndRows();l.forEach(a=>{var o=a.getElement();e.parentNode.insertBefore(o,e.nextSibling),a.initialize(),e=o})}):this.rows.forEach(i=>{var l=i.getElement();e.parentNode.insertBefore(l,e.nextSibling),i.initialize(),e=l}),this.groupManager.updateGroupRows(!0)}else this.groupManager.updateGroupRows(!0);this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var e=[];typeof this.visible=="function"&&(this.rows.forEach(function(i){e.push(i.getData())}),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}getRowGroup(e){var i=!1;return this.groupList.length?this.groupList.forEach(function(l){var a=l.getRowGroup(e);a&&(i=a)}):this.rows.find(function(l){return l===e})&&(i=this),i}getSubGroups(e){var i=[];return this.groupList.forEach(function(l){i.push(e?l.getComponent():l)}),i}getRows(e,i){var l=[];return i&&this.groupList.length?this.groupList.forEach(a=>{l=l.concat(a.getRows(e,i))}):this.rows.forEach(function(a){l.push(e?a.getComponent():a)}),l}generateGroupHeaderContents(){var e=[],i=this.getRows(!1,!0);for(i.forEach(function(l){e.push(l.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);typeof this.elementContents=="string"?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(e=[]){return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(e){(!this.initialized||e)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,Ee.elVisible(this.element)&&this.initialize(!0)}setHeight(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new Bb(this)),this.component}}class kf extends ie{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,i=this.table.options.groupStartOpen,l=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(l)&&e.length>l.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(o,h)=>{this.headerGenerator[0]=(d,f,p)=>(typeof d>"u"?"":d)+"<span>("+f+" "+(f===1?o:h.groups.items)+")</span>"}),this.groupIDLookups=[],e)this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="group"){var a=this.table.columnManager.getRealColumns();a.forEach(o=>{o.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),o.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()})}Array.isArray(e)||(e=[e]),e.forEach((o,h)=>{var d,f;typeof o=="function"?d=o:(f=this.table.columnManager.getColumnByField(o),f?d=function(p){return f.getFieldValue(p)}:d=function(p){return p[o]}),this.groupIDLookups.push({field:typeof o=="function"?!1:o,func:d,values:this.allowedValues?this.allowedValues[h]:!1})}),i&&(Array.isArray(i)||(i=[i]),i.forEach(o=>{}),this.startOpen=i),l&&(this.headerGenerator=Array.isArray(l)?l:[l])}else this.groupList=[],this.groups={}}rowSample(e,i){if(this.table.options.groupBy){var l=this.getGroups(!1)[0];i.push(l.getRows(!1)[0])}return i}virtualRenderFill(){var e=this.table.rowManager.tableElement,i=this.table.rowManager.getVisibleRows();if(this.table.options.groupBy)i=i.filter(l=>l.type!=="group"),e.style.minWidth=i.length?"":this.table.columnManager.getWidth()+"px";else return i}rowAddingIndex(e,i,l){if(this.table.options.groupBy){this.assignRowToGroup(e);var a=e.modules.group.rows;return a.length>1&&(!i||i&&a.indexOf(i)==-1?l?a[0]!==e&&(i=a[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!l)):a[a.length-1]!==e&&(i=a[a.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!l)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!l)),i}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&this.table.options.columnCalcs===!0&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return e.modules.group?e.modules.group.getComponent():!1}rowMoving(e,i,l){if(this.table.options.groupBy){!l&&i instanceof Us&&(i=this.table.rowManager.prevDisplayRow(e)||i);var a=i instanceof Us?i:i.modules.group,o=e instanceof Us?e:e.modules.group;a===o?this.table.rowManager.moveRowInArray(a.rows,e,i,l):(o&&o.removeRow(e),a.insertRow(e,i,l))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var i=[];return this.groupList.forEach(function(l){i.push(e?l.getComponent():l)}),i}getChildGroups(e){var i=[];return e||(e=this),e.groupList.forEach(l=>{l.groupList.length?i=i.concat(this.getChildGroups(l)):i.push(l)}),i}wipe(){this.table.options.groupBy&&(this.groupList.forEach(function(e){e.wipe()}),this.groupList=[],this.groups={})}pullGroupListData(e){var i=[];return e.forEach(l=>{var a={};a.level=0,a.rowCount=0,a.headerContent="";var o=[];l.hasSubGroups?(o=this.pullGroupListData(l.groupList),a.level=l.level,a.rowCount=o.length-l.groupList.length,a.headerContent=l.generator(l.key,a.rowCount,l.rows,l),i.push(a),i=i.concat(o)):(a.level=l.level,a.headerContent=l.generator(l.key,l.rows.length,l.rows,l),a.rowCount=l.getRows().length,i.push(a),l.getRows().forEach(h=>{i.push(h.getData("data"))}))}),i}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var i=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach(l=>{var a=l.getRowGroup(e);a&&(i=a)}),i}countGroups(){return this.groupList.length}generateGroups(e){var i=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(l=>{this.createGroup(l,0,i)}),e.forEach(l=>{this.assignRowToExistingGroup(l,i)})):e.forEach(l=>{this.assignRowToGroup(l,i)}),Object.values(i).forEach(l=>{l.wipe(!0)})}createGroup(e,i,l){var a=i+"_"+e,o;l=l||[],o=new Us(this,!1,i,e,this.groupIDLookups[0].field,this.headerGenerator[0],l[a]),this.groups[a]=o,this.groupList.push(o)}assignRowToExistingGroup(e,i){var l=this.groupIDLookups[0].func(e.getData()),a="0_"+l;this.groups[a]&&this.groups[a].addRow(e)}assignRowToGroup(e,i){var l=this.groupIDLookups[0].func(e.getData()),a=!this.groups["0_"+l];return a&&this.createGroup(l,0,i),this.groups["0_"+l].addRow(e),!a}reassignRowToGroup(e){if(e.type==="row"){var i=e.modules.group,l=i.getPath(),a=this.getExpectedPath(e),o;o=l.length==a.length&&l.every((h,d)=>h===a[d]),o||(i.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var i=[],l=e.getData();return this.groupIDLookups.forEach(a=>{i.push(a.func(l))}),i}updateGroupRows(e){var i=[];return this.blockRedraw||(this.groupList.forEach(l=>{i=i.concat(l.getHeadersAndRows())}),e&&this.refreshData(!0)),i}scrollHeaders(e){this.table.options.groupBy&&(this.table.options.renderHorizontal==="virtual"&&(e-=this.table.columnManager.renderer.vDomPadLeft),e=e+"px",this.groupList.forEach(i=>{i.scrollHeader(e)}))}removeGroup(e){var i=e.level+"_"+e.key,l;this.groups[i]&&(delete this.groups[i],l=this.groupList.indexOf(e),l>-1&&this.groupList.splice(l,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,i=!0;this.table.rowManager.getDisplayRows().forEach((l,a)=>{this.table.rowManager.styleRow(l,a),e.appendChild(l.getElement()),l.initialize(!0),l.type!=="group"&&(i=!1)}),i?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}}V(kf,"moduleName","groupRows");var Nb={cellEdit:function(m){m.component.setValueProcessData(m.data.oldValue),m.component.cellRendered()},rowAdd:function(m){m.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowDelete:function(m){var e=this.table.rowManager.addRowActual(m.data.data,m.data.pos,m.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(m.component,e),this.table.rowManager.checkPlaceholder()},rowMove:function(m){var e=m.data.posFrom-m.data.posTo>0;this.table.rowManager.moveRowActual(m.component,this.table.rowManager.getRowFromPosition(m.data.posFrom),e),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},Fb={cellEdit:function(m){m.component.setValueProcessData(m.data.newValue),m.component.cellRendered()},rowAdd:function(m){var e=this.table.rowManager.addRowActual(m.data.data,m.data.pos,m.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(m.component,e),this.table.rowManager.checkPlaceholder()},rowDelete:function(m){m.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowMove:function(m){this.table.rowManager.moveRowActual(m.component,this.table.rowManager.getRowFromPosition(m.data.posTo),m.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},Vb={undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"]},Ub={undo:function(m){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(m.preventDefault(),this.table.modules.history.undo()))},redo:function(m){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(m.preventDefault(),this.table.modules.history.redo()))}},Gb={keybindings:{bindings:Vb,actions:Ub}};const Li=class Li extends ie{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,i,l){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:i.getPosition(),to:i,after:l})}rowAdded(e,i,l,a){this.action("rowAdd",e,{data:i,pos:l,index:a})}rowDeleted(e){var i,l;this.table.options.groupBy?(l=e.getComponent().getGroup()._getSelf().rows,i=l.indexOf(e),i&&(i=l[i-1])):(i=e.table.rowManager.getRowIndex(e),i&&(i=e.table.rowManager.rows[i-1])),this.action("rowDelete",e,{data:e.getData(),pos:!i,index:i})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,i,l){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:i,data:l}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var i=this.history.findIndex(function(l){return l.component===e});i>-1&&(this.history.splice(i,1),i<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return Li.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Undo Error - No more history to undo":"History module not enabled"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return Li.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Redo Error - No more history to redo":"History module not enabled"),!1}_rebindRow(e,i){this.history.forEach(function(l){if(l.component instanceof Qe)l.component===e&&(l.component=i);else if(l.component instanceof Kl&&l.component.row===e){var a=l.component.column.getField();a&&(l.component=i.getCell(a))}})}};V(Li,"moduleName","history"),V(Li,"moduleExtensions",Gb),V(Li,"undoers",Nb),V(Li,"redoers",Fb);let $o=Li;class Of extends ie{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&this.table.originalElement.tagName==="TABLE"&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,i=this.table.options,l=e.getElementsByTagName("th"),a=e.getElementsByTagName("tbody")[0],o=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),a=a?a.getElementsByTagName("tr"):[],this._extractOptions(e,i),l.length?this._extractHeaders(l,a):this._generateBlankHeaders(l,a);for(var h=0;h<a.length;h++){var d=a[h],f=d.getElementsByTagName("td"),p={};this.hasIndex||(p[i.index]=h);for(var b=0;b<f.length;b++){var y=f[b];typeof this.fieldIndex[b]<"u"&&(p[this.fieldIndex[b]]=y.innerHTML)}o.push(p)}i.data=o,this.dispatchExternal("htmlImported")}_extractOptions(e,i,l){var a=e.attributes,o=Object.keys(l||i),h={};o.forEach(b=>{h[b.toLowerCase()]=b});for(var d in a){var f=a[d],p;f&&typeof f=="object"&&f.name&&f.name.indexOf("tabulator-")===0&&(p=f.name.replace("tabulator-",""),typeof h[p]<"u"&&(i[h[p]]=this._attribValue(f.value)))}}_attribValue(e){return e==="true"?!0:e==="false"?!1:e}_findCol(e){var i=this.table.options.columns.find(l=>l.title===e);return i||!1}_extractHeaders(e,i){for(var l=0;l<e.length;l++){var a=e[l],o=!1,h=this._findCol(a.textContent),d;h?o=!0:h={title:a.textContent.trim()},h.field||(h.field=a.textContent.trim().toLowerCase().replaceAll(" ","_")),d=a.getAttribute("width"),d&&!h.width&&(h.width=d),this._extractOptions(a,h,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[l]=h.field,h.field==this.table.options.index&&(this.hasIndex=!0),o||this.table.options.columns.push(h)}}_generateBlankHeaders(e,i){for(var l=0;l<e.length;l++){var a=e[l],o={title:"",field:"col"+l};this.fieldIndex[l]=o.field;var h=a.getAttribute("width");h&&(o.width=h),this.table.options.columns.push(o)}}}V(Of,"moduleName","htmlTableImport");function jb(m){var e=[],i=0,l=0,a=!1;for(let o=0;o<m.length;o++){let h=m[o],d=m[o+1];if(e[i]||(e[i]=[]),e[i][l]||(e[i][l]=""),h=='"'&&a&&d=='"'){e[i][l]+=h,o++;continue}if(h=='"'){a=!a;continue}if(h==","&&!a){l++;continue}if(h=="\r"&&d==`
`&&!a){l=0,i++,o++;continue}if((h=="\r"||h==`
`)&&!a){l=0,i++;continue}e[i][l]+=h}return e}function Pb(m){try{return JSON.parse(m)}catch(e){return console.warn("JSON Import Error - File contents is invalid JSON",e),Promise.reject()}}function Wb(m){return m}function qb(m){var e=this.dependencyRegistry.lookup("XLSX"),i=e.read(m),l=i.Sheets[i.SheetNames[0]];return e.utils.sheet_to_json(l,{header:1})}var Yb={csv:jb,json:Pb,array:Wb,xlsx:qb};const Yl=class Yl extends ie{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text"),this.registerTableOption("importHeaderTransform"),this.registerTableOption("importValueTransform"),this.registerTableOption("importDataValidator"),this.registerTableOption("importFileValidator")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&(typeof e=="string"||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,i,l,a,o){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(h=>(console.error("Import Error:",h||"Unable to import data"),Promise.reject(h)))}lookupImporter(e){var i;return e||(e=this.table.options.importFormat),typeof e=="string"?i=Yl.importers[e]:i=e,i||console.error("Import Error - Importer not found:",e),i}importFromFile(e,i,l){var a=this.lookupImporter(e);if(a)return this.pickFile(i,l).then(this.importData.bind(this,a)).then(this.structureData.bind(this)).then(this.mutateData.bind(this)).then(this.validateData.bind(this)).then(this.setData.bind(this)).catch(o=>(this.dispatch("import-error",o),this.dispatchExternal("importError",o),console.error("Import Error:",o||"Unable to import file"),this.table.dataLoader.alertError(),setTimeout(()=>{this.table.dataLoader.clearAlert()},3e3),Promise.reject(o)))}pickFile(e,i){return new Promise((l,a)=>{var o=document.createElement("input");o.type="file",o.accept=e,o.addEventListener("change",h=>{var d=o.files[0],f=new FileReader,p=this.validateFile(d);if(p===!0){switch(this.dispatch("import-importing",o.files),this.dispatchExternal("importImporting",o.files),i||this.table.options.importReader){case"buffer":f.readAsArrayBuffer(d);break;case"binary":f.readAsBinaryString(d);break;case"url":f.readAsDataURL(d);break;case"text":default:f.readAsText(d)}f.onload=b=>{l(f.result)},f.onerror=b=>{console.warn("File Load Error - Unable to read file"),a(b)}}else a(p)}),this.dispatch("import-choose"),this.dispatchExternal("importChoose"),o.click()})}importData(e,i){var l;return this.table.dataLoader.alertLoader(),new Promise((a,o)=>{setTimeout(()=>{l=e.call(this.table,i),l instanceof Promise||l?a(l):o()},10)})}structureData(e){var i=[];return Array.isArray(e)&&e.length&&Array.isArray(e[0])?(this.table.options.autoColumns?i=this.structureArrayToObject(e):i=this.structureArrayToColumns(e),i):e}mutateData(e){var i=[];return Array.isArray(e)?e.forEach(l=>{i.push(this.table.modules.mutator.transformRow(l,"import"))}):i=e,i}transformHeader(e){var i=[];if(this.table.options.importHeaderTransform)e.forEach(l=>{i.push(this.table.options.importHeaderTransform.call(this.table,l,e))});else return e;return i}transformData(e){var i=[];if(this.table.options.importValueTransform)e.forEach(l=>{i.push(this.table.options.importValueTransform.call(this.table,l,e))});else return e;return i}structureArrayToObject(e){var i=this.transformHeader(e.shift()),l=e.map(a=>{var o={};return a=this.transformData(a),i.forEach((h,d)=>{o[h]=a[d]}),o});return l}structureArrayToColumns(e){var i=[],l=this.transformHeader(e[0]),a=this.table.getColumns();return a[0]&&l[0]&&a[0].getDefinition().title===l[0]&&e.shift(),e.forEach(o=>{var h={};o=this.transformData(o),o.forEach((d,f)=>{var p=a[f];p&&(h[p.getField()]=d)}),i.push(h)}),i}validateFile(e){return this.table.options.importFileValidator?this.table.options.importFileValidator.call(this.table,e):!0}validateData(e){var i;return this.table.options.importDataValidator?(i=this.table.options.importDataValidator.call(this.table,e),i===!0?e:Promise.reject(i)):e}setData(e){return this.dispatch("import-imported",e),this.dispatchExternal("importImported",e),this.table.dataLoader.clearAlert(),this.table.setData(e)}};V(Yl,"moduleName","import"),V(Yl,"importers",Yb);let eu=Yl;class _f extends ie{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){var e=Object.values(this.touchWatchers);e.forEach(i=>{for(let l in i)i[l]=null})}cellContentsSelectionFixer(e,i){var l;if(!(this.table.modExists("edit")&&this.table.modules.edit.currentCell===i)){e.preventDefault();try{document.selection?(l=document.body.createTextRange(),l.moveToElementText(i.getElement()),l.select()):window.getSelection&&(l=document.createRange(),l.selectNode(i.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(l))}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,i){i?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var i=this.eventMap[e];this.touchSubscribers[i+"-touchstart"]||(this.touchSubscribers[i+"-touchstart"]=this.handleTouch.bind(this,i,"start"),this.touchSubscribers[i+"-touchend"]=this.handleTouch.bind(this,i,"end"),this.subscribe(i+"-touchstart",this.touchSubscribers[i+"-touchstart"]),this.subscribe(i+"-touchend",this.touchSubscribers[i+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var i=!0,l=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let a in this.eventMap)this.eventMap[a]===l&&this.subscribers[a]&&(i=!1);i&&(this.unsubscribe(l+"-touchstart",this.touchSubscribers[l+"-touchstart"]),this.unsubscribe(l+"-touchend",this.touchSubscribers[l+"-touchend"]),delete this.touchSubscribers[l+"-touchstart"],delete this.touchSubscribers[l+"-touchend"])}}initializeColumn(e){var i=e.definition;for(let l in this.eventMap)i[l]&&(this.subscriptionChanged(l,!0),this.columnSubscribers[l]||(this.columnSubscribers[l]=[]),this.columnSubscribers[l].push(e))}handle(e,i,l){this.dispatchEvent(e,i,l)}handleTouch(e,i,l,a){var o=this.touchWatchers[e];switch(e==="column"&&(e="header"),i){case"start":o.tap=!0,clearTimeout(o.tapHold),o.tapHold=setTimeout(()=>{clearTimeout(o.tapHold),o.tapHold=null,o.tap=null,clearTimeout(o.tapDbl),o.tapDbl=null,this.dispatchEvent(e+"TapHold",l,a)},1e3);break;case"end":o.tap&&(o.tap=null,this.dispatchEvent(e+"Tap",l,a)),o.tapDbl?(clearTimeout(o.tapDbl),o.tapDbl=null,this.dispatchEvent(e+"DblTap",l,a)):o.tapDbl=setTimeout(()=>{clearTimeout(o.tapDbl),o.tapDbl=null},300),clearTimeout(o.tapHold),o.tapHold=null;break}}dispatchEvent(e,i,l){var a=l.getComponent(),o;this.columnSubscribers[e]&&(l instanceof Kl?o=l.column.definition[e]:l instanceof $i&&(o=l.definition[e]),o&&o(i,a)),this.dispatchExternal(e,i,a)}}V(_f,"moduleName","interaction");var Xb={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,navLeft:37,navRight:39,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35},Qb={keyBlock:function(m){m.stopPropagation(),m.preventDefault()},scrollPageUp:function(m){var e=this.table.rowManager,i=e.scrollTop-e.element.clientHeight;m.preventDefault(),e.displayRowsCount&&(i>=0?e.element.scrollTop=i:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(m){var e=this.table.rowManager,i=e.scrollTop+e.element.clientHeight,l=e.element.scrollHeight;m.preventDefault(),e.displayRowsCount&&(i<=l?e.element.scrollTop=i:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(m){var e=this.table.rowManager;m.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(m){var e=this.table.rowManager;m.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(m){this.dispatch("keybinding-nav-prev",m)},navNext:function(m){this.dispatch("keybinding-nav-next",m)},navLeft:function(m){this.dispatch("keybinding-nav-left",m)},navRight:function(m){this.dispatch("keybinding-nav-right",m)},navUp:function(m){this.dispatch("keybinding-nav-up",m)},navDown:function(m){this.dispatch("keybinding-nav-down",m)}};const Ai=class Ai extends ie{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,i={};this.watchKeys={},this.pressedKeys=[],e!==!1&&(Object.assign(i,Ai.bindings),Object.assign(i,e),this.mapBindings(i),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let i in e)Ai.actions[i]?e[i]&&(typeof e[i]!="object"&&(e[i]=[e[i]]),e[i].forEach(l=>{var a=Array.isArray(l)?l:[l];a.forEach(o=>{this.mapBinding(i,o)})})):console.warn("Key Binding Error - no such action:",i)}mapBinding(e,i){var l={action:Ai.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1},a=i.toString().toLowerCase().split(" ").join("").split("+");a.forEach(o=>{switch(o){case"ctrl":l.ctrl=!0;break;case"shift":l.shift=!0;break;case"meta":l.meta=!0;break;default:o=isNaN(o)?o.toUpperCase().charCodeAt(0):parseInt(o),l.keys.push(o),this.watchKeys[o]||(this.watchKeys[o]=[]),this.watchKeys[o].push(l)}})}bindEvents(){var e=this;this.keyupBinding=function(i){var l=i.keyCode,a=e.watchKeys[l];a&&(e.pressedKeys.push(l),a.forEach(function(o){e.checkBinding(i,o)}))},this.keydownBinding=function(i){var l=i.keyCode,a=e.watchKeys[l];if(a){var o=e.pressedKeys.indexOf(l);o>-1&&e.pressedKeys.splice(o,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,i){var l=!0;return e.ctrlKey==i.ctrl&&e.shiftKey==i.shift&&e.metaKey==i.meta?(i.keys.forEach(a=>{var o=this.pressedKeys.indexOf(a);o==-1&&(l=!1)}),l&&i.action.call(this,e),!0):!1}};V(Ai,"moduleName","keybindings"),V(Ai,"bindings",Xb),V(Ai,"actions",Qb);let tu=Ai;class Bf extends ie{constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var i=e.definition;i.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),i.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),i.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),i.headerMenu&&this.initializeColumnHeaderMenu(e),i.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),i.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),i.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var i=e.definition.headerMenuIcon,l;l=document.createElement("span"),l.classList.add("tabulator-header-popup-button"),i?(typeof i=="function"&&(i=i(e.getComponent())),i instanceof HTMLElement?l.appendChild(i):l.innerHTML=i):l.innerHTML="&vellip;",l.addEventListener("click",a=>{a.stopPropagation(),a.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,a,e)}),e.titleElement.insertBefore(l,e.titleElement.firstChild)}loadMenuTableCellEvent(e,i,l){l._cell&&(l=l._cell),l.column.definition[e]&&this.loadMenuEvent(l.column.definition[e],i,l)}loadMenuTableColumnEvent(e,i,l){l._column&&(l=l._column),l.definition[e]&&this.loadMenuEvent(l.definition[e],i,l)}loadMenuEvent(e,i,l){l._group?l=l._group:l._row&&(l=l._row),e=typeof e=="function"?e.call(this.table,i,l.getComponent()):e,this.loadMenu(i,l,e)}loadMenu(e,i,l,a,o){var h=!(e instanceof MouseEvent),d=document.createElement("div"),f;if(d.classList.add("tabulator-menu"),h||e.preventDefault(),!(!l||!l.length)){if(a)f=o.child(d);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=f=this.popup(d)}l.forEach(p=>{var b=document.createElement("div"),y=p.label,w=p.disabled;p.separator?b.classList.add("tabulator-menu-separator"):(b.classList.add("tabulator-menu-item"),typeof y=="function"&&(y=y.call(this.table,i.getComponent())),y instanceof Node?b.appendChild(y):b.innerHTML=y,typeof w=="function"&&(w=w.call(this.table,i.getComponent())),w?(b.classList.add("tabulator-menu-item-disabled"),b.addEventListener("click",M=>{M.stopPropagation()})):p.menu&&p.menu.length?b.addEventListener("click",M=>{M.stopPropagation(),this.loadMenu(M,i,p.menu,b,f)}):p.action&&b.addEventListener("click",M=>{p.action(M,i.getComponent())}),p.menu&&p.menu.length&&b.classList.add("tabulator-menu-item-submenu")),d.appendChild(b)}),d.addEventListener("click",p=>{this.rootPopup&&this.rootPopup.hide()}),f.show(a||e),f===this.rootPopup&&(this.rootPopup.hideOnBlur(()=>{this.rootPopup=null,this.currentComponent&&(this.dispatch("menu-closed",l,f),this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}),this.currentComponent=i,this.dispatch("menu-opened",l,f),this.dispatchExternal("menuOpened",i.getComponent()))}}}V(Bf,"moduleName","menu");class Nf extends ie{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&(this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("alert-show",this.abortMove.bind(this)))}abortMove(){clearTimeout(this.checkTimeout)}initializeColumn(e){var i=this,l={},a;!e.modules.frozen&&!e.isGroup&&!e.isRowHeader&&(a=e.getElement(),l.mousemove=(function(o){e.parent===i.moving.parent&&((i.touchMove?o.touches[0].pageX:o.pageX)-Ee.elOffset(a).left+i.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?(i.toCol!==e||!i.toColAfter)&&(a.parentNode.insertBefore(i.placeholderElement,a.nextSibling),i.moveColumn(e,!0)):(i.toCol!==e||i.toColAfter)&&(a.parentNode.insertBefore(i.placeholderElement,a),i.moveColumn(e,!1)))}).bind(i),a.addEventListener("mousedown",function(o){i.touchMove=!1,o.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(o,e)},i.checkPeriod))}),a.addEventListener("mouseup",function(o){o.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),i.bindTouchEvents(e)),e.modules.moveColumn=l}bindTouchEvents(e){var i=e.getElement(),l=!1,a,o,h,d,f,p;i.addEventListener("touchstart",b=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,a=e.nextColumn(),h=a?a.getWidth()/2:0,o=e.prevColumn(),d=o?o.getWidth()/2:0,f=0,p=0,l=!1,this.startMove(b,e)},this.checkPeriod)},{passive:!0}),i.addEventListener("touchmove",b=>{var y,w;this.moving&&(this.moveHover(b),l||(l=b.touches[0].pageX),y=b.touches[0].pageX-l,y>0?a&&y-f>h&&(w=a,w!==e&&(l=b.touches[0].pageX,w.getElement().parentNode.insertBefore(this.placeholderElement,w.getElement().nextSibling),this.moveColumn(w,!0))):o&&-y-p>d&&(w=o,w!==e&&(l=b.touches[0].pageX,w.getElement().parentNode.insertBefore(this.placeholderElement,w.getElement()),this.moveColumn(w,!1))),w&&(a=w.nextColumn(),f=h,h=a?a.getWidth()/2:0,o=w.prevColumn(),p=d,d=o?o.getWidth()/2:0))},{passive:!0}),i.addEventListener("touchend",b=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(b)})}startMove(e,i){var l=i.getElement(),a=this.table.columnManager.getContentsElement(),o=this.table.columnManager.getHeadersElement();this.table.modules.selectRange&&this.table.modules.selectRange.columnSelection&&this.table.modules.selectRange.mousedown&&this.table.modules.selectRange.selecting==="column"||(this.moving=i,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-Ee.elOffset(l).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=i.getWidth()+"px",this.placeholderElement.style.height=i.getHeight()+"px",l.parentNode.insertBefore(this.placeholderElement,l),l.parentNode.removeChild(l),this.hoverElement=l.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),a.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=a.clientHeight-o.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e),this.dispatch("column-moving",e,this.moving))}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,i){var l=this.moving.getCells();this.toCol=e,this.toColAfter=i,i?e.getCells().forEach(function(a,o){var h=a.getElement(!0);h.parentNode&&l[o]&&h.parentNode.insertBefore(l[o].getElement(),h.nextSibling)}):e.getCells().forEach(function(a,o){var h=a.getElement(!0);h.parentNode&&l[o]&&h.parentNode.insertBefore(l[o].getElement(),h)})}endMove(e){(e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var i=this.table.columnManager.getContentsElement(),l=i.scrollLeft,a=(this.touchMove?e.touches[0].pageX:e.pageX)-Ee.elOffset(i).left+l,o;this.hoverElement.style.left=a-this.startX+"px",a-l<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{o=Math.max(0,l-5),this.table.rowManager.getElement().scrollLeft=o,this.autoScrollTimeout=!1},1))),l+i.clientWidth-a<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{o=Math.min(i.clientWidth,l+5),this.table.rowManager.getElement().scrollLeft=o,this.autoScrollTimeout=!1},1)))}}V(Nf,"moduleName","moveColumn");var Zb={delete:function(m,e,i){m.delete()}},Kb={insert:function(m,e,i){return this.table.addRow(m.getData(),void 0,e),!0},add:function(m,e,i){return this.table.addRow(m.getData()),!0},update:function(m,e,i){return e?(e.update(m.getData()),!0):!1},replace:function(m,e,i){return e?(this.table.addRow(m.getData(),void 0,e),e.delete(),!0):!1}};const Ji=class Ji extends ie{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var i=this,l={};l.mouseup=(function(a){i.tableRowDrop(a,e)}).bind(i),l.mousemove=(function(a){var o;a.pageY-Ee.elOffset(e.element).top+i.table.rowManager.element.scrollTop>e.getHeight()/2?(i.toRow!==e||!i.toRowAfter)&&(o=e.getElement(),o.parentNode.insertBefore(i.placeholderElement,o.nextSibling),i.moveRow(e,!0)):(i.toRow!==e||i.toRowAfter)&&(o=e.getElement(),o.previousSibling&&(o.parentNode.insertBefore(i.placeholderElement,o),i.moveRow(e,!1)))}).bind(i),e.modules.moveRow=l}initializeRow(e){var i=this,l={},a;l.mouseup=(function(o){i.tableRowDrop(o,e)}).bind(i),l.mousemove=(function(o){var h=e.getElement();o.pageY-Ee.elOffset(h).top+i.table.rowManager.element.scrollTop>e.getHeight()/2?(i.toRow!==e||!i.toRowAfter)&&(h.parentNode.insertBefore(i.placeholderElement,h.nextSibling),i.moveRow(e,!0)):(i.toRow!==e||i.toRowAfter)&&(h.parentNode.insertBefore(i.placeholderElement,h),i.moveRow(e,!1))}).bind(i),this.hasHandle||(a=e.getElement(),a.addEventListener("mousedown",function(o){o.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(o,e)},i.checkPeriod))}),a.addEventListener("mouseup",function(o){o.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=l}initializeColumn(e){e.definition.rowHandle&&this.table.options.movableRows!==!1&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&this.table.options.movableRows!==!1){var i=this,l=e.getElement(!0);l.addEventListener("mousedown",function(a){a.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(a,e.row)},i.checkPeriod))}),l.addEventListener("mouseup",function(a){a.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),this.bindTouchEvents(e.row,l)}}bindTouchEvents(e,i){var l=!1,a,o,h,d,f,p;i.addEventListener("touchstart",b=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,a=e.nextRow(),h=a?a.getHeight()/2:0,o=e.prevRow(),d=o?o.getHeight()/2:0,f=0,p=0,l=!1,this.startMove(b,e)},this.checkPeriod)},{passive:!0}),this.moving,this.toRow,this.toRowAfter,i.addEventListener("touchmove",b=>{var y,w;this.moving&&(b.preventDefault(),this.moveHover(b),l||(l=b.touches[0].pageY),y=b.touches[0].pageY-l,y>0?a&&y-f>h&&(w=a,w!==e&&(l=b.touches[0].pageY,w.getElement().parentNode.insertBefore(this.placeholderElement,w.getElement().nextSibling),this.moveRow(w,!0))):o&&-y-p>d&&(w=o,w!==e&&(l=b.touches[0].pageY,w.getElement().parentNode.insertBefore(this.placeholderElement,w.getElement()),this.moveRow(w,!1))),w&&(a=w.nextRow(),f=h,h=a?a.getHeight()/2:0,o=w.prevRow(),p=d,d=o?o.getHeight()/2:0))}),i.addEventListener("touchend",b=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(b),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})}startMove(e,i){var l=i.getElement();this.setStartPosition(e,i),this.moving=i,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=i.getWidth()+"px",this.placeholderElement.style.height=i.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(i)):(l.parentNode.insertBefore(this.placeholderElement,l),l.parentNode.removeChild(l)),this.hoverElement=l.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",i.getComponent()),this.moveHover(e)}setStartPosition(e,i){var l=this.touchMove?e.touches[0].pageX:e.pageX,a=this.touchMove?e.touches[0].pageY:e.pageY,o,h;o=i.getElement(),this.connection?(h=o.getBoundingClientRect(),this.startX=h.left-l+window.pageXOffset,this.startY=h.top-a+window.pageYOffset):this.startY=a-o.getBoundingClientRect().top}endMove(e){(!e||e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,i){this.toRow=e,this.toRowAfter=i}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var i=this.table.rowManager.getElement(),l=i.scrollTop,a=(this.touchMove?e.touches[0].pageY:e.pageY)-i.getBoundingClientRect().top+l;this.hoverElement.style.top=Math.min(a-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,i,l){this.dispatchExternal("movableRowsElementDrop",e,i,l?l.getComponent():!1)}connectToTables(e){var i;this.connectionSelectorsTables&&(i=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",i),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(l=>{typeof l=="string"?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(l))):this.connectionElements.push(l)}),this.connectionElements.forEach(l=>{var a=o=>{this.elementRowDrop(o,l,this.moving)};l.addEventListener("mouseup",a),l.tabulatorElementDropEvent=a,l.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(i=>{i.classList.remove("tabulator-movingrow-receiving"),i.removeEventListener("mouseup",i.tabulatorElementDropEvent),delete i.tabulatorElementDropEvent})}connect(e,i){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=i,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(l=>{l.type==="row"&&l.modules.moveRow&&l.modules.moveRow.mouseup&&l.getElement().addEventListener("mouseup",l.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",i,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(i=>{i.type==="row"&&i.modules.moveRow&&i.modules.moveRow.mouseup&&i.getElement().removeEventListener("mouseup",i.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,i,l){var a=!1;if(l){switch(typeof this.table.options.movableRowsSender){case"string":a=Ji.senders[this.table.options.movableRowsSender];break;case"function":a=this.table.options.movableRowsSender;break}a?a.call(this,this.moving?this.moving.getComponent():void 0,i?i.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),i?i.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),i?i.getComponent():void 0,e);this.endMove()}tableRowDrop(e,i){var l=!1,a=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":l=Ji.receivers[this.table.options.movableRowsReceiver];break;case"function":l=this.table.options.movableRowsReceiver;break}l?a=l.call(this,this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),a?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:i,success:a})}commsReceived(e,i,l){switch(i){case"connect":return this.connect(e,l.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,l.row,l.success)}}};V(Ji,"moduleName","moveRow"),V(Ji,"senders",Zb),V(Ji,"receivers",Kb);let iu=Ji;var Jb={};const Ps=class Ps extends ie{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard","import"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutatorImport"),this.registerColumnOption("mutatorImportParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,i,l){return this.transformRow(i,"data",l)}initializeColumn(e){var i=!1,l={};this.allowedTypes.forEach(a=>{var o="mutator"+(a.charAt(0).toUpperCase()+a.slice(1)),h;e.definition[o]&&(h=this.lookupMutator(e.definition[o]),h&&(i=!0,l[o]={mutator:h,params:e.definition[o+"Params"]||{}}))}),i&&(e.modules.mutate=l)}lookupMutator(e){var i=!1;switch(typeof e){case"string":Ps.mutators[e]?i=Ps.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":i=e;break}return i}transformRow(e,i,l){var a="mutator"+(i.charAt(0).toUpperCase()+i.slice(1)),o;return this.enabled&&this.table.columnManager.traverse(h=>{var d,f,p;h.modules.mutate&&(d=h.modules.mutate[a]||h.modules.mutate.mutator||!1,d&&(o=h.getFieldValue(typeof l<"u"?l:e),(i=="data"&&!l||typeof o<"u")&&(p=h.getComponent(),f=typeof d.params=="function"?d.params(o,e,i,p):d.params,h.setFieldValue(e,d.mutator(o,e,i,f,p)))))}),e}transformCell(e,i){if(e.column.modules.mutate){var l=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,a={};if(l)return a=Object.assign(a,e.row.getData()),e.column.setFieldValue(a,i),l.mutator(i,a,"edit",l.params,e.getComponent())}return i}mutateLink(e){var i=e.column.definition.mutateLink;i&&(Array.isArray(i)||(i=[i]),i.forEach(l=>{var a=e.row.getCell(l);a&&a.setValue(a.getValue(),!0,!0)}))}enable(){this.enabled=!0}disable(){this.enabled=!1}};V(Ps,"moduleName","mutator"),V(Ps,"mutators",Jb);let su=Ps;function Ib(m,e,i,l,a){var o=document.createElement("span"),h=document.createElement("span"),d=document.createElement("span"),f=document.createElement("span"),p=document.createElement("span"),b=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",y=>{h.innerHTML=y}),this.table.modules.localize.langBind("pagination|counter|of",y=>{f.innerHTML=y}),this.table.modules.localize.langBind("pagination|counter|rows",y=>{b.innerHTML=y}),l?(d.innerHTML=" "+e+"-"+Math.min(e+m-1,l)+" ",p.innerHTML=" "+l+" ",o.appendChild(h),o.appendChild(d),o.appendChild(f),o.appendChild(p),o.appendChild(b)):(d.innerHTML=" 0 ",o.appendChild(h),o.appendChild(d),o.appendChild(b)),o}function $b(m,e,i,l,a){var o=document.createElement("span"),h=document.createElement("span"),d=document.createElement("span"),f=document.createElement("span"),p=document.createElement("span"),b=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",y=>{h.innerHTML=y}),d.innerHTML=" "+i+" ",this.table.modules.localize.langBind("pagination|counter|of",y=>{f.innerHTML=y}),p.innerHTML=" "+a+" ",this.table.modules.localize.langBind("pagination|counter|pages",y=>{b.innerHTML=y}),o.appendChild(h),o.appendChild(d),o.appendChild(f),o.appendChild(p),o.appendChild(b),o}var ev={rows:Ib,pages:$b};const Xl=class Xl extends ie{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("paginationOutOfRange",!1),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),this.table.options.paginationAddRow=="page"&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.table.options.paginationMode==="remote"&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),this.table.options.progressiveLoad==="scroll"&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,i){var l=this.table.rowManager,a=l.getDisplayRows(),o;return i?a.length?o=a[0]:l.activeRows.length&&(o=l.activeRows[l.activeRows.length-1],i=!1):a.length&&(o=a[a.length-1],i=!(a.length<this.size)),{index:o,top:i}}calculatePageSizes(){var e,i;this.table.options.paginationSize?this.size=this.table.options.paginationSize:(e=document.createElement("div"),e.classList.add("tabulator-row"),e.style.visibility="hidden",i=document.createElement("div"),i.classList.add("tabulator-cell"),i.innerHTML="Page Row Test",e.appendChild(i),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,i,l,a){return this.initialLoad||(this.progressiveLoad&&!l||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),a.page=this.page,this.size&&(a.size=this.size),a}userSetPageToRow(e){return this.table.options.pagination&&(e=this.table.rowManager.findRow(e),e)?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return this.table.options.pagination?(this.setPageSize(e),this.setPage(1)):!1}scrollVertical(e,i){var l,a,o;!i&&!this.table.dataLoader.loading&&(l=this.table.rowManager.getElement(),a=l.scrollHeight-l.clientHeight-e,o=this.table.options.progressiveLoadScrollMargin||l.clientHeight*2,a<o&&this.nextPage().catch(()=>{}))}restOnRenderBefore(e,i){return i||this.mode==="local"&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),e=document.createElement("button"),e.classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,this.pageSizes.indexOf(this.size)==-1&&e.unshift(this.size);else if(this.pageSizes.indexOf(this.size)==-1){e=[];for(let i=1;i<5;i++)e.push(this.size*i);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(i=>{var l=document.createElement("option");l.value=i,i===!0?this.langBind("pagination|all",function(a){l.innerHTML=a}):l.innerHTML=i,this.pageSizeSelect.appendChild(l)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,i=null;e&&(typeof e=="function"?i=e:i=Xl.pageCounters[e],i?(this.pageCounter=i,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var i,l;e||(this.langBind("pagination|first",a=>{this.firstBut.innerHTML=a}),this.langBind("pagination|first_title",a=>{this.firstBut.setAttribute("aria-label",a),this.firstBut.setAttribute("title",a)}),this.langBind("pagination|prev",a=>{this.prevBut.innerHTML=a}),this.langBind("pagination|prev_title",a=>{this.prevBut.setAttribute("aria-label",a),this.prevBut.setAttribute("title",a)}),this.langBind("pagination|next",a=>{this.nextBut.innerHTML=a}),this.langBind("pagination|next_title",a=>{this.nextBut.setAttribute("aria-label",a),this.nextBut.setAttribute("title",a)}),this.langBind("pagination|last",a=>{this.lastBut.innerHTML=a}),this.langBind("pagination|last_title",a=>{this.lastBut.setAttribute("aria-label",a),this.lastBut.setAttribute("title",a)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(i=document.createElement("label"),this.langBind("pagination|page_size",a=>{this.pageSizeSelect.setAttribute("aria-label",a),this.pageSizeSelect.setAttribute("title",a),i.innerHTML=a}),this.element.appendChild(i),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",a=>{this.setPageSize(this.pageSizeSelect.value=="true"?!0:this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):typeof this.table.options.paginationCounterElement=="string"&&(l=document.querySelector(this.table.options.paginationCounterElement),l?l.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){e?this.max=this.size===!0?1:Math.ceil(e/this.size):this.max=1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||(this.mode=="local"||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return e=parseInt(e),e>0&&e<=this.max||this.mode!=="local"?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var i=this.displayRows(-1),l=i.indexOf(e);if(l>-1){var a=this.size===!0?1:Math.ceil((l+1)/this.size);return this.setPage(a)}else return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){e!==!0&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,i,l){var a;if(this.pageCounter)switch(this.mode==="remote"&&(i=this.size,l=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),a=this.pageCounter.call(this,i,l,this.page,e,this.max),typeof a){case"object":if(a instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(a)}else this.pageCounterElement.innerHTML="",a!=null&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",a);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=a}}_setPageButtons(){let e=Math.floor((this.count-1)/2),i=Math.ceil((this.count-1)/2),l=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),a=this.page<=i?Math.min(this.count,this.max):Math.min(this.page+i,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);this.page==1?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let o=l;o<=a;o++)o>0&&o<=this.max&&this.pagesElement.appendChild(this._generatePageButton(o));this.footerRedraw()}_generatePageButton(e){var i=document.createElement("button");return i.classList.add("tabulator-page"),e==this.page&&i.classList.add("active"),i.setAttribute("type","button"),i.setAttribute("role","button"),this.langBind("pagination|page_title",l=>{i.setAttribute("aria-label",l+" "+e),i.setAttribute("title",l+" "+e)}),i.setAttribute("data-page",e),i.textContent=e,i.addEventListener("click",l=>{this.setPage(e)}),i}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var i=0,l,a,o,h,d=e.filter(f=>f.type==="row");if(this.mode=="local"){l=[],this.setMaxRows(e.length),this.size===!0?(a=0,o=e.length):(a=this.size*(this.page-1),o=a+parseInt(this.size)),this._setPageButtons();for(let f=a;f<o;f++){let p=e[f];p&&(l.push(p),p.type==="row"&&(h||(h=p),i++))}return this._setPageCounter(d.length,i,h?d.indexOf(h)+1:0),l}else return this._setPageButtons(),this._setPageCounter(d.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var i,l;if(typeof e.last_page>"u"&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data)if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate=typeof e.last_row<"u"?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":this.page==1?this.table.rowManager.setData(e.data,!1,this.page==1):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=this.page===1?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,this.page!==1,this.page==1),i=this.table.options.progressiveLoadScrollMargin||this.table.rowManager.element.clientHeight*2,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+i&&this.page<this.max&&setTimeout(()=>{this.nextPage()});break}return!1}else{if(this.page>this.max&&(console.warn("Remote Pagination Error - Server returned last page value lower than the current page"),l=this.options("paginationOutOfRange"),l))return this.setPage(typeof l=="function"?l.call(this,this.page,this.max):l);this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}};V(Xl,"moduleName","page"),V(Xl,"pageCounters",ev);let lu=Xl;var tv={local:function(m,e){var i=localStorage.getItem(m+"-"+e);return i?JSON.parse(i):!1},cookie:function(m,e){var i=document.cookie,l=m+"-"+e,a=i.indexOf(l+"="),o,h;return a>-1&&(i=i.slice(a),o=i.indexOf(";"),o>-1&&(i=i.slice(0,o)),h=i.replace(l+"=","")),h?JSON.parse(h):!1}},iv={local:function(m,e,i){localStorage.setItem(m+"-"+e,JSON.stringify(i))},cookie:function(m,e,i){var l=new Date;l.setDate(l.getDate()+1e4),document.cookie=m+"-"+e+"="+JSON.stringify(i)+"; expires="+l.toUTCString()}};const it=class it extends ie{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var e=this.table.options.persistenceMode,i=this.table.options.persistenceID,l;this.mode=e!==!0?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?typeof this.table.options.persistenceReaderFunc=="function"?this.readFunc=this.table.options.persistenceReaderFunc:it.readers[this.table.options.persistenceReaderFunc]?this.readFunc=it.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):it.readers[this.mode]?this.readFunc=it.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?typeof this.table.options.persistenceWriterFunc=="function"?this.writeFunc=this.table.options.persistenceWriterFunc:it.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=it.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):it.writers[this.mode]?this.writeFunc=it.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(i||this.table.element.getAttribute("id")||""),this.config={sort:this.table.options.persistence===!0||this.table.options.persistence.sort,filter:this.table.options.persistence===!0||this.table.options.persistence.filter,headerFilter:this.table.options.persistence===!0||this.table.options.persistence.headerFilter,group:this.table.options.persistence===!0||this.table.options.persistence.group,page:this.table.options.persistence===!0||this.table.options.persistence.page,columns:this.table.options.persistence===!0?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(l=this.retrieveData("page"),l&&(typeof l.paginationSize<"u"&&(this.config.page===!0||this.config.page.size)&&(this.table.options.paginationSize=l.paginationSize),typeof l.paginationInitialPage<"u"&&(this.config.page===!0||this.config.page.page)&&(this.table.options.paginationInitialPage=l.paginationInitialPage))),this.config.group&&(l=this.retrieveData("group"),l&&(typeof l.groupBy<"u"&&(this.config.group===!0||this.config.group.groupBy)&&(this.table.options.groupBy=l.groupBy),typeof l.groupStartOpen<"u"&&(this.config.group===!0||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=l.groupStartOpen),typeof l.groupHeader<"u"&&(this.config.group===!0||this.config.group.groupHeader)&&(this.table.options.groupHeader=l.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,i,l;this.config.sort&&(e=this.load("sort"),e&&(this.table.options.initialSort=e)),this.config.filter&&(i=this.load("filter"),i&&(this.table.options.initialFilter=i)),this.config.headerFilter&&(l=this.load("headerFilter"),l&&(this.table.options.initialHeaderFilter=l))}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e,!0)),!0}initializeColumn(e){var i,l;this.config.columns&&(this.defWatcherBlock=!0,i=e.getDefinition(),l=this.config.columns===!0?Object.keys(i):this.config.columns,l.forEach(a=>{var o=Object.getOwnPropertyDescriptor(i,a),h=i[a];o&&Object.defineProperty(i,a,{set:d=>{h=d,this.defWatcherBlock||this.save("columns"),o.set&&o.set(d)},get:()=>(o.get&&o.get(),h)})}),this.defWatcherBlock=!1)}load(e,i){var l=this.retrieveData(e);return i&&(l=l?this.mergeDefinition(i,l):i),l}retrieveData(e){return this.readFunc?this.readFunc(this.id,e):!1}mergeDefinition(e,i,l){var a=[];return i=i||[],i.forEach((o,h)=>{var d=this._findColumn(e,o),f;d&&(l?f=Object.keys(o):this.config.columns===!0||this.config.columns==null?(f=Object.keys(d),f.push("width")):f=this.config.columns,f.forEach(p=>{p!=="columns"&&typeof o[p]<"u"&&(d[p]=o[p])}),d.columns&&(d.columns=this.mergeDefinition(d.columns,o.columns)),a.push(d))}),e.forEach((o,h)=>{var d=this._findColumn(i,o);d||(a.length>h?a.splice(h,0,o):a.push(o))}),a}_findColumn(e,i){var l=i.columns?"group":i.field?"field":"object";return e.find(function(a){switch(l){case"group":return a.title===i.title&&a.columns.length===i.columns.length;case"field":return a.field===i.field;case"object":return a===i}})}save(e){var i={};switch(e){case"columns":i=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":i=this.table.modules.filter.getFilters();break;case"headerFilter":i=this.table.modules.filter.getHeaderFilters();break;case"sort":i=this.validateSorters(this.table.modules.sort.getSort());break;case"group":i=this.getGroupConfig();break;case"page":i=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,e,i)}validateSorters(e){return e.forEach(function(i){i.column=i.field,delete i.field}),e}getGroupConfig(){var e={};return this.config.group&&((this.config.group===!0||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(this.config.group===!0||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(this.config.group===!0||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((this.config.page===!0||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(this.config.page===!0||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var i=[],l=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(a=>{var o={},h=a.getDefinition(),d;a.isGroup?(o.title=h.title,o.columns=this.parseColumns(a.getColumns())):(o.field=a.getField(),this.config.columns===!0||this.config.columns==null?(d=Object.keys(h),d.push("width"),d.push("visible")):d=this.config.columns,d.forEach(f=>{switch(f){case"width":o.width=a.getWidth();break;case"visible":o.visible=a.visible;break;default:typeof h[f]!="function"&&l.indexOf(f)===-1&&(o[f]=h[f])}})),i.push(o)}),i}};V(it,"moduleName","persistence"),V(it,"moduleInitOrder",-10),V(it,"readers",tv),V(it,"writers",iv);let nu=it;class Ff extends ie{constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,i,l){this.loadPopupEvent(i,null,e,l)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var i=e.definition;i.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),i.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),i.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),i.headerPopup&&this.initializeColumnHeaderPopup(e),i.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),i.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),i.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var i=e.definition.headerPopupIcon,l;l=document.createElement("span"),l.classList.add("tabulator-header-popup-button"),i?(typeof i=="function"&&(i=i(e.getComponent())),i instanceof HTMLElement?l.appendChild(i):l.innerHTML=i):l.innerHTML="&vellip;",l.addEventListener("click",a=>{a.stopPropagation(),a.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,a,e)}),e.titleElement.insertBefore(l,e.titleElement.firstChild)}loadPopupTableCellEvent(e,i,l){l._cell&&(l=l._cell),l.column.definition[e]&&this.loadPopupEvent(l.column.definition[e],i,l)}loadPopupTableColumnEvent(e,i,l){l._column&&(l=l._column),l.definition[e]&&this.loadPopupEvent(l.definition[e],i,l)}loadPopupEvent(e,i,l,a){var o;function h(d){o=d}l._group?l=l._group:l._row&&(l=l._row),e=typeof e=="function"?e.call(this.table,i,l.getComponent(),h):e,this.loadPopup(i,l,e,o,a)}loadPopup(e,i,l,a,o){var h=!(e instanceof MouseEvent),d,f;l instanceof HTMLElement?d=l:(d=document.createElement("div"),d.innerHTML=l),d.classList.add("tabulator-popup"),d.addEventListener("click",p=>{p.stopPropagation()}),h||e.preventDefault(),f=this.popup(d),typeof a=="function"&&f.renderCallback(a),e?f.show(e):f.show(i.getElement(),o||"center"),f.hideOnBlur(()=>{this.dispatchExternal("popupClosed",i.getComponent())}),this.dispatchExternal("popupOpened",i.getComponent())}}V(Ff,"moduleName","popup");class Vf extends ie{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,i,l){var a=window.scrollX,o=window.scrollY,h=document.createElement("div"),d=document.createElement("div"),f=this.table.modules.export.generateTable(typeof l<"u"?l:this.table.options.printConfig,typeof i<"u"?i:this.table.options.printStyled,e||this.table.options.printRowRange,"print"),p,b;this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(h.classList.add("tabulator-print-header"),p=typeof this.table.options.printHeader=="function"?this.table.options.printHeader.call(this.table):this.table.options.printHeader,typeof p=="string"?h.innerHTML=p:h.appendChild(p),this.element.appendChild(h)),this.element.appendChild(f),this.table.options.printFooter&&(d.classList.add("tabulator-print-footer"),b=typeof this.table.options.printFooter=="function"?this.table.options.printFooter.call(this.table):this.table.options.printFooter,typeof b=="string"?d.innerHTML=b:d.appendChild(b),this.element.appendChild(d)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,f),window.print(),this.cleanup(),window.scrollTo(a,o),this.manualBlock=!1}}V(Vf,"moduleName","print");class Uf extends ie{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var i=this,l;this.currentVersion++,l=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var a=Array.from(arguments),o;return!i.blocked&&l===i.currentVersion&&(i.block("data-push"),a.forEach(h=>{i.table.rowManager.addRowActual(h,!1)}),o=i.origFuncs.push.apply(e,arguments),i.unblock("data-push")),o}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var a=Array.from(arguments),o;return!i.blocked&&l===i.currentVersion&&(i.block("data-unshift"),a.forEach(h=>{i.table.rowManager.addRowActual(h,!0)}),o=i.origFuncs.unshift.apply(e,arguments),i.unblock("data-unshift")),o}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var a,o;return!i.blocked&&l===i.currentVersion&&(i.block("data-shift"),i.data.length&&(a=i.table.rowManager.getRowFromDataObject(i.data[0]),a&&a.deleteActual()),o=i.origFuncs.shift.call(e),i.unblock("data-shift")),o}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var a,o;return!i.blocked&&l===i.currentVersion&&(i.block("data-pop"),i.data.length&&(a=i.table.rowManager.getRowFromDataObject(i.data[i.data.length-1]),a&&a.deleteActual()),o=i.origFuncs.pop.call(e),i.unblock("data-pop")),o}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var a=Array.from(arguments),o=a[0]<0?e.length+a[0]:a[0],h=a[1],d=a[2]?a.slice(2):!1,f,p;if(!i.blocked&&l===i.currentVersion){if(i.block("data-splice"),d&&(f=e[o]?i.table.rowManager.getRowFromDataObject(e[o]):!1,f?d.forEach(y=>{i.table.rowManager.addRowActual(y,!0,f,!0)}):(d=d.slice().reverse(),d.forEach(y=>{i.table.rowManager.addRowActual(y,!0,!1,!0)}))),h!==0){var b=e.slice(o,typeof a[1]>"u"?a[1]:o+h);b.forEach((y,w)=>{var M=i.table.rowManager.getRowFromDataObject(y);M&&M.deleteActual(w!==b.length-1)})}(d||h!==0)&&i.table.rowManager.reRenderInPosition(),p=i.origFuncs.splice.apply(e,arguments),i.unblock("data-splice")}return p}})}unwatchData(){if(this.data!==!1)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var i=e.getData();for(var l in i)this.watchKey(e,i,l);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var i=this,l=e.getData()[this.table.options.dataTreeChildField],a={};l&&(a.push=l.push,Object.defineProperty(l,"push",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-push");var o=a.push.apply(l,arguments);this.rebuildTree(e),i.unblock("tree-push")}return o}}),a.unshift=l.unshift,Object.defineProperty(l,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-unshift");var o=a.unshift.apply(l,arguments);this.rebuildTree(e),i.unblock("tree-unshift")}return o}}),a.shift=l.shift,Object.defineProperty(l,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-shift");var o=a.shift.call(l);this.rebuildTree(e),i.unblock("tree-shift")}return o}}),a.pop=l.pop,Object.defineProperty(l,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-pop");var o=a.pop.call(l);this.rebuildTree(e),i.unblock("tree-pop")}return o}}),a.splice=l.splice,Object.defineProperty(l,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-splice");var o=a.splice.apply(l,arguments);this.rebuildTree(e),i.unblock("tree-splice")}return o}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,i,l){var a=this,o=Object.getOwnPropertyDescriptor(i,l),h=i[l],d=this.currentVersion;Object.defineProperty(i,l,{set:f=>{if(h=f,!a.blocked&&d===a.currentVersion){a.block("key");var p={};p[l]=f,e.updateData(p),a.unblock("key")}o.set&&o.set(f)},get:()=>(o.get&&o.get(),h)})}unwatchRow(e){var i=e.getData();for(var l in i)Object.defineProperty(i,l,{value:i[l]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}}V(Uf,"moduleName","reactiveData");class Gf extends ie{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1),this.registerTableOption("resizableColumnGuide",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){e.row.type==="row"&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var i=e.prevColumn();this.reinitializeColumn(e),i&&this.reinitializeColumn(i)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach(i=>{this.reinitializeColumn(i)}):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach(i=>{this.reinitializeColumn(i)}))}frozenColumnOffset(e){var i=!1;return e.modules.frozen&&(i=e.modules.frozen.marginValue,e.modules.frozen.position==="left"?i+=e.getWidth()-3:i&&(i-=3)),i!==!1?i+"px":!1}reinitializeColumn(e){var i=this.frozenColumnOffset(e);e.cells.forEach(l=>{l.modules.resize&&l.modules.resize.handleEl&&(i&&(l.modules.resize.handleEl.style[e.modules.frozen.position]=i,l.modules.resize.handleEl.style["z-index"]=11),l.element.after(l.modules.resize.handleEl))}),e.modules.resize&&e.modules.resize.handleEl&&(i&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=i),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,i,l,a){var o=this,h=!1,d=l.definition.resizable,f={},p=l.getLastColumn();if(e==="header"&&(h=l.definition.formatter=="textarea"||l.definition.variableHeight,f={variableHeight:h}),(d===!0||d==e)&&this._checkResizability(p)){var b=document.createElement("span");b.className="tabulator-col-resize-handle",b.addEventListener("click",function(w){w.stopPropagation()});var y=function(w){o.startColumn=l,o.initialNextColumn=o.nextColumn=p.nextColumn(),o._mouseDown(w,p,b)};b.addEventListener("mousedown",y),b.addEventListener("touchstart",y,{passive:!0}),b.addEventListener("dblclick",w=>{var M=p.getWidth();w.stopPropagation(),p.reinitializeWidth(!0),M!==p.getWidth()&&(o.dispatch("column-resized",p),o.dispatchExternal("columnResized",p.getComponent()))}),l.modules.frozen&&(b.style.position="sticky",b.style[l.modules.frozen.position]=this.frozenColumnOffset(l)),f.handleEl=b,a.parentNode&&l.visible&&a.after(b)}i.modules.resize=f}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach(i=>{this.deInitializeComponent(i)})}deInitializeComponent(e){var i;e.modules.resize&&(i=e.modules.resize.handleEl,i&&i.parentElement&&i.parentElement.removeChild(i))}resizeHandle(e,i){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=i)}resize(e,i){var l=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,a=l-this.startX,o=l-this.latestX,h,d;if(this.latestX=l,this.table.rtl&&(a=-a,o=-o),h=i.width==i.minWidth||i.width==i.maxWidth,i.setWidth(this.startWidth+a),d=i.width==i.minWidth||i.width==i.maxWidth,o<0&&(this.nextColumn=this.initialNextColumn),this.table.options.resizableColumnFit&&this.nextColumn&&!(h&&d)){let f=this.nextColumn.getWidth();o>0&&f<=this.nextColumn.minWidth&&(this.nextColumn=this.nextColumn.nextColumn()),this.nextColumn&&this.nextColumn.setWidth(this.nextColumn.getWidth()-o)}this.table.columnManager.rerenderColumns(!0),!this.table.browserSlow&&i.modules.resize&&i.modules.resize.variableHeight&&i.checkCellHeights()}calcGuidePosition(e,i,l){var a=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,o=l.getBoundingClientRect().x-this.table.element.getBoundingClientRect().x,h=this.table.element.getBoundingClientRect().x,d=i.element.getBoundingClientRect().left-h,f=a-this.startX,p=Math.max(o+f,d+i.minWidth);return i.maxWidth&&(p=Math.min(p,d+i.maxWidth)),p}_checkResizability(e){return e.definition.resizable}_mouseDown(e,i,l){var a=this,o;this.dispatchExternal("columnResizing",i.getComponent()),a.table.options.resizableColumnGuide&&(o=document.createElement("span"),o.classList.add("tabulator-col-resize-guide"),a.table.element.appendChild(o),setTimeout(()=>{o.style.left=a.calcGuidePosition(e,i,l)+"px"})),a.table.element.classList.add("tabulator-block-select");function h(f){a.table.options.resizableColumnGuide?o.style.left=a.calcGuidePosition(f,i,l)+"px":a.resize(f,i)}function d(f){a.table.options.resizableColumnGuide&&(a.resize(f,i),o.remove()),a.startColumn.modules.edit&&(a.startColumn.modules.edit.blocked=!1),a.table.browserSlow&&i.modules.resize&&i.modules.resize.variableHeight&&i.checkCellHeights(),document.body.removeEventListener("mouseup",d),document.body.removeEventListener("mousemove",h),l.removeEventListener("touchmove",h),l.removeEventListener("touchend",d),a.table.element.classList.remove("tabulator-block-select"),a.startWidth!==i.getWidth()&&(a.table.columnManager.verticalAlignHeaders(),a.dispatch("column-resized",i),a.dispatchExternal("columnResized",i.getComponent()))}e.stopPropagation(),a.startColumn.modules.edit&&(a.startColumn.modules.edit.blocked=!0),a.startX=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,a.latestX=a.startX,a.startWidth=i.getWidth(),document.body.addEventListener("mousemove",h),document.body.addEventListener("mouseup",d),l.addEventListener("touchmove",h,{passive:!0}),l.addEventListener("touchend",d)}}V(Gf,"moduleName","resizeColumns");class jf extends ie{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1),this.registerTableOption("resizableRowGuide",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var i=this,l=e.getElement(),a=document.createElement("div");a.className="tabulator-row-resize-handle";var o=document.createElement("div");o.className="tabulator-row-resize-handle prev",a.addEventListener("click",function(f){f.stopPropagation()});var h=function(f){i.startRow=e,i._mouseDown(f,e,a)};a.addEventListener("mousedown",h),a.addEventListener("touchstart",h,{passive:!0}),o.addEventListener("click",function(f){f.stopPropagation()});var d=function(f){var p=i.table.rowManager.prevDisplayRow(e);p&&(i.startRow=p,i._mouseDown(f,p,o))};o.addEventListener("mousedown",d),o.addEventListener("touchstart",d,{passive:!0}),l.appendChild(a),l.appendChild(o)}resize(e,i){i.setHeight(this.startHeight+((typeof e.screenY>"u"?e.touches[0].screenY:e.screenY)-this.startY))}calcGuidePosition(e,i,l){var a=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,o=l.getBoundingClientRect().y-this.table.element.getBoundingClientRect().y,h=this.table.element.getBoundingClientRect().y,d=i.element.getBoundingClientRect().top-h,f=a-this.startY;return Math.max(o+f,d)}_mouseDown(e,i,l){var a=this,o;a.dispatchExternal("rowResizing",i.getComponent()),a.table.options.resizableRowGuide&&(o=document.createElement("span"),o.classList.add("tabulator-row-resize-guide"),a.table.element.appendChild(o),setTimeout(()=>{o.style.top=a.calcGuidePosition(e,i,l)+"px"})),a.table.element.classList.add("tabulator-block-select");function h(f){a.table.options.resizableRowGuide?o.style.top=a.calcGuidePosition(f,i,l)+"px":a.resize(f,i)}function d(f){a.table.options.resizableRowGuide&&(a.resize(f,i),o.remove()),document.body.removeEventListener("mouseup",h),document.body.removeEventListener("mousemove",h),l.removeEventListener("touchmove",h),l.removeEventListener("touchend",d),a.table.element.classList.remove("tabulator-block-select"),a.dispatchExternal("rowResized",i.getComponent())}e.stopPropagation(),a.startY=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,a.startHeight=i.getHeight(),document.body.addEventListener("mousemove",h),document.body.addEventListener("mouseup",d),l.addEventListener("touchmove",h,{passive:!0}),l.addEventListener("touchend",d)}}V(jf,"moduleName","resizeRows");class Pf extends ie{constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var e=this.table,i;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),typeof IntersectionObserver<"u"&&typeof ResizeObserver<"u"&&e.rowManager.getRenderMode()==="virtual"?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver(l=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var a=Math.floor(l[0].contentRect.height),o=Math.floor(l[0].contentRect.width);(this.tableHeight!=a||this.tableWidth!=o)&&(this.tableHeight=a,this.tableWidth=o,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.redrawTable())}}),this.resizeObserver.observe(e.element),i=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(i.getPropertyValue("max-height")||i.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(l=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var a=Math.floor(l[0].contentRect.height),o=Math.floor(l[0].contentRect.width);(this.containerHeight!=a||this.containerWidth!=o)&&(this.containerHeight=a,this.containerWidth=o,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),this.redrawTable()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell))&&(e.columnManager.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)}),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}V(Pf,"moduleName","resizeTable");function sv(m,e,i){var l=document.createElement("div"),a=m.getRow()._row.modules.responsiveLayout;l.classList.add("tabulator-responsive-collapse-toggle"),l.innerHTML=`<svg class='tabulator-responsive-collapse-toggle-open' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />
  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />
</svg>

<svg class='tabulator-responsive-collapse-toggle-close' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />
</svg>`,m.getElement().classList.add("tabulator-row-handle");function o(h){var d=a.element;a.open=h,d&&(a.open?(l.classList.add("open"),d.style.display=""):(l.classList.remove("open"),d.style.display="none"))}return l.addEventListener("click",function(h){h.stopImmediatePropagation(),o(!a.open),m.getTable().rowManager.adjustTableSize()}),o(a.open),l}var lv={format:{formatters:{responsiveCollapse:sv}}};class au extends ie{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),this.table.options.responsiveLayout==="collapse"&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){["fitColumns","fitDataStretch"].indexOf(this.layoutMode())===-1&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.collapseFormatter&&(this.collapseFormatter=this.collapseFormatter.bind(this.table)),this.table.columnManager.columnsByIndex.forEach((i,l)=>{i.modules.responsive&&i.modules.responsive.order&&i.modules.responsive.visible&&(i.modules.responsive.index=l,e.push(i),!i.visible&&this.mode==="collapse"&&this.hiddenColumns.push(i))}),e=e.reverse(),e=e.sort((i,l)=>{var a=l.modules.responsive.order-i.modules.responsive.order;return a||l.modules.responsive.index-i.modules.responsive.index}),this.columns=e,this.mode==="collapse"&&this.generateCollapsedContent();for(let i of this.table.columnManager.columnsByIndex)if(i.definition.formatter=="responsiveCollapse"){this.collapseHandleColumn=i;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var i=e.getDefinition();e.modules.responsive={order:typeof i.responsive>"u"?1:i.responsive,visible:i.visible!==!1}}initializeRow(e){var i;e.type!=="calc"&&(i=document.createElement("div"),i.classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:i,open:this.collapseStartOpen},this.collapseStartOpen||(i.style.display="none"))}layoutRow(e){var i=e.getElement();e.modules.responsiveLayout&&(i.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,i){!i&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var i=this.hiddenColumns.length;e.hide(!1,!0),this.mode==="collapse"&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!i&&this.collapseHandleColumn.show())}showColumn(e){var i;e.show(!1,!0),e.setWidth(e.getWidth()),this.mode==="collapse"&&(i=this.hiddenColumns.indexOf(e),i>-1&&this.hiddenColumns.splice(i,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=!0;e;){let i=this.table.modules.layout.getMode()=="fitColumns"?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),l=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-i;if(l<0){let a=this.columns[this.index];a?(this.hideColumn(a),this.index++):e=!1}else{let a=this.columns[this.index-1];a&&l>0&&l>=a.getWidth()?(this.showColumn(a),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this.table.rowManager.getDisplayRows();e.forEach(i=>{this.generateCollapsedRowContent(i)})}generateCollapsedRowContent(e){var i,l;if(e.modules.responsiveLayout){for(i=e.modules.responsiveLayout.element;i.firstChild;)i.removeChild(i.firstChild);l=this.collapseFormatter(this.generateCollapsedRowData(e)),l&&i.appendChild(l),e.calcHeight(!0)}}generateCollapsedRowData(e){var i=e.getData(),l=[],a;return this.hiddenColumns.forEach(o=>{var h=o.getFieldValue(i);if(o.definition.title&&o.field)if(o.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){let f=function(p){p()};var d=f;a={value:!1,data:{},getValue:function(){return h},getData:function(){return i},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return o.getComponent()},getTable:()=>this.table},l.push({field:o.field,title:o.definition.title,value:o.modules.format.formatter.call(this.table.modules.format,a,o.modules.format.params,f)})}else l.push({field:o.field,title:o.definition.title,value:h})}),l}formatCollapsedData(e){var i=document.createElement("table");return e.forEach(l=>{var a=document.createElement("tr"),o=document.createElement("td"),h=document.createElement("td"),d,f=document.createElement("strong");o.appendChild(f),this.modules.localize.bind("columns|"+l.field,function(p){f.innerHTML=p||l.title}),l.value instanceof Node?(d=document.createElement("div"),d.appendChild(l.value),h.appendChild(d)):h.innerHTML=l.value,a.appendChild(o),a.appendChild(h),i.appendChild(a)}),Object.keys(e).length?i:""}}V(au,"moduleName","responsiveLayout"),V(au,"moduleExtensions",lv);function nv(m,e,i){var l=document.createElement("input"),a=!1;if(l.type="checkbox",l.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(l.addEventListener("click",h=>{h.stopPropagation()}),typeof m.getRow=="function"){var o=m.getRow();o instanceof pa?(l.addEventListener("change",h=>{this.table.options.selectableRowsRangeMode==="click"&&a?a=!1:o.toggleSelect()}),this.table.options.selectableRowsRangeMode==="click"&&l.addEventListener("click",h=>{a=!0,this.table.modules.selectRow.handleComplexRowClick(o._row,h)}),l.checked=o.isSelected&&o.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(o,l)):l=""}else l.addEventListener("change",h=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(e.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(l);return l}var av={format:{formatters:{rowSelection:nv}}};class ru extends ie{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectableRows","highlight"),this.registerTableOption("selectableRowsRangeMode","drag"),this.registerTableOption("selectableRowsRollingSelection",!0),this.registerTableOption("selectableRowsPersistence",!0),this.registerTableOption("selectableRowsCheck",function(i,l){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.deprecatedOptionsCheck(),this.table.options.selectableRows==="highlight"&&this.table.options.selectableRange&&(this.table.options.selectableRows=!1),this.table.options.selectableRows!==!1&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectableRows&&!this.table.options.selectableRowsPersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}deprecatedOptionsCheck(){}rowRetrieve(e,i){return e==="selected"?this.selectedRows:i}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var i=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],i&&e!==!0&&this._rowSelectionChanged()}initializeRow(e){var i=this,l=i.checkRowSelectability(e),a=e.getElement(),o=function(){setTimeout(function(){i.selecting=!1},50),document.body.removeEventListener("mouseup",o)};e.modules.select={selected:!1},a.classList.toggle("tabulator-selectable",l),a.classList.toggle("tabulator-unselectable",!l),i.checkRowSelectability(e)&&i.table.options.selectableRows&&i.table.options.selectableRows!="highlight"&&(i.table.options.selectableRowsRangeMode==="click"?a.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(a.addEventListener("click",function(h){(!i.table.modExists("edit")||!i.table.modules.edit.getCurrentCell())&&i.table._clearSelection(),i.selecting||i.toggleRow(e)}),a.addEventListener("mousedown",function(h){if(h.shiftKey)return i.table._clearSelection(),i.selecting=!0,i.selectPrev=[],document.body.addEventListener("mouseup",o),document.body.addEventListener("keyup",o),i.toggleRow(e),!1}),a.addEventListener("mouseenter",function(h){i.selecting&&(i.table._clearSelection(),i.toggleRow(e),i.selectPrev[1]==e&&i.toggleRow(i.selectPrev[0]))}),a.addEventListener("mouseout",function(h){i.selecting&&(i.table._clearSelection(),i.selectPrev.unshift(e))})))}handleComplexRowClick(e,i){if(i.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var l=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),a=this.table.rowManager.getDisplayRowIndex(e),o=l<=a?l:a,h=l>=a?l:a,d=this.table.rowManager.getDisplayRows().slice(0),f=d.splice(o,h-o+1);i.ctrlKey||i.metaKey?(f.forEach(p=>{p!==this.lastClickedRow&&(this.table.options.selectableRows!==!0&&!this.isRowSelected(e)?this.selectedRows.length<this.table.options.selectableRows&&this.toggleRow(p):this.toggleRow(p))}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.table.options.selectableRows!==!0&&f.length>this.table.options.selectableRows&&(f=f.slice(0,this.table.options.selectableRows)),this.selectRows(f)),this.table._clearSelection()}else i.ctrlKey||i.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return e&&e.type==="row"?this.table.options.selectableRowsCheck.call(this.table,e.getComponent()):!1}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var i=[],l,a;switch(typeof e){case"undefined":l=this.table.rowManager.rows;break;case"number":l=this.table.rowManager.findRow(e);break;case"string":l=this.table.rowManager.findRow(e),l||(l=this.table.rowManager.getRows(e));break;default:l=e;break}Array.isArray(l)?l.length&&(l.forEach(o=>{a=this._selectRow(o,!0,!0),a&&i.push(a)}),this._rowSelectionChanged(!1,i)):l&&this._selectRow(l,!1,!0)}_selectRow(e,i,l){if(!isNaN(this.table.options.selectableRows)&&this.table.options.selectableRows!==!0&&!l&&this.selectedRows.length>=this.table.options.selectableRows)if(this.table.options.selectableRowsRollingSelection)this._deselectRow(this.selectedRows[0]);else return!1;var a=this.table.rowManager.findRow(e);if(a){if(this.selectedRows.indexOf(a)==-1)return a.getElement().classList.add("tabulator-selected"),a.modules.select||(a.modules.select={}),a.modules.select.selected=!0,a.modules.select.checkboxEl&&(a.modules.select.checkboxEl.checked=!0),this.selectedRows.push(a),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(a,!0),this.dispatchExternal("rowSelected",a.getComponent()),this._rowSelectionChanged(i,a),a}else i||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return this.selectedRows.indexOf(e)!==-1}deselectRows(e,i){var l=[],a,o;switch(typeof e){case"undefined":a=Object.assign([],this.selectedRows);break;case"number":a=this.table.rowManager.findRow(e);break;case"string":a=this.table.rowManager.findRow(e),a||(a=this.table.rowManager.getRows(e));break;default:a=e;break}Array.isArray(a)?a.length&&(a.forEach(h=>{o=this._deselectRow(h,!0,!0),o&&l.push(o)}),this._rowSelectionChanged(i,[],l)):a&&this._deselectRow(a,i,!0)}_deselectRow(e,i){var l=this,a=l.table.rowManager.findRow(e),o,h;if(a){if(o=l.selectedRows.findIndex(function(d){return d==a}),o>-1)return h=a.getElement(),h&&h.classList.remove("tabulator-selected"),a.modules.select||(a.modules.select={}),a.modules.select.selected=!1,a.modules.select.checkboxEl&&(a.modules.select.checkboxEl.checked=!1),l.selectedRows.splice(o,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(a,!1),this.dispatchExternal("rowDeselected",a.getComponent()),l._rowSelectionChanged(i,void 0,a),a}else i||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(i){e.push(i.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(i){e.push(i.getComponent())}),e}_rowSelectionChanged(e,i=[],l=[]){this.headerCheckboxElement&&(this.selectedRows.length===0?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||(Array.isArray(i)||(i=[i]),i=i.map(a=>a.getComponent()),Array.isArray(l)||(l=[l]),l=l.map(a=>a.getComponent()),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),i,l))}registerRowSelectCheckbox(e,i){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=i}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,i){var l=this.table.modules.dataTree.getChildren(e,!0,!0);if(i)for(let a of l)this._selectRow(a,!0);else for(let a of l)this._deselectRow(a,!0)}}V(ru,"moduleName","selectRow"),V(ru,"moduleExtensions",av);class rv{constructor(e){return this._range=e,new Proxy(this,{get:function(i,l,a){return typeof i[l]<"u"?i[l]:i._range.table.componentFunctionBinder.handle("range",i._range,l)}})}getElement(){return this._range.element}getData(){return this._range.getData()}getCells(){return this._range.getCells(!0,!0)}getStructuredCells(){return this._range.getStructuredCells()}getRows(){return this._range.getRows().map(e=>e.getComponent())}getColumns(){return this._range.getColumns().map(e=>e.getComponent())}getBounds(){return this._range.getBounds()}getTopEdge(){return this._range.top}getBottomEdge(){return this._range.bottom}getLeftEdge(){return this._range.left}getRightEdge(){return this._range.right}setBounds(e,i){this._range.destroyedGuard("setBounds")&&this._range.setBounds(e&&e._cell,i&&i._cell)}setStartBound(e){this._range.destroyedGuard("setStartBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}setEndBound(e){this._range.destroyedGuard("setEndBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}clearValues(){this._range.destroyedGuard("clearValues")&&this._range.clearValues()}remove(){this._range.destroyedGuard("remove")&&this._range.destroy(!0)}}class ov extends Pe{constructor(e,i,l,a){super(e),this.rangeManager=i,this.element=null,this.initialized=!1,this.initializing={start:!1,end:!1},this.destroyed=!1,this.top=0,this.bottom=0,this.left=0,this.right=0,this.table=e,this.start={row:0,col:0},this.end={row:0,col:0},this.rangeManager.rowHeader&&(this.left=1,this.right=1,this.start.col=1,this.end.col=1),this.initElement(),setTimeout(()=>{this.initBounds(l,a)})}initElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-range")}initBounds(e,i){this._updateMinMax(),e&&this.setBounds(e,i||e)}setStart(e,i){(this.start.row!==e||this.start.col!==i)&&(this.start.row=e,this.start.col=i,this.initializing.start=!0,this._updateMinMax())}setEnd(e,i){(this.end.row!==e||this.end.col!==i)&&(this.end.row=e,this.end.col=i,this.initializing.end=!0,this._updateMinMax())}setBounds(e,i,l){e&&this.setStartBound(e),this.setEndBound(i||e),this.rangeManager.layoutElement(l)}setStartBound(e){var i,l;e.type==="column"?this.rangeManager.columnSelection&&this.setStart(0,e.getPosition()-1):(i=e.row.position-1,l=e.column.getPosition()-1,e.column===this.rangeManager.rowHeader?this.setStart(i,1):this.setStart(i,l))}setEndBound(e){var i=this._getTableRows().length,l,a,o;e.type==="column"?this.rangeManager.columnSelection&&(this.rangeManager.selecting==="column"?this.setEnd(i-1,e.getPosition()-1):this.rangeManager.selecting==="cell"&&this.setEnd(0,e.getPosition()-1)):(l=e.row.position-1,a=e.column.getPosition()-1,o=e.column===this.rangeManager.rowHeader,this.rangeManager.selecting==="row"?this.setEnd(l,this._getTableColumns().length-1):this.rangeManager.selecting!=="row"&&o?this.setEnd(l,0):this.rangeManager.selecting==="column"?this.setEnd(i-1,a):this.setEnd(l,a))}_updateMinMax(){this.top=Math.min(this.start.row,this.end.row),this.bottom=Math.max(this.start.row,this.end.row),this.left=Math.min(this.start.col,this.end.col),this.right=Math.max(this.start.col,this.end.col),this.initialized?this.dispatchExternal("rangeChanged",this.getComponent()):this.initializing.start&&this.initializing.end&&(this.initialized=!0,this.dispatchExternal("rangeAdded",this.getComponent()))}_getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}_getTableRows(){return this.table.rowManager.getDisplayRows().filter(e=>e.type==="row")}layout(){var e=this.table.rowManager.renderer.vDomTop,i=this.table.rowManager.renderer.vDomBottom,l=this.table.columnManager.renderer.leftCol,a=this.table.columnManager.renderer.rightCol,o,h,d,f,p,b,y,w,M,H;this.table.options.renderHorizontal==="virtual"&&this.rangeManager.rowHeader&&(a+=1),e==null&&(e=0),i==null&&(i=1/0),l==null&&(l=0),a==null&&(a=1/0),this.overlaps(l,e,a,i)&&(o=Math.max(this.top,e),h=Math.min(this.bottom,i),d=Math.max(this.left,l),f=Math.min(this.right,a),p=this.rangeManager.getCell(o,d),b=this.rangeManager.getCell(h,f),y=p.getElement(),w=b.getElement(),M=p.row.getElement(),H=b.row.getElement(),this.element.classList.add("tabulator-range-active"),this.table.rtl?(this.element.style.right=M.offsetWidth-y.offsetLeft-y.offsetWidth+"px",this.element.style.width=y.offsetLeft+y.offsetWidth-w.offsetLeft+"px"):(this.element.style.left=M.offsetLeft+y.offsetLeft+"px",this.element.style.width=w.offsetLeft+w.offsetWidth-y.offsetLeft+"px"),this.element.style.top=M.offsetTop+"px",this.element.style.height=H.offsetTop+H.offsetHeight-M.offsetTop+"px")}atTopLeft(e){return e.row.position-1===this.top&&e.column.getPosition()-1===this.left}atBottomRight(e){return e.row.position-1===this.bottom&&e.column.getPosition()-1===this.right}occupies(e){return this.occupiesRow(e.row)&&this.occupiesColumn(e.column)}occupiesRow(e){return this.top<=e.position-1&&e.position-1<=this.bottom}occupiesColumn(e){return this.left<=e.getPosition()-1&&e.getPosition()-1<=this.right}overlaps(e,i,l,a){return!(this.left>l||e>this.right||this.top>a||i>this.bottom)}getData(){var e=[],i=this.getRows(),l=this.getColumns();return i.forEach(a=>{var o=a.getData(),h={};l.forEach(d=>{h[d.field]=o[d.field]}),e.push(h)}),e}getCells(e,i){var l=[],a=this.getRows(),o=this.getColumns();return e?l=a.map(h=>{var d=[];return h.getCells().forEach(f=>{o.includes(f.column)&&d.push(i?f.getComponent():f)}),d}):a.forEach(h=>{h.getCells().forEach(d=>{o.includes(d.column)&&l.push(i?d.getComponent():d)})}),l}getStructuredCells(){return this.getCells(!0,!0)}getRows(){return this._getTableRows().slice(this.top,this.bottom+1)}getColumns(){return this._getTableColumns().slice(this.left,this.right+1)}clearValues(){var e=this.getCells(),i=this.table.options.selectableRangeClearCellsValue;this.table.blockRedraw(),e.forEach(l=>{l.setValue(i)}),this.table.restoreRedraw()}getBounds(e){var i=this.getCells(!1,e),l={start:null,end:null};return i.length?(l.start=i[0],l.end=i[i.length-1]):console.warn("No bounds defined on range"),l}getComponent(){return this.component||(this.component=new rv(this)),this.component}destroy(e){this.destroyed=!0,this.element.remove(),e&&this.rangeManager.rangeRemoved(this),this.initialized&&this.dispatchExternal("rangeRemoved",this.getComponent())}destroyedGuard(e){return this.destroyed&&console.warn("You cannot call the "+e+" function on a destroyed range"),!this.destroyed}}var uv={rangeJumpUp:["ctrl + 38","meta + 38"],rangeJumpDown:["ctrl + 40","meta + 40"],rangeJumpLeft:["ctrl + 37","meta + 37"],rangeJumpRight:["ctrl + 39","meta + 39"],rangeExpandUp:"shift + 38",rangeExpandDown:"shift + 40",rangeExpandLeft:"shift + 37",rangeExpandRight:"shift + 39",rangeExpandJumpUp:["ctrl + shift + 38","meta + shift + 38"],rangeExpandJumpDown:["ctrl + shift + 40","meta + shift + 40"],rangeExpandJumpLeft:["ctrl + shift + 37","meta + shift + 37"],rangeExpandJumpRight:["ctrl + shift + 39","meta + shift + 39"]},hv={rangeJumpLeft:function(m){this.dispatch("keybinding-nav-range",m,"left",!0,!1)},rangeJumpRight:function(m){this.dispatch("keybinding-nav-range",m,"right",!0,!1)},rangeJumpUp:function(m){this.dispatch("keybinding-nav-range",m,"up",!0,!1)},rangeJumpDown:function(m){this.dispatch("keybinding-nav-range",m,"down",!0,!1)},rangeExpandLeft:function(m){this.dispatch("keybinding-nav-range",m,"left",!1,!0)},rangeExpandRight:function(m){this.dispatch("keybinding-nav-range",m,"right",!1,!0)},rangeExpandUp:function(m){this.dispatch("keybinding-nav-range",m,"up",!1,!0)},rangeExpandDown:function(m){this.dispatch("keybinding-nav-range",m,"down",!1,!0)},rangeExpandJumpLeft:function(m){this.dispatch("keybinding-nav-range",m,"left",!0,!0)},rangeExpandJumpRight:function(m){this.dispatch("keybinding-nav-range",m,"right",!0,!0)},rangeExpandJumpUp:function(m){this.dispatch("keybinding-nav-range",m,"up",!0,!0)},rangeExpandJumpDown:function(m){this.dispatch("keybinding-nav-range",m,"down",!0,!0)}},cv={range:function(m){var e=[],i=this.table.modules.selectRange.activeRange,l=!1,a,o,h,d,f;return f=m.length,i&&(a=i.getBounds(),o=a.start,a.start===a.end&&(l=!0),o&&(e=this.table.rowManager.activeRows.slice(),h=e.indexOf(o.row),l?d=m.length:d=e.indexOf(a.end.row)-h+1,h>-1&&(this.table.blockRedraw(),e=e.slice(h,h+d),e.forEach((p,b)=>{p.updateData(m[b%f])}),this.table.restoreRedraw()))),e}},dv={range:function(m){var e=[],i=[],l=this.table.modules.selectRange.activeRange,a=!1,o,h,d,f,p;return l&&(o=l.getBounds(),h=o.start,o.start===o.end&&(a=!0),h&&(m=m.split(`
`),m.forEach(function(b){e.push(b.split("	"))}),e.length&&(f=this.table.columnManager.getVisibleColumnsByIndex(),p=f.indexOf(h.column),p>-1)))?(a?d=e[0].length:d=f.indexOf(o.end.column)-p+1,f=f.slice(p,p+d),e.forEach(b=>{var y={},w=b.length;f.forEach(function(M,H){y[M.field]=b[H%w]}),i.push(y)}),i):!1}},fv={range:function(){var m=this.modules.selectRange.selectedColumns();return this.columnManager.rowHeader&&m.unshift(this.columnManager.rowHeader),m}},pv={range:function(){return this.modules.selectRange.selectedRows()}},mv={keybindings:{bindings:uv,actions:hv},clipboard:{pasteActions:cv,pasteParsers:dv},export:{columnLookups:fv,rowLookups:pv}};class fa extends ie{constructor(e){super(e),this.selecting="cell",this.mousedown=!1,this.ranges=[],this.overlay=null,this.rowHeader=null,this.layoutChangeTimeout=null,this.columnSelection=!1,this.rowSelection=!1,this.maxRanges=0,this.activeRange=!1,this.blockKeydown=!1,this.keyDownEvent=this._handleKeyDown.bind(this),this.mouseUpEvent=this._handleMouseUp.bind(this),this.registerTableOption("selectableRange",!1),this.registerTableOption("selectableRangeColumns",!1),this.registerTableOption("selectableRangeRows",!1),this.registerTableOption("selectableRangeClearCells",!1),this.registerTableOption("selectableRangeClearCellsValue",void 0),this.registerTableOption("selectableRangeAutoFocus",!0),this.registerTableFunction("getRangesData",this.getRangesData.bind(this)),this.registerTableFunction("getRanges",this.getRanges.bind(this)),this.registerTableFunction("addRange",this.addRangeFromComponent.bind(this)),this.registerComponentFunction("cell","getRanges",this.cellGetRanges.bind(this)),this.registerComponentFunction("row","getRanges",this.rowGetRanges.bind(this)),this.registerComponentFunction("column","getRanges",this.colGetRanges.bind(this))}initialize(){this.options("selectableRange")&&(this.options("selectableRows")?console.warn("SelectRange functionality cannot be used in conjunction with row selection"):(this.maxRanges=this.options("selectableRange"),this.initializeTable(),this.initializeWatchers()),this.options("columns").findIndex(e=>e.frozen)>0&&console.warn("Having frozen column in arbitrary position with selectRange option may result in unpredictable behavior."),this.options("columns").filter(e=>e.frozen)>1&&console.warn("Having multiple frozen columns with selectRange option may result in unpredictable behavior."))}initializeTable(){this.overlay=document.createElement("div"),this.overlay.classList.add("tabulator-range-overlay"),this.rangeContainer=document.createElement("div"),this.rangeContainer.classList.add("tabulator-range-container"),this.activeRangeCellElement=document.createElement("div"),this.activeRangeCellElement.classList.add("tabulator-range-cell-active"),this.overlay.appendChild(this.rangeContainer),this.overlay.appendChild(this.activeRangeCellElement),this.table.rowManager.element.addEventListener("keydown",this.keyDownEvent),this.resetRanges(),this.table.rowManager.element.appendChild(this.overlay),this.table.columnManager.element.setAttribute("tabindex",0),this.table.element.classList.add("tabulator-ranges")}initializeWatchers(){this.columnSelection=this.options("selectableRangeColumns"),this.rowSelection=this.options("selectableRangeRows"),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-mousedown",this.handleColumnMouseDown.bind(this)),this.subscribe("column-mousemove",this.handleColumnMouseMove.bind(this)),this.subscribe("column-resized",this.handleColumnResized.bind(this)),this.subscribe("column-moving",this.handleColumnMoving.bind(this)),this.subscribe("column-moved",this.handleColumnMoved.bind(this)),this.subscribe("column-width",this.layoutChange.bind(this)),this.subscribe("column-height",this.layoutChange.bind(this)),this.subscribe("column-resized",this.layoutChange.bind(this)),this.subscribe("columns-loaded",this.updateHeaderColumn.bind(this)),this.subscribe("cell-height",this.layoutChange.bind(this)),this.subscribe("cell-rendered",this.renderCell.bind(this)),this.subscribe("cell-mousedown",this.handleCellMouseDown.bind(this)),this.subscribe("cell-mousemove",this.handleCellMouseMove.bind(this)),this.subscribe("cell-click",this.handleCellClick.bind(this)),this.subscribe("cell-editing",this.handleEditingCell.bind(this)),this.subscribe("page-changed",this.redraw.bind(this)),this.subscribe("scroll-vertical",this.layoutChange.bind(this)),this.subscribe("scroll-horizontal",this.layoutChange.bind(this)),this.subscribe("data-destroy",this.tableDestroyed.bind(this)),this.subscribe("data-processed",this.resetRanges.bind(this)),this.subscribe("table-layout",this.layoutElement.bind(this)),this.subscribe("table-redraw",this.redraw.bind(this)),this.subscribe("table-destroy",this.tableDestroyed.bind(this)),this.subscribe("edit-editor-clear",this.finishEditingCell.bind(this)),this.subscribe("edit-blur",this.restoreFocus.bind(this)),this.subscribe("keybinding-nav-prev",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-next",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-left",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-right",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-up",this.keyNavigate.bind(this,"up")),this.subscribe("keybinding-nav-down",this.keyNavigate.bind(this,"down")),this.subscribe("keybinding-nav-range",this.keyNavigateRange.bind(this))}initializeColumn(e){this.columnSelection&&e.definition.headerSort&&this.options("headerSortClickElement")!=="icon"&&console.warn("Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'."),e.modules.edit}updateHeaderColumn(){var e;this.rowSelection&&(this.rowHeader=this.table.columnManager.getVisibleColumnsByIndex()[0],this.rowHeader&&(this.rowHeader.definition.cssClass=this.rowHeader.definition.cssClass+" tabulator-range-row-header",this.rowHeader.definition.headerSort&&console.warn("Using column headerSort with selectableRangeRows option may result in unpredictable behavior"),this.rowHeader.definition.editor&&console.warn("Using column editor with selectableRangeRows option may result in unpredictable behavior"))),this.table.modules.frozenColumns&&this.table.modules.frozenColumns.active&&(e=this.table.modules.frozenColumns.getFrozenColumns(),(e.length>1||e.length===1&&e[0]!==this.rowHeader)&&console.warn("Using frozen columns that are not the range header in combination with the selectRange option may result in unpredictable behavior"))}getRanges(){return this.ranges.map(e=>e.getComponent())}getRangesData(){return this.ranges.map(e=>e.getData())}addRangeFromComponent(e,i){return e=e?e._cell:null,i=i?i._cell:null,this.addRange(e,i)}cellGetRanges(e){var i=[];return e.column===this.rowHeader?i=this.ranges.filter(l=>l.occupiesRow(e.row)):i=this.ranges.filter(l=>l.occupies(e)),i.map(l=>l.getComponent())}rowGetRanges(e){var i=this.ranges.filter(l=>l.occupiesRow(e));return i.map(l=>l.getComponent())}colGetRanges(e){var i=this.ranges.filter(l=>l.occupiesColumn(e));return i.map(l=>l.getComponent())}_handleMouseUp(e){this.mousedown=!1,document.removeEventListener("mouseup",this.mouseUpEvent)}_handleKeyDown(e){if(!this.blockKeydown&&(!this.table.modules.edit||this.table.modules.edit&&!this.table.modules.edit.currentCell)){if(e.key==="Enter"){if(this.table.modules.edit&&this.table.modules.edit.currentCell)return;this.table.modules.edit.editCell(this.getActiveCell()),e.preventDefault()}(e.key==="Backspace"||e.key==="Delete")&&this.options("selectableRangeClearCells")&&this.activeRange&&this.activeRange.clearValues()}}initializeFocus(e){var i;this.restoreFocus();try{document.selection?(i=document.body.createTextRange(),i.moveToElementText(e.getElement()),i.select()):window.getSelection&&(i=document.createRange(),i.selectNode(e.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(i))}catch{}}restoreFocus(e){return this.table.rowManager.element.focus(),!0}handleColumnResized(e){var i;this.selecting!=="column"&&this.selecting!=="all"||(i=this.ranges.some(l=>l.occupiesColumn(e)),i&&this.ranges.forEach(l=>{var a=l.getColumns(!0);a.forEach(o=>{o!==e&&o.setWidth(e.width)})}))}handleColumnMoving(e,i){this.resetRanges().setBounds(i),this.overlay.style.visibility="hidden"}handleColumnMoved(e,i,l){this.activeRange.setBounds(e),this.layoutElement()}handleColumnMouseDown(e,i){e.button===2&&(this.selecting==="column"||this.selecting==="all")&&this.activeRange.occupiesColumn(i)||this.table.options.movableColumns&&this.selecting==="column"&&this.activeRange.occupiesColumn(i)||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,i))}handleColumnMouseMove(e,i){i===this.rowHeader||!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,i,!0)}renderCell(e){var i=e.getElement(),l=this.ranges.findIndex(a=>a.occupies(e));i.classList.toggle("tabulator-range-selected",l!==-1),i.classList.toggle("tabulator-range-only-cell-selected",this.ranges.length===1&&this.ranges[0].atTopLeft(e)&&this.ranges[0].atBottomRight(e)),i.dataset.range=l}handleCellMouseDown(e,i){e.button===2&&(this.activeRange.occupies(i)||(this.selecting==="row"||this.selecting==="all")&&this.activeRange.occupiesRow(i.row))||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,i))}handleCellMouseMove(e,i){!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,i,!0)}handleCellClick(e,i){this.initializeFocus(i)}handleEditingCell(e){this.activeRange&&this.activeRange.setBounds(e)}finishEditingCell(){this.blockKeydown=!0,this.table.rowManager.element.focus(),setTimeout(()=>{this.blockKeydown=!1},10)}keyNavigate(e,i){this.navigate(!1,!1,e),i.preventDefault()}keyNavigateRange(e,i,l,a){this.navigate(l,a,i),e.preventDefault()}navigate(e,i,l){var a=!1,o,h,d,f,p,b,y,w,M,H,_;if(this.table.modules.edit&&this.table.modules.edit.currentCell)return!1;if(this.ranges.length>1&&(this.ranges=this.ranges.filter(F=>F===this.activeRange?(F.setEnd(F.start.row,F.start.col),!0):(F.destroy(),!1))),o=this.activeRange,d={top:o.top,bottom:o.bottom,left:o.left,right:o.right},h=i?o.end:o.start,f=h.row,p=h.col,e)switch(l){case"left":p=this.findJumpCellLeft(o.start.row,h.col);break;case"right":p=this.findJumpCellRight(o.start.row,h.col);break;case"up":f=this.findJumpCellUp(h.row,o.start.col);break;case"down":f=this.findJumpCellDown(h.row,o.start.col);break}else{if(i&&(this.selecting==="row"&&(l==="left"||l==="right")||this.selecting==="column"&&(l==="up"||l==="down")))return;switch(l){case"left":p=Math.max(p-1,0);break;case"right":p=Math.min(p+1,this.getTableColumns().length-1);break;case"up":f=Math.max(f-1,0);break;case"down":f=Math.min(f+1,this.getTableRows().length-1);break}}if(this.rowHeader&&p===0&&(p=1),i||o.setStart(f,p),o.setEnd(f,p),i||(this.selecting="cell"),a=d.top!==o.top||d.bottom!==o.bottom||d.left!==o.left||d.right!==o.right,a)return b=this.getRowByRangePos(o.end.row),y=this.getColumnByRangePos(o.end.col),w=b.getElement().getBoundingClientRect(),H=y.getElement().getBoundingClientRect(),M=this.table.rowManager.getElement().getBoundingClientRect(),_=this.table.columnManager.getElement().getBoundingClientRect(),w.top>=M.top&&w.bottom<=M.bottom||(b.getElement().parentNode&&y.getElement().parentNode?this.autoScroll(o,b.getElement(),y.getElement()):b.getComponent().scrollTo(void 0,!1)),H.left>=_.left+this.getRowHeaderWidth()&&H.right<=_.right||(b.getElement().parentNode&&y.getElement().parentNode?this.autoScroll(o,b.getElement(),y.getElement()):y.getComponent().scrollTo(void 0,!1)),this.layoutElement(),!0}rangeRemoved(e){this.ranges=this.ranges.filter(i=>i!==e),this.activeRange===e&&(this.ranges.length?this.activeRange=this.ranges[this.ranges.length-1]:this.addRange()),this.layoutElement()}findJumpRow(e,i,l,a,o){return l&&(i=i.reverse()),this.findJumpItem(a,o,i,function(h){return h.getData()[e.getField()]})}findJumpCol(e,i,l,a,o){return l&&(i=i.reverse()),this.findJumpItem(a,o,i,function(h){return e.getData()[h.getField()]})}findJumpItem(e,i,l,a){var o;for(let h of l){let d=a(h);if(e){if(o=h,d)break}else if(i){if(o=h,d)break}else if(d)o=h;else break}return o}findJumpCellLeft(e,i){var l=this.getRowByRangePos(e),a=this.getTableColumns(),o=this.isEmpty(l.getData()[a[i].getField()]),h=a[i-1]?this.isEmpty(l.getData()[a[i-1].getField()]):!1,d=this.rowHeader?a.slice(1,i):a.slice(0,i),f=this.findJumpCol(l,d,!0,o,h);return f?f.getPosition()-1:i}findJumpCellRight(e,i){var l=this.getRowByRangePos(e),a=this.getTableColumns(),o=this.isEmpty(l.getData()[a[i].getField()]),h=a[i+1]?this.isEmpty(l.getData()[a[i+1].getField()]):!1,d=this.findJumpCol(l,a.slice(i+1,a.length),!1,o,h);return d?d.getPosition()-1:i}findJumpCellUp(e,i){var l=this.getColumnByRangePos(i),a=this.getTableRows(),o=this.isEmpty(a[e].getData()[l.getField()]),h=a[e-1]?this.isEmpty(a[e-1].getData()[l.getField()]):!1,d=this.findJumpRow(l,a.slice(0,e),!0,o,h);return d?d.position-1:e}findJumpCellDown(e,i){var l=this.getColumnByRangePos(i),a=this.getTableRows(),o=this.isEmpty(a[e].getData()[l.getField()]),h=a[e+1]?this.isEmpty(a[e+1].getData()[l.getField()]):!1,d=this.findJumpRow(l,a.slice(e+1,a.length),!1,o,h);return d?d.position-1:e}newSelection(e,i){var l;if(i.type==="column"){if(!this.columnSelection)return;if(i===this.rowHeader){l=this.resetRanges(),this.selecting="all";var a,o=this.getCell(-1,-1);this.rowHeader?a=this.getCell(0,1):a=this.getCell(0,0),l.setBounds(a,o);return}else this.selecting="column"}else i.column===this.rowHeader?this.selecting="row":this.selecting="cell";e.shiftKey?this.activeRange.setBounds(!1,i):e.ctrlKey?this.addRange().setBounds(i):this.resetRanges().setBounds(i)}autoScroll(e,i,l){var a=this.table.rowManager.element,o,h,d,f;typeof i>"u"&&(i=this.getRowByRangePos(e.end.row).getElement()),typeof l>"u"&&(l=this.getColumnByRangePos(e.end.col).getElement()),o={left:l.offsetLeft,right:l.offsetLeft+l.offsetWidth,top:i.offsetTop,bottom:i.offsetTop+i.offsetHeight},h={left:a.scrollLeft+this.getRowHeaderWidth(),right:Math.ceil(a.scrollLeft+a.clientWidth),top:a.scrollTop,bottom:a.scrollTop+a.offsetHeight-this.table.rowManager.scrollbarWidth},d=h.left<o.left&&o.left<h.right&&h.left<o.right&&o.right<h.right,f=h.top<o.top&&o.top<h.bottom&&h.top<o.bottom&&o.bottom<h.bottom,d||(o.left<h.left?a.scrollLeft=o.left-this.getRowHeaderWidth():o.right>h.right&&(a.scrollLeft=Math.min(o.right-a.clientWidth,o.left-this.getRowHeaderWidth()))),f||(o.top<h.top?a.scrollTop=o.top:o.bottom>h.bottom&&(a.scrollTop=o.bottom-a.clientHeight))}layoutChange(){this.overlay.style.visibility="hidden",clearTimeout(this.layoutChangeTimeout),this.layoutChangeTimeout=setTimeout(this.layoutRanges.bind(this),200)}redraw(e){e&&(this.selecting="cell",this.resetRanges(),this.layoutElement())}layoutElement(e){var i;e?i=this.table.rowManager.getVisibleRows(!0):i=this.table.rowManager.getRows(),i.forEach(l=>{l.type==="row"&&(this.layoutRow(l),l.cells.forEach(a=>this.renderCell(a)))}),this.getTableColumns().forEach(l=>{this.layoutColumn(l)}),this.layoutRanges()}layoutRow(e){var i=e.getElement(),l=!1,a=this.ranges.some(o=>o.occupiesRow(e));this.selecting==="row"?l=a:this.selecting==="all"&&(l=!0),i.classList.toggle("tabulator-range-selected",l),i.classList.toggle("tabulator-range-highlight",a)}layoutColumn(e){var i=e.getElement(),l=!1,a=this.ranges.some(o=>o.occupiesColumn(e));this.selecting==="column"?l=a:this.selecting==="all"&&(l=!0),i.classList.toggle("tabulator-range-selected",l),i.classList.toggle("tabulator-range-highlight",a)}layoutRanges(){var e,i,l;this.table.initialized&&(e=this.getActiveCell(),e&&(i=e.getElement(),l=e.row.getElement(),this.table.rtl?this.activeRangeCellElement.style.right=l.offsetWidth-i.offsetLeft-i.offsetWidth+"px":this.activeRangeCellElement.style.left=l.offsetLeft+i.offsetLeft+"px",this.activeRangeCellElement.style.top=l.offsetTop+"px",this.activeRangeCellElement.style.width=i.offsetWidth+"px",this.activeRangeCellElement.style.height=l.offsetHeight+"px",this.ranges.forEach(a=>a.layout()),this.overlay.style.visibility="visible"))}getCell(e,i){var l;return i<0&&(i=this.getTableColumns().length+i,i<0)?null:(e<0&&(e=this.getTableRows().length+e),l=this.table.rowManager.getRowFromPosition(e+1),l?l.getCells(!1,!0).filter(a=>a.column.visible)[i]:null)}getActiveCell(){return this.getCell(this.activeRange.start.row,this.activeRange.start.col)}getRowByRangePos(e){return this.getTableRows()[e]}getColumnByRangePos(e){return this.getTableColumns()[e]}getTableRows(){return this.table.rowManager.getDisplayRows().filter(e=>e.type==="row")}getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}addRange(e,i){var l;return this.maxRanges!==!0&&this.ranges.length>=this.maxRanges&&this.ranges.shift().destroy(),l=new ov(this.table,this,e,i),this.activeRange=l,this.ranges.push(l),this.rangeContainer.appendChild(l.element),l}resetRanges(){var e,i,l;return this.ranges.forEach(a=>a.destroy()),this.ranges=[],e=this.addRange(),this.table.rowManager.activeRows.length&&(l=this.table.rowManager.activeRows[0].cells.filter(a=>a.column.visible),i=l[this.rowHeader?1:0],i&&(e.setBounds(i),this.options("selectableRangeAutoFocus")&&this.initializeFocus(i))),e}tableDestroyed(){document.removeEventListener("mouseup",this.mouseUpEvent),this.table.rowManager.element.removeEventListener("keydown",this.keyDownEvent)}selectedRows(e){return e?this.activeRange.getRows().map(i=>i.getComponent()):this.activeRange.getRows()}selectedColumns(e){return e?this.activeRange.getColumns().map(i=>i.getComponent()):this.activeRange.getColumns()}getRowHeaderWidth(){return this.rowHeader?this.rowHeader.getElement().offsetWidth:0}isEmpty(e){return e==null||e===""}}V(fa,"moduleName","selectRange"),V(fa,"moduleInitOrder",1),V(fa,"moduleExtensions",mv);function gv(m,e,i,l,a,o,h){var d=h.alignEmptyValues,f=h.decimalSeparator,p=h.thousandSeparator,b=0;if(m=String(m),e=String(e),p&&(m=m.split(p).join(""),e=e.split(p).join("")),f&&(m=m.split(f).join("."),e=e.split(f).join(".")),m=parseFloat(m),e=parseFloat(e),isNaN(m))b=isNaN(e)?0:-1;else if(isNaN(e))b=1;else return m-e;return(d==="top"&&o==="desc"||d==="bottom"&&o==="asc")&&(b*=-1),b}function bv(m,e,i,l,a,o,h){var d=h.alignEmptyValues,f=0,p;if(!m)f=e?-1:0;else if(!e)f=1;else{switch(typeof h.locale){case"boolean":h.locale&&(p=this.langLocale());break;case"string":p=h.locale;break}return String(m).toLowerCase().localeCompare(String(e).toLowerCase(),p)}return(d==="top"&&o==="desc"||d==="bottom"&&o==="asc")&&(f*=-1),f}function gu(m,e,i,l,a,o,h){var d=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),f=h.format||"dd/MM/yyyy HH:mm:ss",p=h.alignEmptyValues,b=0;if(typeof d<"u"){if(d.isDateTime(m)||(f==="iso"?m=d.fromISO(String(m)):m=d.fromFormat(String(m),f)),d.isDateTime(e)||(f==="iso"?e=d.fromISO(String(e)):e=d.fromFormat(String(e),f)),!m.isValid)b=e.isValid?-1:0;else if(!e.isValid)b=1;else return m-e;return(p==="top"&&o==="desc"||p==="bottom"&&o==="asc")&&(b*=-1),b}else console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}function vv(m,e,i,l,a,o,h){return h.format||(h.format="dd/MM/yyyy"),gu.call(this,m,e,i,l,a,o,h)}function yv(m,e,i,l,a,o,h){return h.format||(h.format="HH:mm"),gu.call(this,m,e,i,l,a,o,h)}function wv(m,e,i,l,a,o,h){var d=m===!0||m==="true"||m==="True"||m===1?1:0,f=e===!0||e==="true"||e==="True"||e===1?1:0;return d-f}function Cv(m,e,i,l,a,o,h){var d=h.type||"length",f=h.alignEmptyValues,p=0,b=this.table,y;h.valueMap&&(typeof h.valueMap=="string"?y=function(M){return M.map(H=>Ee.retrieveNestedData(b.options.nestedFieldSeparator,h.valueMap,H))}:y=h.valueMap);function w(M){var H;switch(y&&(M=y(M)),d){case"length":H=M.length;break;case"sum":H=M.reduce(function(_,F){return _+F});break;case"max":H=Math.max.apply(null,M);break;case"min":H=Math.min.apply(null,M);break;case"avg":H=M.reduce(function(_,F){return _+F})/M.length;break;case"string":H=M.join("");break}return H}if(!Array.isArray(m))p=Array.isArray(e)?-1:0;else if(!Array.isArray(e))p=1;else return d==="string"?String(w(m)).toLowerCase().localeCompare(String(w(e)).toLowerCase()):w(e)-w(m);return(f==="top"&&o==="desc"||f==="bottom"&&o==="asc")&&(p*=-1),p}function Ev(m,e,i,l,a,o,h){var d=typeof m>"u"?0:1,f=typeof e>"u"?0:1;return d-f}function Rv(m,e,i,l,a,o,h){var d,f,p,b,y=0,w,M=/(\d+)|(\D+)/g,H=/\d/,_=h.alignEmptyValues,F=0;if(!m&&m!==0)F=!e&&e!==0?0:-1;else if(!e&&e!==0)F=1;else{if(isFinite(m)&&isFinite(e))return m-e;if(d=String(m).toLowerCase(),f=String(e).toLowerCase(),d===f)return 0;if(!(H.test(d)&&H.test(f)))return d>f?1:-1;for(d=d.match(M),f=f.match(M),w=d.length>f.length?f.length:d.length;y<w;)if(p=d[y],b=f[y++],p!==b)return isFinite(p)&&isFinite(b)?(p.charAt(0)==="0"&&(p="."+p),b.charAt(0)==="0"&&(b="."+b),p-b):p>b?1:-1;return d.length>f.length}return(_==="top"&&o==="desc"||_==="bottom"&&o==="asc")&&(F*=-1),F}var Tv={number:gv,string:bv,date:vv,time:yv,datetime:gu,boolean:wv,array:Cv,exists:Ev,alphanum:Rv};const Ii=class Ii extends ie{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),this.table.options.sortMode==="remote"&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,i,l,a){var o=this.getSort();return o.forEach(h=>{delete h.column}),a.sort=o,a}userSetSort(e,i){this.setSort(e,i),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var i=!1,l,a;switch(typeof e.definition.sorter){case"string":Ii.sorters[e.definition.sorter]?i=Ii.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":i=e.definition.sorter;break}if(e.modules.sort={sorter:i,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},e.definition.headerSort!==!1){switch(l=e.getElement(),l.classList.add("tabulator-sortable"),a=document.createElement("div"),a.classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement){case"icon":a.classList.add("tabulator-col-sorter-element");break;case"header":l.classList.add("tabulator-col-sorter-element");break;default:l.classList.add("tabulator-col-sorter-element");break}switch(this.table.options.headerSortElement){case"function":break;case"object":a.appendChild(this.table.options.headerSortElement);break;default:a.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(a),e.modules.sort.element=a,this.setColumnHeaderSortIcon(e,"none"),this.table.options.headerSortClickElement==="icon"&&a.addEventListener("mousedown",o=>{o.stopPropagation()}),(this.table.options.headerSortClickElement==="icon"?a:l).addEventListener("click",o=>{var h="",d=[],f=!1;if(e.modules.sort){if(e.modules.sort.tristate)e.modules.sort.dir=="none"?h=e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?h=e.modules.sort.dir=="asc"?"desc":"asc":h="none";else switch(e.modules.sort.dir){case"asc":h="desc";break;case"desc":h="asc";break;default:h=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(o.shiftKey||o.ctrlKey)?(d=this.getSort(),f=d.findIndex(p=>p.field===e.getField()),f>-1?(d[f].dir=h,f=d.splice(f,1)[0],h!="none"&&d.push(f)):h!="none"&&d.push({column:e,dir:h}),this.setSort(d)):h=="none"?this.clear():this.setSort(e,h),this.refreshSort()}})}}refreshSort(){this.table.options.sortMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var e=this,i=[];return e.sortList.forEach(function(l){l.column&&i.push({column:l.column.getComponent(),field:l.column.getField(),dir:l.dir})}),i}setSort(e,i){var l=this,a=[];Array.isArray(e)||(e=[{column:e,dir:i}]),e.forEach(function(o){var h;h=l.table.columnManager.findColumn(o.column),h?(o.column=h,a.push(o),l.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",o.column)}),l.sortList=a,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var i=this.table.rowManager.activeRows[0],l="string",a,o;if(i&&(i=i.getData(),a=e.getField(),a))switch(o=e.getFieldValue(i),typeof o){case"undefined":l="string";break;case"boolean":l="boolean";break;default:!isNaN(o)&&o!==""?l="number":o.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(l="alphanum");break}return Ii.sorters[l]}sort(e,i){var l=this,a=this.table.options.sortOrderReverse?l.sortList.slice().reverse():l.sortList,o=[],h=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",l.getSort()),i||l.clearColumnHeaders(),this.table.options.sortMode!=="remote"?(a.forEach(function(d,f){var p;d.column&&(p=d.column.modules.sort,p&&(p.sorter||(p.sorter=l.findSorter(d.column)),d.params=typeof p.params=="function"?p.params(d.column.getComponent(),d.dir):p.params,o.push(d)),i||l.setColumnHeader(d.column,d.dir))}),o.length&&l._sortItems(e,o)):i||a.forEach(function(d,f){l.setColumnHeader(d.column,d.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(d=>{h.push(d.getComponent())}),this.dispatchExternal("dataSorted",l.getSort(),h)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))})}setColumnHeader(e,i){e.modules.sort.dir=i,e.getElement().setAttribute("aria-sort",i==="asc"?"ascending":"descending"),this.setColumnHeaderSortIcon(e,i)}setColumnHeaderSortIcon(e,i){var l=e.modules.sort.element,a;if(e.definition.headerSort&&typeof this.table.options.headerSortElement=="function"){for(;l.firstChild;)l.removeChild(l.firstChild);a=this.table.options.headerSortElement.call(this.table,e.getComponent(),i),typeof a=="object"?l.appendChild(a):l.innerHTML=a}}_sortItems(e,i){var l=i.length-1;e.sort((a,o)=>{for(var h,d=l;d>=0;d--){let f=i[d];if(h=this._sortRow(a,o,f.column,f.dir,f.params),h!==0)break}return h})}_sortRow(e,i,l,a,o){var h,d,f=a=="asc"?e:i,p=a=="asc"?i:e;return e=l.getFieldValue(f.getData()),i=l.getFieldValue(p.getData()),e=typeof e<"u"?e:"",i=typeof i<"u"?i:"",h=f.getComponent(),d=p.getComponent(),l.modules.sort.sorter.call(this,e,i,h,d,l.getComponent(),a,o)}};V(Ii,"moduleName","sort"),V(Ii,"sorters",Tv);let ou=Ii;class Sv{constructor(e,i){this.columnCount=e,this.rowCount=i,this.columnString=[],this.columns=[],this.rows=[]}genColumns(e){var i=Math.max(this.columnCount,Math.max(...e.map(l=>l.length)));this.columnString=[],this.columns=[];for(let l=1;l<=i;l++)this.incrementChar(this.columnString.length-1),this.columns.push(this.columnString.join(""));return this.columns}genRows(e){var i=Math.max(this.rowCount,e.length);this.rows=[];for(let l=1;l<=i;l++)this.rows.push(l);return this.rows}incrementChar(e){let i=this.columnString[e];i?i!=="Z"?this.columnString[e]=String.fromCharCode(this.columnString[e].charCodeAt(0)+1):(this.columnString[e]="A",e?this.incrementChar(e-1):this.columnString.push("A")):this.columnString.push("A")}setRowCount(e){this.rowCount=e}setColumnCount(e){this.columnCount=e}}class Wf{constructor(e){return this._sheet=e,new Proxy(this,{get:function(i,l,a){return typeof i[l]<"u"?i[l]:i._sheet.table.componentFunctionBinder.handle("sheet",i._sheet,l)}})}getTitle(){return this._sheet.title}getKey(){return this._sheet.key}getDefinition(){return this._sheet.getDefinition()}getData(){return this._sheet.getData()}setData(e){return this._sheet.setData(e)}clear(){return this._sheet.clear()}remove(){return this._sheet.remove()}active(){return this._sheet.active()}setTitle(e){return this._sheet.setTitle(e)}setRows(e){return this._sheet.setRows(e)}setColumns(e){return this._sheet.setColumns(e)}}class Cf extends Pe{constructor(e,i){super(e.table),this.spreadsheetManager=e,this.definition=i,this.title=this.definition.title||"",this.key=this.definition.key||this.definition.title,this.rowCount=this.definition.rows,this.columnCount=this.definition.columns,this.data=this.definition.data||[],this.element=null,this.isActive=!1,this.grid=new Sv(this.columnCount,this.rowCount),this.defaultColumnDefinition={width:100,headerHozAlign:"center",headerSort:!1},this.columnDefinition=Object.assign(this.defaultColumnDefinition,this.options("spreadsheetColumnDefinition")),this.columnDefs=[],this.rowDefs=[],this.columnFields=[],this.columns=[],this.rows=[],this.scrollTop=null,this.scrollLeft=null,this.initialize(),this.dispatchExternal("sheetAdded",this.getComponent())}initialize(){this.initializeElement(),this.initializeColumns(),this.initializeRows()}reinitialize(){this.initializeColumns(),this.initializeRows()}initializeElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tab"),this.element.innerText=this.title,this.element.addEventListener("click",()=>{this.spreadsheetManager.loadSheet(this)})}initializeColumns(){this.grid.setColumnCount(this.columnCount),this.columnFields=this.grid.genColumns(this.data),this.columnDefs=[],this.columnFields.forEach(e=>{var i=Object.assign({},this.columnDefinition);i.field=e,i.title=e,this.columnDefs.push(i)})}initializeRows(){var e;this.grid.setRowCount(this.rowCount),e=this.grid.genRows(this.data),this.rowDefs=[],e.forEach((i,l)=>{var a={_id:i},o=this.data[l];o&&o.forEach((h,d)=>{var f=this.columnFields[d];f&&(a[f]=h)}),this.rowDefs.push(a)})}unload(){this.isActive=!1,this.scrollTop=this.table.rowManager.scrollTop,this.scrollLeft=this.table.rowManager.scrollLeft,this.data=this.getData(!0),this.element.classList.remove("tabulator-spreadsheet-tab-active")}load(){var e=!this.isActive;this.isActive=!0,this.table.blockRedraw(),this.table.setData([]),this.table.setColumns(this.columnDefs),this.table.setData(this.rowDefs),this.table.restoreRedraw(),e&&this.scrollTop!==null&&(this.table.rowManager.element.scrollLeft=this.scrollLeft,this.table.rowManager.element.scrollTop=this.scrollTop),this.element.classList.add("tabulator-spreadsheet-tab-active"),this.dispatchExternal("sheetLoaded",this.getComponent())}getComponent(){return new Wf(this)}getDefinition(){return{title:this.title,key:this.key,rows:this.rowCount,columns:this.columnCount,data:this.getData()}}getData(e){var i=[],l,a,o;return this.rowDefs.forEach(h=>{var d=[];this.columnFields.forEach(f=>{d.push(h[f])}),i.push(d)}),!e&&!this.options("spreadsheetOutputFull")&&(l=i.map(h=>h.findLastIndex(d=>typeof d<"u")+1),a=Math.max(...l),o=l.findLastIndex(h=>h>0)+1,i=i.slice(0,o),i=i.map(h=>h.slice(0,a))),i}setData(e){this.data=e,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}clear(){this.setData([])}setTitle(e){this.title=e,this.element.innerText=e,this.dispatchExternal("sheetUpdated",this.getComponent())}setRows(e){this.rowCount=e,this.initializeRows(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}setColumns(e){this.columnCount=e,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}remove(){this.spreadsheetManager.removeSheet(this)}destroy(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.dispatchExternal("sheetRemoved",this.getComponent())}active(){this.spreadsheetManager.loadSheet(this)}}class qf extends ie{constructor(e){super(e),this.sheets=[],this.element=null,this.registerTableOption("spreadsheet",!1),this.registerTableOption("spreadsheetRows",50),this.registerTableOption("spreadsheetColumns",50),this.registerTableOption("spreadsheetColumnDefinition",{}),this.registerTableOption("spreadsheetOutputFull",!1),this.registerTableOption("spreadsheetData",!1),this.registerTableOption("spreadsheetSheets",!1),this.registerTableOption("spreadsheetSheetTabs",!1),this.registerTableOption("spreadsheetSheetTabsElement",!1),this.registerTableFunction("setSheets",this.setSheets.bind(this)),this.registerTableFunction("addSheet",this.addSheet.bind(this)),this.registerTableFunction("getSheets",this.getSheets.bind(this)),this.registerTableFunction("getSheetDefinitions",this.getSheetDefinitions.bind(this)),this.registerTableFunction("setSheetData",this.setSheetData.bind(this)),this.registerTableFunction("getSheet",this.getSheet.bind(this)),this.registerTableFunction("getSheetData",this.getSheetData.bind(this)),this.registerTableFunction("clearSheet",this.clearSheet.bind(this)),this.registerTableFunction("removeSheet",this.removeSheetFunc.bind(this)),this.registerTableFunction("activeSheet",this.activeSheetFunc.bind(this))}initialize(){this.options("spreadsheet")&&(this.subscribe("table-initialized",this.tableInitialized.bind(this)),this.subscribe("data-loaded",this.loadRemoteData.bind(this)),this.table.options.index="_id",this.options("spreadsheetData")&&this.options("spreadsheetSheets")&&(console.warn("You cannot use spreadsheetData and spreadsheetSheets at the same time, ignoring spreadsheetData"),this.table.options.spreadsheetData=!1),this.compatibilityCheck(),this.options("spreadsheetSheetTabs")&&this.initializeTabset())}compatibilityCheck(){this.options("data")&&console.warn("Do not use the data option when working with spreadsheets, use either spreadsheetData or spreadsheetSheets to pass data into the table"),this.options("pagination")&&console.warn("The spreadsheet module is not compatible with the pagination module"),this.options("groupBy")&&console.warn("The spreadsheet module is not compatible with the row grouping module"),this.options("responsiveCollapse")&&console.warn("The spreadsheet module is not compatible with the responsive collapse module")}initializeTabset(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tabs");var e=this.options("spreadsheetSheetTabsElement");e&&!(e instanceof HTMLElement)&&(e=document.querySelector(e),e||console.warn("Unable to find element matching spreadsheetSheetTabsElement selector:",this.options("spreadsheetSheetTabsElement"))),e?e.appendChild(this.element):this.footerAppend(this.element)}tableInitialized(){this.sheets.length?this.loadSheet(this.sheets[0]):this.options("spreadsheetSheets")?this.loadSheets(this.options("spreadsheetSheets")):this.options("spreadsheetData")&&this.loadData(this.options("spreadsheetData"))}loadRemoteData(e,i,l){return console.log("data",e,i,l),Array.isArray(e)?(this.table.dataLoader.clearAlert(),this.dispatchExternal("dataLoaded",e),!e.length||Array.isArray(e[0])?this.loadData(e):this.loadSheets(e)):console.error(`Spreadsheet Loading Error - Unable to process remote data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e),!1}loadData(e){var i={data:e};this.loadSheet(this.newSheet(i))}destroySheets(){this.sheets.forEach(e=>{e.destroy()}),this.sheets=[],this.activeSheet=null}loadSheets(e){Array.isArray(e)||(e=[]),this.destroySheets(),e.forEach(i=>{this.newSheet(i)}),this.loadSheet(this.sheets[0])}loadSheet(e){this.activeSheet!==e&&(this.activeSheet&&this.activeSheet.unload(),this.activeSheet=e,e.load())}newSheet(e={}){var i;return e.rows||(e.rows=this.options("spreadsheetRows")),e.columns||(e.columns=this.options("spreadsheetColumns")),i=new Cf(this,e),this.sheets.push(i),this.element&&this.element.appendChild(i.element),i}removeSheet(e){var i=this.sheets.indexOf(e),l;this.sheets.length>1?i>-1&&(this.sheets.splice(i,1),e.destroy(),this.activeSheet===e&&(l=this.sheets[i-1]||this.sheets[0],l?this.loadSheet(l):this.activeSheet=null)):console.warn("Unable to remove sheet, at least one sheet must be active")}lookupSheet(e){return e?e instanceof Cf?e:e instanceof Wf?e._sheet:this.sheets.find(i=>i.key===e)||!1:this.activeSheet}setSheets(e){return this.loadSheets(e),this.getSheets()}addSheet(e){return this.newSheet(e).getComponent()}getSheetDefinitions(){return this.sheets.map(e=>e.getDefinition())}getSheets(){return this.sheets.map(e=>e.getComponent())}getSheet(e){var i=this.lookupSheet(e);return i?i.getComponent():!1}setSheetData(e,i){e&&!i&&(i=e,e=!1);var l=this.lookupSheet(e);return l?l.setData(i):!1}getSheetData(e){var i=this.lookupSheet(e);return i?i.getData():!1}clearSheet(e){var i=this.lookupSheet(e);return i?i.clear():!1}removeSheetFunc(e){var i=this.lookupSheet(e);i&&this.removeSheet(i)}activeSheetFunc(e){var i=this.lookupSheet(e);return i?this.loadSheet(i):!1}}V(qf,"moduleName","spreadsheet");class Yf extends ie{constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,i,l){var a=e==="tooltip"?l.column.definition.tooltip:l.definition.headerTooltip;a&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,i,l,a),this.table.options.tooltipDelay))}mouseoutCheck(e,i,l){this.popupInstance||this.clearPopup()}clearPopup(e,i,l){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,i,l){var a,o,h;function d(f){o=f}typeof l=="function"&&(l=l(e,i.getComponent(),d)),l instanceof HTMLElement?a=l:(a=document.createElement("div"),l===!0&&(i instanceof Kl?l=i.value:i.definition.field?this.langBind("columns|"+i.definition.field,f=>{a.innerHTML=l=f||i.definition.title}):l=i.definition.title),a.innerHTML=l),(l||l===0||l===!1)&&(a.classList.add("tabulator-tooltip"),a.addEventListener("mousemove",f=>f.preventDefault()),this.popupInstance=this.popup(a),typeof o=="function"&&this.popupInstance.renderCallback(o),h=this.popupInstance.containerEventCoords(e),this.popupInstance.show(h.x+15,h.y+15).hideOnBlur(()=>{this.dispatchExternal("TooltipClosed",i.getComponent()),this.popupInstance=null}),this.dispatchExternal("TooltipOpened",i.getComponent()))}}V(Yf,"moduleName","tooltip");var Mv={integer:function(m,e,i){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&Math.floor(e)===e)},float:function(m,e,i){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&e%1!==0)},numeric:function(m,e,i){return e===""||e===null||typeof e>"u"?!0:!isNaN(e)},string:function(m,e,i){return e===""||e===null||typeof e>"u"?!0:isNaN(e)},alphanumeric:function(m,e,i){if(e===""||e===null||typeof e>"u")return!0;var l=new RegExp(/^[a-z0-9]+$/i);return l.test(e)},max:function(m,e,i){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)<=i},min:function(m,e,i){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)>=i},starts:function(m,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().startsWith(String(i).toLowerCase())},ends:function(m,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().endsWith(String(i).toLowerCase())},minLength:function(m,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).length>=i},maxLength:function(m,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).length<=i},in:function(m,e,i){return e===""||e===null||typeof e>"u"?!0:(typeof i=="string"&&(i=i.split("|")),i.indexOf(e)>-1)},regex:function(m,e,i){if(e===""||e===null||typeof e>"u")return!0;var l=new RegExp(i);return l.test(e)},unique:function(m,e,i){if(e===""||e===null||typeof e>"u")return!0;var l=!0,a=m.getData(),o=m.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(h){var d=h.getData();d!==a&&e==o.getFieldValue(d)&&(l=!1)}),l},required:function(m,e,i){return e!==""&&e!==null&&typeof e<"u"}};const Ql=class Ql extends ie{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,i,l){var a=this.table.options.validationMode!=="manual"?this.validate(e.column.modules.validate,e,i):!0;return a!==!0&&setTimeout(()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),i,a)}),a}editorClear(e,i){i&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var i=[];return e.cells.forEach(l=>{this.cellValidate(l)!==!0&&i.push(l.getComponent())}),i.length?i:!0}rowValidate(e){var i=[];return e.cells.forEach(l=>{this.cellValidate(l)!==!0&&i.push(l.getComponent())}),i.length?i:!0}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(i=>{this.clearValidation(i._getSelf())})}userValidate(e){var i=[];return this.table.rowManager.rows.forEach(l=>{l=l.getComponent();var a=l.validate();a!==!0&&(i=i.concat(a))}),i.length?i:!0}initializeColumnCheck(e){typeof e.definition.validator<"u"&&this.initializeColumn(e)}initializeColumn(e){var i=this,l=[],a;e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(o=>{a=i._extractValidator(o),a&&l.push(a)}):(a=this._extractValidator(e.definition.validator),a&&l.push(a)),e.modules.validate=l.length?l:!1)}_extractValidator(e){var i,l,a;switch(typeof e){case"string":return a=e.indexOf(":"),a>-1?(i=e.substring(0,a),l=e.substring(a+1)):i=e,this._buildValidator(i,l);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,i){var l=typeof e=="function"?e:Ql.validators[e];return l?{type:typeof e=="function"?"function":e,func:l,params:i}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,i,l){var a=this,o=[],h=this.invalidCells.indexOf(i);return e&&e.forEach(d=>{d.func.call(a,i.getComponent(),l,d.params)||o.push({type:d.type,parameters:d.params})}),i.modules.validate||(i.modules.validate={}),o.length?(i.modules.validate.invalid=o,this.table.options.validationMode!=="manual"&&i.getElement().classList.add("tabulator-validation-fail"),h==-1&&this.invalidCells.push(i)):(i.modules.validate.invalid=!1,i.getElement().classList.remove("tabulator-validation-fail"),h>-1&&this.invalidCells.splice(h,1)),o.length?o:!0}getInvalidCells(){var e=[];return this.invalidCells.forEach(i=>{e.push(i.getComponent())}),e}clearValidation(e){var i;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,i=this.invalidCells.indexOf(e),i>-1&&this.invalidCells.splice(i,1))}};V(Ql,"moduleName","validate"),V(Ql,"validators",Mv);let uu=Ql;var Uo=Object.freeze({__proto__:null,AccessorModule:jo,AjaxModule:qo,ClipboardModule:Yo,ColumnCalcsModule:Xo,DataTreeModule:Lf,DownloadModule:Qo,EditModule:Zo,ExportModule:Ko,FilterModule:Jo,FormatModule:Io,FrozenColumnsModule:Af,FrozenRowsModule:Hf,GroupRowsModule:kf,HistoryModule:$o,HtmlTableImportModule:Of,ImportModule:eu,InteractionModule:_f,KeybindingsModule:tu,MenuModule:Bf,MoveColumnsModule:Nf,MoveRowsModule:iu,MutatorModule:su,PageModule:lu,PersistenceModule:nu,PopupModule:Ff,PrintModule:Vf,ReactiveDataModule:Uf,ResizeColumnsModule:Gf,ResizeRowsModule:jf,ResizeTableModule:Pf,ResponsiveLayoutModule:au,SelectRangeModule:fa,SelectRowModule:ru,SortModule:ou,SpreadsheetModule:qf,TooltipModule:Yf,ValidateModule:uu}),xv={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},rowHeader:!1,data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{},dependencies:{}};class Xf{constructor(e,i,l={}){this.table=e,this.msgType=i,this.registeredDefaults=Object.assign({},l)}register(e,i){this.registeredDefaults[e]=i}generate(e,i={}){var l=Object.assign({},this.registeredDefaults),a=this.table.options.debugInvalidOptions||i.debugInvalidOptions===!0;Object.assign(l,e);for(let o in i)l.hasOwnProperty(o)||(a&&console.warn("Invalid "+this.msgType+" option:",o),l[o]=i.key);for(let o in l)o in i?l[o]=i[o]:Array.isArray(l[o])?l[o]=Object.assign([],l[o]):typeof l[o]=="object"&&l[o]!==null?l[o]=Object.assign({},l[o]):typeof l[o]>"u"&&delete l[o];return l}}class ga extends Pe{constructor(e){super(e),this.elementVertical=e.rowManager.element,this.elementHorizontal=e.columnManager.element,this.tableElement=e.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(e){}renderRows(){}renderColumns(){}rerenderRows(e){e&&e()}rerenderColumns(e,i){}renderRowCells(e){}rerenderRowCells(e,i){}scrollColumns(e,i){}scrollRows(e,i){}resize(){}scrollToRow(e){}scrollToRowNearestTop(e){}visibleRows(e){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(e,i){var l=e.getElement();i%2?(l.classList.add("tabulator-row-even"),l.classList.remove("tabulator-row-odd")):(l.classList.add("tabulator-row-odd"),l.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(e){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(e,i,l){var a=this.rows().indexOf(e),o=e.getElement(),h=0;return new Promise((d,f)=>{if(a>-1){if(typeof l>"u"&&(l=this.table.options.scrollToRowIfVisible),!l&&Ee.elVisible(o)&&(h=Ee.elOffset(o).top-Ee.elOffset(this.elementVertical).top,h>0&&h<this.elementVertical.clientHeight-o.offsetHeight))return d(),!1;switch(typeof i>"u"&&(i=this.table.options.scrollToRowPosition),i==="nearest"&&(i=this.scrollToRowNearestTop(e)?"top":"bottom"),this.scrollToRow(e),i){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(o.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-o.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-o.offsetTop)+o.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+o.offsetHeight;break;case"top":this.elementVertical.scrollTop=o.offsetTop;break}d()}else console.warn("Scroll Error - Row not visible"),f("Scroll Error - Row not visible")})}}class Dv extends ga{constructor(e){super(e)}renderRowCells(e,i){const l=document.createDocumentFragment();e.cells.forEach(a=>{l.appendChild(a.getElement())}),e.element.appendChild(l),i||e.cells.forEach(a=>{a.cellRendered()})}reinitializeColumnWidths(e){e.forEach(function(i){i.reinitializeWidth()})}}class zv extends ga{constructor(e){super(e),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){this.options("layout")=="fitDataTable"&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(e,i){this.dataChange()}scrollColumns(e,i){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var e=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(i=>{if(i.visible){var l=i.getWidth();l>e&&(e=l)}}),this.windowBuffer=e*2}rerenderColumns(e,i){var l={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},a=0;e&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach(o=>{var h={},d;o.visible&&(o.modules.frozen||(d=o.getWidth(),h.leftPos=a,h.rightPos=a+d,h.width=d,this.isFitData&&(h.fitDataCheck=o.modules.vdomHoz?o.modules.vdomHoz.fitDataCheck:!0),a+d>this.vDomScrollPosLeft&&a<this.vDomScrollPosRight?(this.leftCol==-1&&(this.leftCol=this.columns.length,this.vDomPadLeft=a),this.rightCol=this.columns.length):this.leftCol!==-1&&(this.vDomPadRight+=d),this.columns.push(o),o.modules.vdomHoz=h,a+=d))}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,i||(!e||this.reinitChanged(l))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(e){if(this.initialized)this.initializeRow(e);else{const i=document.createDocumentFragment();e.cells.forEach(l=>{i.appendChild(l.getElement())}),e.element.appendChild(i),e.cells.forEach(l=>{l.cellRendered()})}}rerenderRowCells(e,i){this.reinitializeRow(e,i)}reinitializeColumnWidths(e){for(let i=this.leftCol;i<=this.rightCol;i++){let l=this.columns[i];l&&l.reinitializeWidth()}}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e=!1,i,l;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach(a=>{!a.definition.width&&a.visible&&(e=!0)}),e&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,i=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows())[0],i)){l=i.getElement(),i.generateCells(),this.tableElement.appendChild(l);for(let a=0;a<i.cells.length;a++){let o=i.cells[a];l.appendChild(o.getElement()),o.column.reinitializeWidth()}l.parentNode.removeChild(l),this.rerenderColumns(!1,!0)}}else this.options("layout")==="fitColumns"&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(e){var i=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol?!0:(e.cols.forEach((l,a)=>{l!==this.columns[a]&&(i=!1)}),!i)}reinitializeRows(){var e=this.getVisibleRows(),i=this.table.rowManager.getRows().filter(l=>!e.includes(l));e.forEach(l=>{this.reinitializeRow(l,!0)}),i.forEach(l=>{l.deinitialize()})}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,Math.abs(e)>this.windowBuffer/2?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(e,i,l){for(let a=e;a<i;a++){let o=this.columns[a];o.modules.vdomHoz.leftPos+=l,o.modules.vdomHoz.rightPos+=l}}addColRight(){for(var e=!1,i=!0;i;){let l=this.columns[this.rightCol+1];l&&l.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(a=>{if(a.type!=="group"){var o=a.getCell(l);a.getElement().insertBefore(o.getElement(),a.getCell(this.columns[this.rightCol]).getElement().nextSibling),o.cellRendered()}}),this.fitDataColActualWidthCheck(l),this.rightCol++,this.getVisibleRows().forEach(a=>{a.type!=="group"&&(a.modules.vdomHoz.rightCol=this.rightCol)}),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=l.getWidth()):i=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var e=!1,i=!0;i;){let l=this.columns[this.leftCol-1];if(l)if(l.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){e=!0,this.getVisibleRows().forEach(o=>{if(o.type!=="group"){var h=o.getCell(l);o.getElement().insertBefore(h.getElement(),o.getCell(this.columns[this.leftCol]).getElement()),h.cellRendered()}}),this.leftCol--,this.getVisibleRows().forEach(o=>{o.type!=="group"&&(o.modules.vdomHoz.leftCol=this.leftCol)}),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=l.getWidth();let a=this.fitDataColActualWidthCheck(l);a&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+a,this.vDomPadRight-=a)}else i=!1;else i=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var e=!1,i=!0;i;){let l=this.columns[this.rightCol];l&&l.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(a=>{if(a.type!=="group"){var o=a.getCell(l);try{a.getElement().removeChild(o.getElement())}catch(h){console.warn("Could not removeColRight",h.message)}}}),this.vDomPadRight+=l.getWidth(),this.rightCol--,this.getVisibleRows().forEach(a=>{a.type!=="group"&&(a.modules.vdomHoz.rightCol=this.rightCol)})):i=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var e=!1,i=!0;i;){let l=this.columns[this.leftCol];l&&l.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(e=!0,this.getVisibleRows().forEach(a=>{if(a.type!=="group"){var o=a.getCell(l);try{a.getElement().removeChild(o.getElement())}catch(h){console.warn("Could not removeColLeft",h.message)}}}),this.vDomPadLeft+=l.getWidth(),this.leftCol++,this.getVisibleRows().forEach(a=>{a.type!=="group"&&(a.modules.vdomHoz.leftCol=this.leftCol)})):i=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(e){var i,l;return e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),i=e.getWidth(),l=i-e.modules.vdomHoz.width,l&&(e.modules.vdomHoz.rightPos+=l,e.modules.vdomHoz.width=i,this.colPositionAdjust(this.columns.indexOf(e)+1,this.columns.length,l)),e.modules.vdomHoz.fitDataCheck=!1),l}initializeRow(e){if(e.type!=="group"){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach(i=>{this.appendCell(e,i)});for(let i=this.leftCol;i<=this.rightCol;i++)this.appendCell(e,this.columns[i]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach(i=>{this.appendCell(e,i)})}}appendCell(e,i){if(i&&i.visible){let l=e.getCell(i);e.getElement().appendChild(l.getElement()),l.cellRendered()}}reinitializeRow(e,i){if(e.type!=="group"&&(i||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var l=e.getElement();l.firstChild;)l.removeChild(l.firstChild);this.initializeRow(e)}}}class Lv extends Pe{constructor(e){super(e),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.rowHeader=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new Xf(this.table,"column definition",zf),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(e){this.table.rtl?this.headersElement.style.marginLeft=e+"px":this.headersElement.style.marginRight=e+"px"}initializeRenderer(){var e,i={virtual:zv,basic:Dv};typeof this.table.options.renderHorizontal=="string"?e=i[this.table.options.renderHorizontal]:e=this.table.options.renderHorizontal,e?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}createHeaderContentsElement(){var e=document.createElement("div");return e.classList.add("tabulator-header-contents"),e.setAttribute("role","rowgroup"),e}createHeaderElement(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(e){this.contentsElement.scrollLeft=e,this.scrollLeft=e,this.renderer.scrollColumns(e)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",e=>{var i;e.deltaX&&(i=this.contentsElement.scrollLeft+e.deltaX,this.table.rowManager.scrollHorizontal(i),this.table.columnManager.scrollHorizontal(i))})}generateColumnsFromRowData(e){var i=[],l={},a=this.table.options.autoColumns==="full"?e:[e[0]],o=this.table.options.autoColumnsDefinitions;if(e&&e.length){if(a.forEach(h=>{Object.keys(h).forEach((d,f)=>{let p=h[d],b;l[d]?l[d]!==!0&&typeof p<"u"&&(l[d].sorter=this.calculateSorterFromValue(p),l[d]=!0):(b={field:d,title:d,sorter:this.calculateSorterFromValue(p)},i.splice(f,0,b),l[d]=typeof p>"u"?b:!0)})}),o)switch(typeof o){case"function":this.table.options.columns=o.call(this.table,i);break;case"object":Array.isArray(o)?i.forEach(h=>{var d=o.find(f=>f.field===h.field);d&&Object.assign(h,d)}):i.forEach(h=>{o[h.field]&&Object.assign(h,o[h.field])}),this.table.options.columns=i;break}else this.table.options.columns=i;this.setColumns(this.table.options.columns)}}calculateSorterFromValue(e){var i;switch(typeof e){case"undefined":i="string";break;case"boolean":i="boolean";break;case"number":i="number";break;case"object":Array.isArray(e)?i="array":i="string";break;default:!isNaN(e)&&e!==""?i="number":e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?i="alphanum":i="string";break}return i}setColumns(e,i){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),this.dispatchExternal("columnsLoading"),this.table.options.rowHeader&&(this.rowHeader=new $i(this.table.options.rowHeader===!0?{}:this.table.options.rowHeader,this,!0),this.columns.push(this.rowHeader),this.headersElement.appendChild(this.rowHeader.getElement()),this.rowHeader.columnRendered()),e.forEach((l,a)=>{this._addColumn(l)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.subscribedExternal("columnsLoaded")&&this.dispatchExternal("columnsLoaded",this.getComponents()),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(e,i,l){var a=new $i(e,this),o=a.getElement(),h=l&&this.findColumnIndex(l);if(i&&this.rowHeader&&(!l||l===this.rowHeader)&&(i=!1,l=this.rowHeader,h=0),l&&h>-1){var d=l.getTopColumn(),f=this.columns.indexOf(d),p=d.getElement();i?(this.columns.splice(f,0,a),p.parentNode.insertBefore(o,p)):(this.columns.splice(f+1,0,a),p.parentNode.insertBefore(o,p.nextSibling))}else i?(this.columns.unshift(a),this.headersElement.insertBefore(a.getElement(),this.headersElement.firstChild)):(this.columns.push(a),this.headersElement.appendChild(a.getElement()));return a.columnRendered(),a}registerColumnField(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}registerColumnPosition(e){this.columnsByIndex.push(e)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(e){e.reRegisterPosition()})}verticalAlignHeaders(){var e=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach(i=>{i.clearVerticalAlign()}),this.columns.forEach(i=>{var l=i.getHeight();l>e&&(e=l)}),this.headersElement.style.height=e+"px",this.columns.forEach(i=>{i.verticalAlign(this.table.options.columnHeaderVertAlign,e)}),this.table.rowManager.adjustTableSize())}findColumn(e){var i;if(typeof e=="object"){if(e instanceof $i)return e;if(e instanceof Df)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return i=[],this.columns.forEach(a=>{i.push(a),i=i.concat(a.getColumns(!0))}),i.find(a=>a.element===e)||!1}else return this.columnsByField[e]||!1;return!1}getColumnByField(e){return this.columnsByField[e]}getColumnsByFieldRoot(e){var i=[];return Object.keys(this.columnsByField).forEach(l=>{var a=this.table.options.nestedFieldSeparator?l.split(this.table.options.nestedFieldSeparator)[0]:l;a===e&&i.push(this.columnsByField[l])}),i}getColumnByIndex(e){return this.columnsByIndex[e]}getFirstVisibleColumn(){var e=this.columnsByIndex.findIndex(i=>i.visible);return e>-1?this.columnsByIndex[e]:!1}getVisibleColumnsByIndex(){return this.columnsByIndex.filter(e=>e.visible)}getColumns(){return this.columns}findColumnIndex(e){return this.columnsByIndex.findIndex(i=>e===i)}getRealColumns(){return this.columnsByIndex}traverse(e){this.columnsByIndex.forEach((i,l)=>{e(i,l)})}getDefinitions(e){var i=[];return this.columnsByIndex.forEach(l=>{(!e||e&&l.visible)&&i.push(l.getDefinition())}),i}getDefinitionTree(){var e=[];return this.columns.forEach(i=>{e.push(i.getDefinition(!0))}),e}getComponents(e){var i=[],l=e?this.columns:this.columnsByIndex;return l.forEach(a=>{i.push(a.getComponent())}),i}getWidth(){var e=0;return this.columnsByIndex.forEach(i=>{i.visible&&(e+=i.getWidth())}),e}moveColumn(e,i,l){i.element.parentNode.insertBefore(e.element,i.element),l&&i.element.parentNode.insertBefore(i.element,e.element),this.moveColumnActual(e,i,l),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(e,i,l){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,i,l):this._moveColumnInArray(this.columns,e,i,l),this._moveColumnInArray(this.columnsByIndex,e,i,l,!0),this.rerenderColumns(!0),this.dispatch("column-moved",e,i,l),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(e,i,l,a,o){var h=e.indexOf(i),d,f=[];h>-1&&(e.splice(h,1),d=e.indexOf(l),d>-1?a&&(d=d+1):d=h,e.splice(d,0,i),o&&(f=this.chain("column-moving-rows",[i,l,a],null,[])||[],f=f.concat(this.table.rowManager.rows),f.forEach(function(p){if(p.cells.length){var b=p.cells.splice(h,1)[0];p.cells.splice(d,0,b)}})))}scrollToColumn(e,i,l){var a=0,o=e.getLeftOffset(),h=0,d=e.getElement();return new Promise((f,p)=>{if(typeof i>"u"&&(i=this.table.options.scrollToColumnPosition),typeof l>"u"&&(l=this.table.options.scrollToColumnIfVisible),e.visible){switch(i){case"middle":case"center":h=-this.element.clientWidth/2;break;case"right":h=d.clientWidth-this.headersElement.clientWidth;break}if(!l&&o>0&&o+d.offsetWidth<this.element.clientWidth)return!1;a=o+h,a=Math.max(Math.min(a,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(a),this.scrollHorizontal(a),f()}else console.warn("Scroll Error - Column not visible"),p("Scroll Error - Column not visible")})}generateCells(e){var i=[];return this.columnsByIndex.forEach(l=>{i.push(l.generateCell(e))}),i}getFlexBaseWidth(){var e=this.table.element.clientWidth,i=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(l){var a,o,h;l.visible&&(a=l.definition.width||0,o=parseInt(l.minWidth),typeof a=="string"?a.indexOf("%")>-1?h=e/100*parseInt(a):h=parseInt(a):h=a,i+=h>o?h:o)}),i}addColumn(e,i,l){return new Promise((a,o)=>{var h=this._addColumn(e,i,l);this._reIndexColumns(),this.dispatch("column-add",e,i,l),this.layoutMode()!="fitColumns"&&h.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),a(h)})}deregisterColumn(e){var i=e.getField(),l;i&&delete this.columnsByField[i],l=this.columnsByIndex.indexOf(e),l>-1&&this.columnsByIndex.splice(l,1),l=this.columns.indexOf(e),l>-1&&this.columns.splice(l,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(e,i){this.redrawBlock?(e===!1||e===!0&&this.redrawBlockUpdate===null)&&(this.redrawBlockUpdate=e):this.renderer.rerenderColumns(e,i)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(e){Ee.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(e),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}class Av extends ga{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}renderRows(){var e=this.tableElement,i=!0,l=document.createDocumentFragment(),a=this.rows();a.forEach((o,h)=>{this.styleRow(o,h),o.initialize(!1,!0),o.type!=="group"&&(i=!1),l.appendChild(o.getElement())}),e.appendChild(l),a.forEach(o=>{o.rendered(),o.heightInitialized||o.calcHeight(!0)}),a.forEach(o=>{o.heightInitialized||o.setCellHeight()}),i?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}rerenderRows(e){this.clearRows(),e&&e(),this.renderRows(),this.rows().length||this.table.rowManager.tableEmpty()}scrollToRowNearestTop(e){var i=Ee.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-i)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-i))}scrollToRow(e){var i=e.getElement();this.elementVertical.scrollTop=Ee.elOffset(i).top-Ee.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(e){return this.rows()}}class Hv extends ga{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(e){for(var i=this.elementVertical.scrollTop,l=!1,a=!1,o=this.table.rowManager.scrollLeft,h=this.rows(),d=this.vDomTop;d<=this.vDomBottom;d++)if(h[d]){var f=i-h[d].getElement().offsetTop;if(a===!1||Math.abs(f)<a)a=f,l=d;else break}h.forEach(p=>{p.deinitializeHeight()}),e&&e(),this.rows().length?this._virtualRenderFill(l===!1?this.rows.length-1:l,!0,a||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(o)}scrollColumns(e){this.table.rowManager.scrollHorizontal(e)}scrollRows(e,i){var l=e-this.vDomScrollPosTop,a=e-this.vDomScrollPosBottom,o=this.vDomWindowBuffer*2,h=this.rows();if(this.scrollTop=e,-l>o||a>o){var d=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*h.length)),this.scrollColumns(d)}else i?(l<0&&this._addTopRow(h,-l),a<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(h,-a):this.vDomScrollPosBottom=this.scrollTop)):(a>=0&&this._addBottomRow(h,a),l>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(h,l):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(e){var i=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-i)>Math.abs(this.vDomBottom-i))}scrollToRow(e){var i=this.rows().indexOf(e);i>-1&&this._virtualRenderFill(i,!0)}visibleRows(e){var i=this.elementVertical.scrollTop,l=this.elementVertical.clientHeight+i,a=!1,o=0,h=0,d=this.rows();if(e)o=this.vDomTop,h=this.vDomBottom;else for(var f=this.vDomTop;f<=this.vDomBottom;f++)if(d[f])if(a)if(l-d[f].getElement().offsetTop>=0)h=f;else break;else if(i-d[f].getElement().offsetTop>=0)o=f;else if(a=!0,l-d[f].getElement().offsetTop>=0)h=f;else break;return d.slice(o,h+1)}_virtualRenderFill(e,i,l){var a=this.tableElement,o=this.elementVertical,h=0,d=0,f=0,p=0,b=0,y=0,w=this.rows(),M=w.length,H=0,_,F,B=[],$=0,ee=0,oe=this.table.rowManager.fixedHeight,W=this.elementVertical.clientHeight,ye=this.table.options.rowHeight,Ae=!0;if(e=e||0,l=l||0,!e)this.clear();else{for(;a.firstChild;)a.removeChild(a.firstChild);p=(M-e+1)*this.vDomRowHeight,p<W&&(e-=Math.ceil((W-p)/this.vDomRowHeight),e<0&&(e=0)),h=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e),e-=h}if(M&&Ee.elVisible(this.elementVertical)){for(this.vDomTop=e,this.vDomBottom=e-1,oe||this.table.options.maxHeight?(ye&&(ee=W/ye+this.vDomWindowBuffer/ye),ee=Math.max(this.vDomWindowMinTotalRows,Math.ceil(ee))):ee=M;(ee==M||d<=W+this.vDomWindowBuffer||$<this.vDomWindowMinTotalRows)&&this.vDomBottom<M-1;){for(B=[],F=document.createDocumentFragment(),y=0;y<ee&&this.vDomBottom<M-1;)H=this.vDomBottom+1,_=w[H],this.styleRow(_,H),_.initialize(!1,!0),!_.heightInitialized&&!this.table.options.rowHeight&&_.clearCellHeight(),F.appendChild(_.getElement()),B.push(_),this.vDomBottom++,y++;if(!B.length)break;a.appendChild(F),B.forEach(de=>{de.rendered(),de.heightInitialized||de.calcHeight(!0)}),B.forEach(de=>{de.heightInitialized||de.setCellHeight()}),B.forEach(de=>{f=de.getHeight(),$<h?b+=f:d+=f,f>this.vDomWindowBuffer&&(this.vDomWindowBuffer=f*2),$++}),Ae=this.table.rowManager.adjustTableSize(),W=this.elementVertical.clientHeight,Ae&&(oe||this.table.options.maxHeight)&&(ye=d/$,ee=Math.max(this.vDomWindowMinTotalRows,Math.ceil(W/ye+this.vDomWindowBuffer/ye)))}e?(this.vDomTopPad=i?this.vDomRowHeight*this.vDomTop+l:this.scrollTop-b,this.vDomBottomPad=this.vDomBottom==M-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-d-b,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((d+b)/$),this.vDomBottomPad=this.vDomRowHeight*(M-this.vDomBottom-1),this.vDomScrollHeight=b+d+this.vDomBottomPad-W),a.style.paddingTop=this.vDomTopPad+"px",a.style.paddingBottom=this.vDomBottomPad+"px",i&&(this.scrollTop=this.vDomTopPad+b+l-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-W:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-W),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&i&&(this.scrollTop+=this.elementVertical.offsetHeight-W),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,o.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(e,i){for(var l=this.tableElement,a=[],o=0,h=this.vDomTop-1,d=0,f=!0;f;)if(this.vDomTop){let p=e[h],b,y;p&&d<this.vDomMaxRenderChain?(b=p.getHeight()||this.vDomRowHeight,y=p.initialized,i>=b?(this.styleRow(p,h),l.insertBefore(p.getElement(),l.firstChild),(!p.initialized||!p.heightInitialized)&&a.push(p),p.initialize(),y||(b=p.getElement().offsetHeight,b>this.vDomWindowBuffer&&(this.vDomWindowBuffer=b*2)),i-=b,o+=b,this.vDomTop--,h--,d++):f=!1):f=!1}else f=!1;for(let p of a)p.clearCellHeight();this._quickNormalizeRowHeight(a),o&&(this.vDomTopPad-=o,this.vDomTopPad<0&&(this.vDomTopPad=h*this.vDomRowHeight),h<1&&(this.vDomTopPad=0),l.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=o)}_removeTopRow(e,i){for(var l=[],a=0,o=0,h=!0;h;){let d=e[this.vDomTop],f;d&&o<this.vDomMaxRenderChain?(f=d.getHeight()||this.vDomRowHeight,i>=f?(this.vDomTop++,i-=f,a+=f,l.push(d),o++):h=!1):h=!1}for(let d of l){let f=d.getElement();f.parentNode&&f.parentNode.removeChild(f)}a&&(this.vDomTopPad+=a,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?a:a+this.vDomWindowBuffer)}_addBottomRow(e,i){for(var l=this.tableElement,a=[],o=0,h=this.vDomBottom+1,d=0,f=!0;f;){let p=e[h],b,y;p&&d<this.vDomMaxRenderChain?(b=p.getHeight()||this.vDomRowHeight,y=p.initialized,i>=b?(this.styleRow(p,h),l.appendChild(p.getElement()),(!p.initialized||!p.heightInitialized)&&a.push(p),p.initialize(),y||(b=p.getElement().offsetHeight,b>this.vDomWindowBuffer&&(this.vDomWindowBuffer=b*2)),i-=b,o+=b,this.vDomBottom++,h++,d++):f=!1):f=!1}for(let p of a)p.clearCellHeight();this._quickNormalizeRowHeight(a),o&&(this.vDomBottomPad-=o,(this.vDomBottomPad<0||h==e.length-1)&&(this.vDomBottomPad=0),l.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=o)}_removeBottomRow(e,i){for(var l=[],a=0,o=0,h=!0;h;){let d=e[this.vDomBottom],f;d&&o<this.vDomMaxRenderChain?(f=d.getHeight()||this.vDomRowHeight,i>=f?(this.vDomBottom--,i-=f,a+=f,l.push(d),o++):h=!1):h=!1}for(let d of l){let f=d.getElement();f.parentNode&&f.parentNode.removeChild(f)}a&&(this.vDomBottomPad+=a,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=a)}_quickNormalizeRowHeight(e){for(let i of e)i.calcHeight();for(let i of e)i.setCellHeight()}}class kv extends Pe{constructor(e){super(e),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e}createTableElement(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}initializePlaceholder(){var e=this.table.options.placeholder;if(typeof e=="function"&&(e=e.call(this.table)),e=this.chain("placeholder",[e],e,e)||e,e){let i=document.createElement("div");if(i.classList.add("tabulator-placeholder"),typeof e=="string"){let l=document.createElement("div");l.classList.add("tabulator-placeholder-contents"),l.innerHTML=e,i.appendChild(l),this.placeholderContents=l}else typeof HTMLElement<"u"&&e instanceof HTMLElement?(i.appendChild(e),this.placeholderContents=e):(console.warn("Invalid placeholder provided, must be string or HTML Element",e),this.el=null);this.placeholder=i}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var e=this.element.scrollLeft,i=this.scrollLeft>e,l=this.element.scrollTop,a=this.scrollTop>l;this.scrollLeft!=e&&(this.scrollLeft=e,this.dispatch("scroll-horizontal",e,i),this.dispatchExternal("scrollHorizontal",e,i),this._positionPlaceholder()),this.scrollTop!=l&&(this.scrollTop=l,this.renderer.scrollRows(l,a),this.dispatch("scroll-vertical",l,a),this.dispatchExternal("scrollVertical",l,a))})}findRow(e){if(typeof e=="object"){if(e instanceof Qe)return e;if(e instanceof pa)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return this.rows.find(l=>l.getElement()===e)||!1;if(e===null)return!1}else return typeof e>"u"?!1:this.rows.find(l=>l.data[this.table.options.index]==e)||!1;return!1}getRowFromDataObject(e){var i=this.rows.find(l=>l.data===e);return i||!1}getRowFromPosition(e){return this.getDisplayRows().find(i=>i.type==="row"&&i.getPosition()===e&&i.isDisplayed())}scrollToRow(e,i,l){return this.renderer.scrollToRowPosition(e,i,l)}setData(e,i,l){return new Promise((a,o)=>{i&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(e,!0):this.reRenderInPosition(()=>{this._setDataActual(e)}):(this.table.options.autoColumns&&l&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(e),this.resetScroll(),this._setDataActual(e)),a()})}_setDataActual(e,i){this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach((l,a)=>{if(l&&typeof l=="object"){var o=new Qe(l,this);this.rows.push(o)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",l)}),this.refreshActiveData(!1,!1,i),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error(`Data Loading Error - Unable to process data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach(e=>{e.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(e,i){var l=this.rows.indexOf(e),a=this.activeRows.indexOf(e);a>-1&&this.activeRows.splice(a,1),l>-1&&this.rows.splice(l,1),this.setActiveRows(this.activeRows),this.displayRowIterator(o=>{var h=o.indexOf(e);h>-1&&o.splice(h,1)}),i||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(e,i,l,a){var o=this.addRowActual(e,i,l,a);return o}addRows(e,i,l,a){var o=[];return new Promise((h,d)=>{i=this.findAddRowPos(i),Array.isArray(e)||(e=[e]),(typeof l>"u"&&i||typeof l<"u"&&!i)&&e.reverse(),e.forEach((f,p)=>{var b=this.addRow(f,i,l,!0);o.push(b),this.dispatch("row-added",b,f,i,l)}),this.refreshActiveData(a?"displayPipeline":!1,!1,!0),this.regenerateRowPositions(),this.displayRowsCount&&this._clearPlaceholder(),h(o)})}findAddRowPos(e){return typeof e>"u"&&(e=this.table.options.addRowPos),e==="pos"&&(e=!0),e==="bottom"&&(e=!1),e}addRowActual(e,i,l,a){var o=e instanceof Qe?e:new Qe(e||{},this),h=this.findAddRowPos(i),d=-1,f,p;return l||(p=this.chain("row-adding-position",[o,h],null,{index:l,top:h}),l=p.index,h=p.top),typeof l<"u"&&(l=this.findRow(l)),l=this.chain("row-adding-index",[o,l,h],null,l),l&&(d=this.rows.indexOf(l)),l&&d>-1?(f=this.activeRows.indexOf(l),this.displayRowIterator(function(b){var y=b.indexOf(l);y>-1&&b.splice(h?y:y+1,0,o)}),f>-1&&this.activeRows.splice(h?f:f+1,0,o),this.rows.splice(h?d:d+1,0,o)):h?(this.displayRowIterator(function(b){b.unshift(o)}),this.activeRows.unshift(o),this.rows.unshift(o)):(this.displayRowIterator(function(b){b.push(o)}),this.activeRows.push(o),this.rows.push(o)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",o.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),a||this.reRenderInPosition(),o}moveRow(e,i,l){this.dispatch("row-move",e,i,l),this.moveRowActual(e,i,l),this.regenerateRowPositions(),this.dispatch("row-moved",e,i,l),this.dispatchExternal("rowMoved",e.getComponent())}moveRowActual(e,i,l){this.moveRowInArray(this.rows,e,i,l),this.moveRowInArray(this.activeRows,e,i,l),this.displayRowIterator(a=>{this.moveRowInArray(a,e,i,l)}),this.dispatch("row-moving",e,i,l)}moveRowInArray(e,i,l,a){var o,h,d,f;if(i!==l&&(o=e.indexOf(i),o>-1&&(e.splice(o,1),h=e.indexOf(l),h>-1?a?e.splice(h+1,0,i):e.splice(h,0,i):e.splice(o,0,i)),e===this.getDisplayRows())){d=o<h?o:h,f=h>o?h:o+1;for(let p=d;p<=f;p++)e[p]&&this.styleRow(e[p],p)}}clearData(){this.setData([])}getRowIndex(e){return this.findRowIndex(e,this.rows)}getDisplayRowIndex(e){var i=this.getDisplayRows().indexOf(e);return i>-1?i:!1}nextDisplayRow(e,i){var l=this.getDisplayRowIndex(e),a=!1;return l!==!1&&l<this.displayRowsCount-1&&(a=this.getDisplayRows()[l+1]),a&&(!(a instanceof Qe)||a.type!="row")?this.nextDisplayRow(a,i):a}prevDisplayRow(e,i){var l=this.getDisplayRowIndex(e),a=!1;return l&&(a=this.getDisplayRows()[l-1]),i&&a&&(!(a instanceof Qe)||a.type!="row")?this.prevDisplayRow(a,i):a}findRowIndex(e,i){var l;return e=this.findRow(e),e&&(l=i.indexOf(e),l>-1)?l:!1}getData(e,i){var l=[],a=this.getRows(e);return a.forEach(function(o){o.type=="row"&&l.push(o.getData(i||"data"))}),l}getComponents(e){var i=[],l=this.getRows(e);return l.forEach(function(a){i.push(a.getComponent())}),i}getDataCount(e){var i=this.getRows(e);return i.length}scrollHorizontal(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}registerDataPipelineHandler(e,i){typeof i<"u"?(this.dataPipeline.push({handler:e,priority:i}),this.dataPipeline.sort((l,a)=>l.priority-a.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(e,i){typeof i<"u"?(this.displayPipeline.push({handler:e,priority:i}),this.displayPipeline.sort((l,a)=>l.priority-a.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(e,i,l){var a=this.table,o="",h=0,d=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if(typeof e=="function")if(h=this.dataPipeline.findIndex(f=>f.handler===e),h>-1)o="dataPipeline",i&&(h==this.dataPipeline.length-1?o="display":h++);else if(h=this.displayPipeline.findIndex(f=>f.handler===e),h>-1)o="displayPipeline",i&&(h==this.displayPipeline.length-1?o="end":h++);else{console.error("Unable to refresh data, invalid handler provided",e);return}else o=e||"all",h=0;if(this.redrawBlock){(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===o&&h<this.redrawBlockRestoreConfig.index||d.indexOf(o)<d.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:i,renderInPosition:l,stage:o,index:h});return}else Ee.elVisible(this.element)?l?this.reRenderInPosition(this.refreshPipelines.bind(this,e,o,h,l)):(this.refreshPipelines(e,o,h,l),e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),a.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(e,o,h,l),this.dispatch("data-refreshed")}}refreshPipelines(e,i,l,a){switch(this.dispatch("data-refreshing"),(!e||!this.activeRowsPipeline[0])&&(this.activeRowsPipeline[0]=this.rows.slice(0)),i){case"all":case"dataPipeline":for(let o=l;o<this.dataPipeline.length;o++){let h=this.dataPipeline[o].handler(this.activeRowsPipeline[o].slice(0));this.activeRowsPipeline[o+1]=h||this.activeRowsPipeline[o].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":l=0,this.resetDisplayRows();case"displayPipeline":for(let o=l;o<this.displayPipeline.length;o++){let h=this.displayPipeline[o].handler((o?this.getDisplayRows(o-1):this.activeRows).slice(0),a);this.setDisplayRows(h||this.getDisplayRows(o-1).slice(0),o)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var e=this.getDisplayRows(),i=1;e.forEach(l=>{l.type==="row"&&(l.setPosition(i),i++)})}setActiveRows(e){this.activeRows=this.activeRows=Object.assign([],e),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(e,i){this.displayRows[i]=e,i==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(e){return typeof e>"u"?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}getVisibleRows(e,i){var l=Object.assign([],this.renderer.visibleRows(!i));return e&&(l=this.chain("rows-visible",[i],l,l)),l}displayRowIterator(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(e){var i=[];switch(e){case"active":i=this.activeRows;break;case"display":i=this.table.rowManager.getDisplayRows();break;case"visible":i=this.getVisibleRows(!1,!0);break;default:i=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return i}reRenderInPosition(e){this.redrawBlock?e?e():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(e),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var e=0;this.element.scrollHeight>this.element.clientHeight&&(e=this.element.offsetWidth-this.element.clientWidth),e!==this.scrollbarWidth&&(this.scrollbarWidth=e,this.dispatch("scrollbar-vertical",e))}initializeRenderer(){var e,i={virtual:Hv,basic:Av};typeof this.table.options.renderVertical=="string"?e=i[this.table.options.renderVertical]:e=this.table.options.renderVertical,e?(this.renderMode=this.table.options.renderVertical,this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),(this.table.element.clientHeight||this.table.options.height)&&!(this.table.options.minHeight&&this.table.options.maxHeight)?this.fixedHeight=!0:this.fixedHeight=!1):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}checkPlaceholder(){this.displayRowsCount?this._clearPlaceholder():this.tableEmpty()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(e,i){var l=e.getElement();i%2?(l.classList.add("tabulator-row-even"),l.classList.remove("tabulator-row-odd")):(l.classList.add("tabulator-row-odd"),l.classList.remove("tabulator-row-even"))}normalizeHeight(e){this.activeRows.forEach(function(i){i.normalizeHeight(e)})}adjustTableSize(){let e=this.element.clientHeight,i,l=!1;if(this.renderer.verticalFillMode==="fill"){let a=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){i=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const o="calc(100% - "+a+"px)";this.element.style.minHeight=i||"calc(100% - "+a+"px)",this.element.style.height=o,this.element.style.maxHeight=o}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-a+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),!this.fixedHeight&&e!=this.element.clientHeight&&(l=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),l}reinitialize(){this.rows.forEach(function(e){e.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(e){this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,this.table.browser==="ie"){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}class Ov extends Pe{constructor(e){super(e),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}createContainerElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer-contents"),this.element.appendChild(e),e}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":this.table.options.footerElement[0]==="<"?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}}getElement(){return this.element}append(e){this.activate(),this.containerElement.appendChild(e),this.table.rowManager.adjustTableSize()}prepend(e){this.activate(),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(e){e.parentNode.removeChild(e),this.deactivate()}deactivate(e){(!this.element.firstChild||e)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class _v extends Pe{constructor(e){super(e),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var e={};this.listeners.forEach(i=>{e[i]={handler:null,components:[]}}),this.listeners=e}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(e=>{this.pseudoTrackers[e].subscriber=this.pseudoMouseEnter.bind(this,e),this.subscribe(e+"-mouseover",this.pseudoTrackers[e].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(e,i,l){this.pseudoTrackers[e].target!==l&&(this.pseudoTrackers[e].target&&this.dispatch(e+"-mouseleave",i,this.pseudoTrackers[e].target),this.pseudoMouseLeave(e,i),this.pseudoTrackers[e].target=l,this.dispatch(e+"-mouseenter",i,l))}pseudoMouseLeave(e,i){var l=Object.keys(this.pseudoTrackers),a={row:["cell"],cell:["row"]};l=l.filter(o=>{var h=a[e];return o!==e&&(!h||h&&!h.includes(o))}),l.forEach(o=>{var h=this.pseudoTrackers[o].target;this.pseudoTrackers[o].target&&(this.dispatch(o+"-mouseleave",i,h),this.pseudoTrackers[o].target=null)})}bindSubscriptionWatchers(){var e=Object.keys(this.listeners),i=Object.values(this.componentMap);for(let l of i)for(let a of e){let o=l+"-"+a;this.subscriptionChange(o,this.subscriptionChanged.bind(this,l,a))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(e,i,l){var a=this.listeners[i].components,o=a.indexOf(e),h=!1;l?o===-1&&(a.push(e),h=!0):this.subscribed(e+"-"+i)||o>-1&&(a.splice(o,1),h=!0),(i==="mouseenter"||i==="mouseleave")&&!this.pseudoTracking&&this.bindPseudoEvents(),h&&this.updateEventListeners()}updateEventListeners(){for(let e in this.listeners){let i=this.listeners[e];i.components.length?i.handler||(i.handler=this.track.bind(this,e),this.el.addEventListener(e,i.handler)):i.handler&&(this.el.removeEventListener(e,i.handler),i.handler=null)}}track(e,i){var l=i.composedPath&&i.composedPath()||i.path,a=this.findTargets(l);a=this.bindComponents(e,a),this.triggerEvents(e,i,a),this.pseudoTracking&&(e=="mouseover"||e=="mouseleave")&&!Object.keys(a).length&&this.pseudoMouseLeave("none",i)}findTargets(e){var i={};let l=Object.keys(this.componentMap);for(let a of e){let o=a.classList?[...a.classList]:[];if(o.filter(f=>this.abortClasses.includes(f)).length)break;let d=o.filter(f=>l.includes(f));for(let f of d)i[this.componentMap[f]]||(i[this.componentMap[f]]=a)}return i.group&&i.group===i.row&&delete i.row,i}bindComponents(e,i){var l=Object.keys(i).reverse(),a=this.listeners[e],o={},h={},d={};for(let f of l){let p,b=i[f],y=this.previousTargets[f];if(y&&y.target===b)p=y.component;else switch(f){case"row":case"group":(a.components.includes("row")||a.components.includes("cell")||a.components.includes("group"))&&(p=this.table.rowManager.getVisibleRows(!0).find(M=>M.getElement()===b),i.row&&i.row.parentNode&&i.row.parentNode.closest(".tabulator-row")&&(i[f]=!1));break;case"column":a.components.includes("column")&&(p=this.table.columnManager.findColumn(b));break;case"cell":a.components.includes("cell")&&(o.row instanceof Qe?p=o.row.findCell(b):i.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"));break}p&&(o[f]=p,d[f]={target:b,component:p})}return this.previousTargets=d,Object.keys(i).forEach(f=>{let p=o[f];h[f]=p}),h}triggerEvents(e,i,l){var a=this.listeners[e];for(let o in l)l[o]&&a.components.includes(o)&&this.dispatch(o+"-"+e,i,l[o])}clearWatchers(){for(let e in this.listeners){let i=this.listeners[e];i.handler&&(this.el.removeEventListener(e,i.handler),i.handler=null)}}}class Bv{constructor(e){this.table=e,this.bindings={}}bind(e,i,l){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][i]?console.warn("Unable to bind component handler, a matching function name is already bound",e,i,l):this.bindings[e][i]=l}handle(e,i,l){if(this.bindings[e]&&this.bindings[e][l]&&typeof this.bindings[e][l].bind=="function")return this.bindings[e][l].bind(null,i);l!=="then"&&typeof l=="string"&&!l.startsWith("_")&&this.table.options.debugInvalidComponentFuncs&&console.error("The "+e+" component does not have a "+l+" function, have you checked that you have the correct Tabulator module installed?")}}class Nv extends Pe{constructor(e){super(e),this.requestOrder=0,this.loading=!1}initialize(){}load(e,i,l,a,o,h){var d=++this.requestOrder;if(this.table.destroyed)return Promise.resolve();if(this.dispatchExternal("dataLoading",e),e&&(e.indexOf("{")==0||e.indexOf("[")==0)&&(e=JSON.parse(e)),this.confirm("data-loading",[e,i,l,o])){this.loading=!0,o||this.alertLoader(),i=this.chain("data-params",[e,l,o],i||{},i||{}),i=this.mapParams(i,this.table.options.dataSendParams);var f=this.chain("data-load",[e,i,l,o],!1,Promise.resolve([]));return f.then(p=>{if(this.table.destroyed)console.warn("Data Load Response Blocked - Table has been destroyed");else{!Array.isArray(p)&&typeof p=="object"&&(p=this.mapParams(p,this.objectInvert(this.table.options.dataReceiveParams)));var b=this.chain("data-loaded",[p],null,p);d==this.requestOrder?(this.clearAlert(),b!==!1&&(this.dispatchExternal("dataLoaded",b),this.table.rowManager.setData(b,a,typeof h>"u"?!a:h))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}}).catch(p=>{console.error("Data Load Error: ",p),this.dispatchExternal("dataLoadError",p),o||this.alertError(),setTimeout(()=>{this.clearAlert()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})}else return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,a,typeof h>"u"?!a:h),Promise.resolve()}mapParams(e,i){var l={};for(let a in e)l[i.hasOwnProperty(a)?i[a]:a]=e[a];return l}objectInvert(e){var i={};for(let l in e)i[e[l]]=l;return i}blockActiveLoad(){this.requestOrder++}alertLoader(){var e=typeof this.table.options.dataLoader=="function"?this.table.options.dataLoader():this.table.options.dataLoader;e&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class Fv{constructor(e,i,l){this.table=e,this.events={},this.optionsList=i||{},this.subscriptionNotifiers={},this.dispatch=l?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=l}subscriptionChange(e,i){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(i),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,i){this.events[e]||(this.events[e]=[]),this.events[e].push(i),this._notifySubscriptionChange(e,!0)}unsubscribe(e,i){var l;if(this.events[e])if(i)if(l=this.events[e].findIndex(a=>a===i),l>-1)this.events[e].splice(l,1);else{console.warn("Cannot remove event, no matching event found:",e,i);return}else delete this.events[e];else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_notifySubscriptionChange(e,i){var l=this.subscriptionNotifiers[e];l&&l.forEach(a=>{a(i)})}_dispatch(){var e=Array.from(arguments),i=e.shift(),l;return this.events[i]&&this.events[i].forEach((a,o)=>{let h=a.apply(this.table,e);o||(l=h)}),l}_debugDispatch(){var e=Array.from(arguments),i=e[0];return e[0]="ExternalEvent:"+e[0],(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._dispatch(...arguments)}}class Vv{constructor(e){this.events={},this.subscriptionNotifiers={},this.dispatch=e?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=e?this._debugChain.bind(this):this._chain.bind(this),this.confirm=e?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=e}subscriptionChange(e,i){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(i),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,i,l=1e4){this.events[e]||(this.events[e]=[]),this.events[e].push({callback:i,priority:l}),this.events[e].sort((a,o)=>a.priority-o.priority),this._notifySubscriptionChange(e,!0)}unsubscribe(e,i){var l;if(this.events[e]){if(i)if(l=this.events[e].findIndex(a=>a.callback===i),l>-1)this.events[e].splice(l,1);else{console.warn("Cannot remove event, no matching event found:",e,i);return}}else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_chain(e,i,l,a){var o=l;return Array.isArray(i)||(i=[i]),this.subscribed(e)?(this.events[e].forEach((h,d)=>{o=h.callback.apply(this,i.concat([o]))}),o):typeof a=="function"?a():a}_confirm(e,i){var l=!1;return Array.isArray(i)||(i=[i]),this.subscribed(e)&&this.events[e].forEach((a,o)=>{a.callback.apply(this,i)&&(l=!0)}),l}_notifySubscriptionChange(e,i){var l=this.subscriptionNotifiers[e];l&&l.forEach(a=>{a(i)})}_dispatch(){var e=Array.from(arguments),i=e.shift();this.events[i]&&this.events[i].forEach(l=>{l.callback.apply(this,e)})}_debugDispatch(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._dispatch(...arguments)}_debugChain(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._chain(...arguments)}_debugConfirm(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._confirm(...arguments)}}class Uv extends Pe{constructor(e){super(e)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(e,i,l){var a="";return typeof this.options(e)<"u"?(a="Deprecated Setup Option - Use of the %c"+e+"%c option is now deprecated",i?(a=a+", Please use the %c"+i+"%c option instead",this._warnUser(a,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;"),l&&(this.table.options[i]=this.table.options[e])):this._warnUser(a,"font-weight: bold;","font-weight: normal;"),!1):!0}checkMsg(e,i){return typeof this.options(e)<"u"?(this._warnUser("%cDeprecated Setup Option - Use of the %c"+e+" %c option is now deprecated, "+i,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1):!0}msg(e){this._warnUser(e)}}class Gv extends Pe{constructor(e){super(e),this.deps={},this.props={}}initialize(){this.deps=Object.assign({},this.options("dependencies"))}lookup(e,i,l){if(Array.isArray(e)){for(const o of e){var a=this.lookup(o,i,!0);if(a)break}if(a)return a;this.error(e)}else return i?this.lookupProp(e,i,l):this.lookupKey(e,l)}lookupProp(e,i,l){var a;if(this.props[e]&&this.props[e][i])return this.props[e][i];if(a=this.lookupKey(e,l),a)return this.props[e]||(this.props[e]={}),this.props[e][i]=a[i]||a,this.props[e][i]}lookupKey(e,i){var l;return this.deps[e]?l=this.deps[e]:window[e]?(this.deps[e]=window[e],l=this.deps[e]):i||this.error(e),l}error(e){console.error("Unable to find dependency",e,"Please check documentation and ensure you have imported the required library into your project")}}function jv(m,e){e&&this.table.columnManager.renderer.reinitializeColumnWidths(m),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Ef(m,e){m.forEach(function(i){i.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Pv(m,e){var i=0,l=this.table.rowManager.element.clientWidth,a=0,o=!1;m.forEach((h,d)=>{h.widthFixed||h.reinitializeWidth(),(this.table.options.responsiveLayout?h.modules.responsive.visible:h.visible)&&(o=h),h.visible&&(i+=h.getWidth())}),o?(a=l-i+o.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(o.setWidth(0),this.table.modules.responsiveLayout.update()),a>0?o.setWidth(a):o.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Wv(m,e){var i=this.table.rowManager.element.getBoundingClientRect().width,l=0,a=0,o=0,h=0,d=[],f=[],p=0,b=0,y=0;function w(H){var _;return typeof H=="string"?H.indexOf("%")>-1?_=i/100*parseInt(H):_=parseInt(H):_=H,_}function M(H,_,F,B){var $=[],ee=0,oe=0,W=0,ye=o,Ae=0,de=0,Ke=[];function Bt(J){return F*(J.column.definition.widthGrow||1)}function pt(J){return w(J.width)-F*(J.column.definition.widthShrink||0)}return H.forEach(function(J,ei){var zt=B?pt(J):Bt(J);J.column.minWidth>=zt?$.push(J):J.column.maxWidth&&J.column.maxWidth<zt?(J.width=J.column.maxWidth,_-=J.column.maxWidth,ye-=B?J.column.definition.widthShrink||1:J.column.definition.widthGrow||1,ye&&(F=Math.floor(_/ye))):(Ke.push(J),de+=B?J.column.definition.widthShrink||1:J.column.definition.widthGrow||1)}),$.length?($.forEach(function(J){ee+=B?J.width-J.column.minWidth:J.column.minWidth,J.width=J.column.minWidth}),oe=_-ee,W=de?Math.floor(oe/de):oe,Ae=M(Ke,oe,W,B)):(Ae=de?_-Math.floor(_/de)*de:_,Ke.forEach(function(J){J.width=B?pt(J):Bt(J)})),Ae}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(i-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),m.forEach(function(H){var _,F,B;H.visible&&(_=H.definition.width,F=parseInt(H.minWidth),_?(B=w(_),l+=B>F?B:F,H.definition.widthShrink&&(f.push({column:H,width:B>F?B:F}),p+=H.definition.widthShrink)):(d.push({column:H,width:0}),o+=H.definition.widthGrow||1))}),a=i-l,h=Math.floor(a/o),y=M(d,a,h,!1),d.length&&y>0&&(d[d.length-1].width+=y),d.forEach(function(H){a-=H.width}),b=Math.abs(y)+a,b>0&&p&&(y=M(f,b,Math.floor(b/p),!0)),y&&f.length&&(f[f.length-1].width-=y),d.forEach(function(H){H.column.setWidth(H.width)}),f.forEach(function(H){H.column.setWidth(H.width)})}var qv={fitData:jv,fitDataFill:Ef,fitDataTable:Ef,fitDataStretch:Pv,fitColumns:Wv};const Ws=class Ws extends ie{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;Ws.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){e.definition.widthGrow&&(e.definition.widthGrow=Number(e.definition.widthGrow)),e.definition.widthShrink&&(e.definition.widthShrink=Number(e.definition.widthShrink))}getMode(){return this.mode}layout(e){var i=this.table.columnManager.columnsByIndex.find(l=>l.definition.variableHeight||l.definition.formatter==="textarea");this.dispatch("layout-refreshing"),Ws.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),i&&this.table.rowManager.normalizeHeight(!0),this.dispatch("layout-refreshed")}};V(Ws,"moduleName","layout"),V(Ws,"modes",qv);let hu=Ws;var Yv={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};const Zl=class Zl extends ie{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=Ee.deepClone(Zl.langs),this.table.options.columnDefaults.headerFilterPlaceholder!==!1&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,i){this.langList[e]?this._setLangProp(this.langList[e],i):this.langList[e]=i}_setLangProp(e,i){for(let l in i)e[l]&&typeof e[l]=="object"?this._setLangProp(e[l],i[l]):e[l]=i[l]}setLocale(e){e=e||"default";function i(l,a){for(var o in l)typeof l[o]=="object"?(a[o]||(a[o]={}),i(l[o],a[o])):a[o]=l[o]}if(e===!0&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let l=e.split("-")[0];this.langList[l]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,l),e=l):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=Ee.deepClone(this.langList.default||{}),e!="default"&&i(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,i){var l=i?e+"|"+i:e,a=l.split("|"),o=this._getLangElement(a,this.locale);return o||""}_getLangElement(e,i){var l=this.lang;return e.forEach(function(a){var o;l&&(o=l[a],typeof o<"u"?l=o:l=!1)}),l}bind(e,i){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(i),i(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(i=>{i(this.getText(e),this.lang)})}};V(Zl,"moduleName","localize"),V(Zl,"langs",Yv);let cu=Zl;class Qf extends ie{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var i=[],l;return l=this.table.constructor.registry.lookupTable(e),l.forEach(a=>{this.table!==a&&i.push(a)}),i}send(e,i,l,a){var o=this.getConnections(e);o.forEach(h=>{h.tableComms(this.table.element,i,l,a)}),!o.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,i,l,a){if(this.table.modExists(i))return this.table.modules[i].commsReceived(e,l,a);console.warn("Inter-table Comms Error - no such module:",i)}}V(Qf,"moduleName","comms");var Xv=Object.freeze({__proto__:null,CommsModule:Qf,LayoutModule:hu,LocalizeModule:cu});const ft=class ft{static findTable(e){var i=ft.registry.lookupTable(e,!0);return Array.isArray(i)&&!i.length?!1:i}};V(ft,"registry",{tables:[],register(e){ft.registry.tables.push(e)},deregister(e){var i=ft.registry.tables.indexOf(e);i>-1&&ft.registry.tables.splice(i,1)},lookupTable(e,i){var l=[],a,o;if(typeof e=="string"){if(a=document.querySelectorAll(e),a.length)for(var h=0;h<a.length;h++)o=ft.registry.matchElement(a[h]),o&&l.push(o)}else typeof HTMLElement<"u"&&e instanceof HTMLElement||e instanceof ft?(o=ft.registry.matchElement(e),o&&l.push(o)):Array.isArray(e)?e.forEach(function(d){l=l.concat(ft.registry.lookupTable(d))}):i||console.warn("Table Connection Error - Invalid Selector",e);return l},matchElement(e){return ft.registry.tables.find(function(i){return e instanceof ft?i===e:i.element===e})}});let du=ft;const ve=class ve extends du{constructor(){super()}static initializeModuleBinder(e){ve.modulesRegistered||(ve.modulesRegistered=!0,ve._registerModules(Xv,!0),e&&ve._registerModules(e))}static _extendModule(e,i,l){if(ve.moduleBindings[e]){var a=ve.moduleBindings[e][i];if(a)if(typeof l=="object")for(let o in l)a[o]=l[o];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",i)}else console.warn("Module Error - module does not exist:",e)}static _registerModules(e,i){var l=Object.values(e);i&&l.forEach(a=>{a.prototype.moduleCore=!0}),ve._registerModule(l)}static _registerModule(e){Array.isArray(e)||(e=[e]),e.forEach(i=>{ve._registerModuleBinding(i),ve._registerModuleExtensions(i)})}static _registerModuleBinding(e){e.moduleName?ve.moduleBindings[e.moduleName]=e:console.error("Unable to bind module, no moduleName defined",e.moduleName)}static _registerModuleExtensions(e){var i=e.moduleExtensions;if(e.moduleExtensions)for(let l in i){let a=i[l];if(ve.moduleBindings[l])for(let o in a)ve._extendModule(l,o,a[o]);else{ve.moduleExtensions[l]||(ve.moduleExtensions[l]={});for(let o in a)ve.moduleExtensions[l][o]||(ve.moduleExtensions[l][o]={}),Object.assign(ve.moduleExtensions[l][o],a[o])}}ve._extendModuleFromQueue(e)}static _extendModuleFromQueue(e){var i=ve.moduleExtensions[e.moduleName];if(i)for(let l in i)ve._extendModule(e.moduleName,l,i[l])}_bindModules(){var e=[],i=[],l=[];this.modules={};for(var a in ve.moduleBindings){let o=ve.moduleBindings[a],h=new o(this);this.modules[a]=h,o.prototype.moduleCore?this.modulesCore.push(h):o.moduleInitOrder?o.moduleInitOrder<0?e.push(h):i.push(h):l.push(h)}e.sort((o,h)=>o.moduleInitOrder>h.moduleInitOrder?1:-1),i.sort((o,h)=>o.moduleInitOrder>h.moduleInitOrder?1:-1),this.modulesRegular=e.concat(l.concat(i))}};V(ve,"moduleBindings",{}),V(ve,"moduleExtensions",{}),V(ve,"modulesRegistered",!1),V(ve,"defaultModules",!1);let fu=ve;class Qv extends Pe{constructor(e){super(e),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert"),e}_createMsgElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert-msg"),e.setAttribute("role","alert"),e}_typeClass(){return"tabulator-alert-state-"+this.type}alert(e,i="msg"){if(e){for(this.clear(),this.dispatch("alert-show",i),this.type=i;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),typeof e=="function"&&(e=e()),e instanceof HTMLElement?this.msgElement.appendChild(e):this.msgElement.innerHTML=e,this.table.element.appendChild(this.element)}}clear(){this.dispatch("alert-hide",this.type),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}const $t=class $t extends fu{static extendModule(){$t.initializeModuleBinder(),$t._extendModule(...arguments)}static registerModule(){$t.initializeModuleBinder(),$t._registerModule(...arguments)}constructor(e,i,l){super(),$t.initializeModuleBinder(l),this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new Bv(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new Uv(this),this.optionsList=new Xf(this,"table constructor"),this.dependencyRegistry=new Gv(this),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(i),setTimeout(()=>{this._create()})),this.constructor.registry.register(this)}initializeElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement?(this.element=e,!0):typeof e=="string"?(this.element=document.querySelector(e),this.element?!0:(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new Lv(this),this.rowManager=new kv(this),this.footerManager=new Ov(this),this.dataLoader=new Nv(this),this.alertManager=new Qv(this),this._bindModules(),this.options=this.optionsList.generate($t.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new Fv(this,this.options,this.options.debugEventsExternal),this.eventBus=new Vv(this.options.debugEventsInternal),this.interactionMonitor=new _v(this),this.dataLoader.initialize(),this.footerManager.initialize(),this.dependencyRegistry.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this.initialized=!0,this._loadInitialData().finally(()=>{this.eventBus.dispatch("table-initialized"),this.externalEvents.dispatch("tableBuilt")})}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if(e.direction!=="rtl")break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var e=this.element,i=this.options,l;if(e.tagName==="TABLE"){this.originalElement=this.element,l=document.createElement("div");var a=e.attributes;for(var o in a)typeof a[o]=="object"&&l.setAttribute(a[o].name,a[o].value);e.parentNode.replaceChild(l,e),this.element=e=l}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);i.height&&(i.height=isNaN(i.height)?i.height:i.height+"px",e.style.height=i.height),i.minHeight!==!1&&(i.minHeight=isNaN(i.minHeight)?i.minHeight:i.minHeight+"px",e.style.minHeight=i.minHeight),i.maxHeight!==!1&&(i.maxHeight=isNaN(i.maxHeight)?i.maxHeight:i.maxHeight+"px",e.style.maxHeight=i.maxHeight)}_initializeTable(){var e=this.element,i=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(l=>{l.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),i.footerElement&&this.footerManager.activate(),i.autoColumns&&i.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(l=>{l.initialize()}),this.columnManager.setColumns(i.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){return this.dataLoader.load(this.options.data).finally(()=>{this.columnManager.verticalAlignHeaders()})}destroy(){var e=this.element;for(this.destroyed=!0,this.constructor.registry.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,i){var l,a;return this.options.debugInitialization&&!this.initialized&&(e||(l=new Error().stack.split(`
`),a=l[0]=="Error"?l[2]:l[1],a[0]==" "?e=a.trim().split(" ")[1].split(".")[1]:e=a.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(i?" "+i:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,i,l){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,i,l,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,i,l){return this.initGuard(),this.dataLoader.load(e,i,l,!0,!0)}updateData(e){var i=0;return this.initGuard(),new Promise((l,a)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(o=>{var h=this.rowManager.findRow(o[this.options.index]);h?(i++,h.updateData(o).then(()=>{i--,i||l()}).catch(d=>{a("Update Error - Unable to update row",o,d)})):a("Update Error - Unable to find row",o)}):(console.warn("Update Error - No data provided"),a("Update Error - No data provided"))})}addData(e,i,l){return this.initGuard(),new Promise((a,o)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,i,l).then(h=>{var d=[];h.forEach(function(f){d.push(f.getComponent())}),a(d)}):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))})}updateOrAddData(e){var i=[],l=0;return this.initGuard(),new Promise((a,o)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(h=>{var d=this.rowManager.findRow(h[this.options.index]);l++,d?d.updateData(h).then(()=>{l--,i.push(d.getComponent()),l||a(i)}):this.rowManager.addRows(h).then(f=>{l--,i.push(f[0].getComponent()),l||a(i)})}):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))})}getRow(e){var i=this.rowManager.findRow(e);return i?i.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var i=this.rowManager.getRowFromPosition(e);return i?i.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var i=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let l of e){let a=this.rowManager.findRow(l,!0);if(a)i.push(a);else return console.error("Delete Error - No matching row found:",l),Promise.reject("Delete Error - No matching row found")}return i.sort((l,a)=>this.rowManager.rows.indexOf(l)>this.rowManager.rows.indexOf(a)?1:-1),i.forEach(l=>{l.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,i,l){return this.initGuard(),typeof e=="string"&&(e=JSON.parse(e)),this.rowManager.addRows(e,i,l,!0).then(a=>a[0].getComponent())}updateOrAddRow(e,i){var l=this.rowManager.findRow(e);return this.initGuard(),typeof i=="string"&&(i=JSON.parse(i)),l?l.updateData(i).then(()=>l.getComponent()):this.rowManager.addRows(i).then(a=>a[0].getComponent())}updateRow(e,i){var l=this.rowManager.findRow(e);return this.initGuard(),typeof i=="string"&&(i=JSON.parse(i)),l?l.updateData(i).then(()=>Promise.resolve(l.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,i,l){var a=this.rowManager.findRow(e);return a?this.rowManager.scrollToRow(a,i,l):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,i,l){var a=this.rowManager.findRow(e);this.initGuard(),a?a.moveToRow(i,l):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var i=this.rowManager.findRow(e);return i?i.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var i=this.columnManager.findColumn(e);return i?i.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.show();else return console.warn("Column Show Error - No matching column found:",e),!1}hideColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.hide();else return console.warn("Column Hide Error - No matching column found:",e),!1}toggleColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.visible?i.hide():i.show();else return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1}addColumn(e,i,l){var a=this.columnManager.findColumn(l);return this.initGuard(),this.columnManager.addColumn(e,i,a).then(o=>o.getComponent())}deleteColumn(e){var i=this.columnManager.findColumn(e);return this.initGuard(),i?i.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,i){var l=this.columnManager.findColumn(e);return this.initGuard(),l?l.updateDefinition(i):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,i,l){var a=this.columnManager.findColumn(e),o=this.columnManager.findColumn(i);this.initGuard(),a?o?this.columnManager.moveColumn(a,o,l):console.warn("Move Error - No matching column found:",o):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,i,l){return new Promise((a,o)=>{var h=this.columnManager.findColumn(e);return h?this.columnManager.scrollToColumn(h,i,l):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw(!0)}on(e,i){this.externalEvents.subscribe(e,i)}off(e,i){this.externalEvents.unsubscribe(e,i)}dispatchEvent(){var e=Array.from(arguments);e.shift(),this.externalEvents.dispatch(...arguments)}alert(e,i){this.initGuard(),this.alertManager.alert(e,i)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,i){return this.modules[e]?!0:(i&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var i=this.modules[e];return i||console.error("Tabulator module not installed: "+e),i}};V($t,"defaultOptions",xv);let pu=$t;var Wl=pu;class Zv extends Wl{static extendModule(){Wl.initializeModuleBinder(Uo),Wl._extendModule(...arguments)}static registerModule(){Wl.initializeModuleBinder(Uo),Wl._registerModule(...arguments)}constructor(e,i,l){super(e,i,Uo)}}var Kv=Zv;let Zf=null;function Jv(m){Zf=m}function Rf(){return Zf}async function Tf(m,e=1,i=25){const a=await(await fetch(`${m}?page=${e}&size=${i}`)).json();if(a.status==="success")return{data:a.data,totalPages:a.totalPages,currentPage:a.currentPage};throw new Error(a.message||"Failed to fetch data")}async function Iv(m,e,i){const a=await(await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rowNumber:e,updatedValues:i})})).json();if(a.status!=="success")throw new Error(a.message||"Failed to update row");return a}const $v=[{title:"unique_id",field:"unique_id"},{title:"class_date",field:"class_date"},{title:"date",field:"date"},{title:"day",field:"day",sorter:"string"},{title:"month",field:"month"},{title:"year",field:"year"},{title:"userid",field:"userid"},{title:"batchid",field:"batchid"},{title:"roomid",field:"roomid"},{title:"usercount",field:"usercount"},{title:"mentor_name",field:"mentor_name",sorter:"string"},{title:"mentor_pwid",field:"mentor_pwid"},{title:"mentor_email",field:"mentor_email",sorter:"string"},{title:"mentor_phone",field:"mentor_phone"},{title:"batch_name",field:"batch_name",sorter:"string"},{title:"student_name",field:"student_name",sorter:"string"},{title:"primarynumber",field:"primarynumber"},{title:"class",field:"class"},{title:"first_payment_date",field:"first_payment_date"},{title:"e-mandate",field:"e-mandate"},{title:"roll_no",field:"roll_no"},{title:"erp_id",field:"erp_id"},{title:"watchtime_in_minutes",field:"watchtime_in_minutes"},{title:"rating",field:"rating"},{title:"feedback",field:"feedback"},{title:"attendance",field:"attendance"},{title:"absent_count",field:"absent_count"}],Go="https://script.google.com/macros/s/AKfycbyxay9MtJma37qCr6O81ew7uReaQuTA3xCsE_nyW198vC8AP6d2wsYIwguE37q9IEA3/exec";function ey(){const m=Vs.useRef(null),[e,i]=Vs.useState(1),[l,a]=Vs.useState(1),[o,h]=Vs.useState(!1);async function d(f){const p=Rf();p&&p.alert("Please wait, loading data..."),h(!0);try{const{data:b,totalPages:y,currentPage:w}=await Tf(Go,f);p&&(await p.setData(b),a(y),i(w))}catch(b){p&&p.alert("Failed to load data","error",3e3),console.error("Failed to load page:",b)}finally{h(!1),p&&p.clearAlert()}}return Vs.useEffect(()=>{async function f(){if(m.current&&!Rf()){const{data:p,totalPages:b,currentPage:y}=await Tf(Go,1),w=new Kv(m.current,{index:"unique_id",height:"80%",layout:"fitDataStretch",pagination:!1,data:p,columns:$v,cellEdited:async M=>{const H=M.getRow().getData(),_=H.unique_id;try{await Iv(Go,_,H),console.log("Row updated successfully")}catch(F){console.log("Failed to update row: "+F.message)}}});Jv(w),a(b),i(y)}}return f(),()=>{}},[]),Tt.jsxs("div",{children:[Tt.jsxs("div",{style:{margin:"1rem"},children:[Tt.jsx("div",{className:"alert alert-primary",role:"alert",children:"A simple primary alert—check it out!"}),Tt.jsx("button",{onClick:()=>d(e-1),disabled:o||e===1,children:"Previous"}),Tt.jsxs("span",{style:{margin:"0 10px"},children:["Page ",e," of ",l]}),Tt.jsx("button",{onClick:()=>d(e+1),disabled:o||e===l,children:"Next"})]}),Tt.jsx("div",{ref:m,style:{margin:"1rem"}})]})}function ty(){return Tt.jsx(Tt.Fragment,{children:Tt.jsx(ey,{})})}zg.createRoot(document.getElementById("root")).render(Tt.jsx(Vs.StrictMode,{children:Tt.jsx(ty,{})}));

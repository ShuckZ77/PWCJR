var mb=Object.defineProperty;var gb=(c,e,i)=>e in c?mb(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;var G=(c,e,i)=>gb(c,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();var eu={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function bb(){if(Vf)return Zl;Vf=1;var c=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(l,n,r){var u=null;if(r!==void 0&&(u=""+r),n.key!==void 0&&(u=""+n.key),"key"in n){r={};for(var d in n)d!=="key"&&(r[d]=n[d])}else r=n;return n=r.ref,{$$typeof:c,type:l,key:u,ref:n!==void 0?n:null,props:r}}return Zl.Fragment=e,Zl.jsx=i,Zl.jsxs=i,Zl}var Uf;function vb(){return Uf||(Uf=1,eu.exports=bb()),eu.exports}var kt=vb(),tu={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function yb(){if(Gf)return se;Gf=1;var c=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,k={};function H(R,V,Y){this.props=R,this.context=V,this.refs=k,this.updater=Y||E}H.prototype.isReactComponent={},H.prototype.setState=function(R,V){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,V,"setState")},H.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function M(){}M.prototype=H.prototype;function U(R,V,Y){this.props=R,this.context=V,this.refs=k,this.updater=Y||E}var P=U.prototype=new M;P.constructor=U,T(P,H.prototype),P.isPureReactComponent=!0;var K=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function me(R,V,Y,W,Z,de){return Y=de.ref,{$$typeof:c,type:R,key:V,ref:Y!==void 0?Y:null,props:de}}function re(R,V){return me(R.type,V,void 0,void 0,void 0,R.props)}function ve(R){return typeof R=="object"&&R!==null&&R.$$typeof===c}function Ve(R){var V={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Y){return V[Y]})}var $e=/\/+/g;function te(R,V){return typeof R=="object"&&R!==null&&R.key!=null?Ve(""+R.key):V.toString(36)}function ri(){}function At(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ri,ri):(R.status="pending",R.then(function(V){R.status==="pending"&&(R.status="fulfilled",R.value=V)},function(V){R.status==="pending"&&(R.status="rejected",R.reason=V)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Qe(R,V,Y,W,Z){var de=typeof R;(de==="undefined"||de==="boolean")&&(R=null);var ie=!1;if(R===null)ie=!0;else switch(de){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(R.$$typeof){case c:case e:ie=!0;break;case g:return ie=R._init,Qe(ie(R._payload),V,Y,W,Z)}}if(ie)return Z=Z(R),ie=W===""?"."+te(R,0):W,K(Z)?(Y="",ie!=null&&(Y=ie.replace($e,"$&/")+"/"),Qe(Z,V,Y,"",function(oi){return oi})):Z!=null&&(ve(Z)&&(Z=re(Z,Y+(Z.key==null||R&&R.key===Z.key?"":(""+Z.key).replace($e,"$&/")+"/")+ie)),V.push(Z)),1;ie=0;var rt=W===""?".":W+":";if(K(R))for(var Me=0;Me<R.length;Me++)W=R[Me],de=rt+te(W,Me),ie+=Qe(W,V,Y,de,Z);else if(Me=y(R),typeof Me=="function")for(R=Me.call(R),Me=0;!(W=R.next()).done;)W=W.value,de=rt+te(W,Me++),ie+=Qe(W,V,Y,de,Z);else if(de==="object"){if(typeof R.then=="function")return Qe(At(R),V,Y,W,Z);throw V=String(R),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ie}function _(R,V,Y){if(R==null)return R;var W=[],Z=0;return Qe(R,W,"","",function(de){return V.call(Y,de,Z++)}),W}function q(R){if(R._status===-1){var V=R._result;V=V(),V.then(function(Y){(R._status===0||R._status===-1)&&(R._status=1,R._result=Y)},function(Y){(R._status===0||R._status===-1)&&(R._status=2,R._result=Y)}),R._status===-1&&(R._status=0,R._result=V)}if(R._status===1)return R._result.default;throw R._result}var $=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Re(){}return se.Children={map:_,forEach:function(R,V,Y){_(R,function(){V.apply(this,arguments)},Y)},count:function(R){var V=0;return _(R,function(){V++}),V},toArray:function(R){return _(R,function(V){return V})||[]},only:function(R){if(!ve(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},se.Component=H,se.Fragment=i,se.Profiler=n,se.PureComponent=U,se.StrictMode=l,se.Suspense=p,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,se.__COMPILER_RUNTIME={__proto__:null,c:function(R){return j.H.useMemoCache(R)}},se.cache=function(R){return function(){return R.apply(null,arguments)}},se.cloneElement=function(R,V,Y){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var W=T({},R.props),Z=R.key,de=void 0;if(V!=null)for(ie in V.ref!==void 0&&(de=void 0),V.key!==void 0&&(Z=""+V.key),V)!he.call(V,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&V.ref===void 0||(W[ie]=V[ie]);var ie=arguments.length-2;if(ie===1)W.children=Y;else if(1<ie){for(var rt=Array(ie),Me=0;Me<ie;Me++)rt[Me]=arguments[Me+2];W.children=rt}return me(R.type,Z,void 0,void 0,de,W)},se.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:r,_context:R},R},se.createElement=function(R,V,Y){var W,Z={},de=null;if(V!=null)for(W in V.key!==void 0&&(de=""+V.key),V)he.call(V,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Z[W]=V[W]);var ie=arguments.length-2;if(ie===1)Z.children=Y;else if(1<ie){for(var rt=Array(ie),Me=0;Me<ie;Me++)rt[Me]=arguments[Me+2];Z.children=rt}if(R&&R.defaultProps)for(W in ie=R.defaultProps,ie)Z[W]===void 0&&(Z[W]=ie[W]);return me(R,de,void 0,void 0,null,Z)},se.createRef=function(){return{current:null}},se.forwardRef=function(R){return{$$typeof:d,render:R}},se.isValidElement=ve,se.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:q}},se.memo=function(R,V){return{$$typeof:m,type:R,compare:V===void 0?null:V}},se.startTransition=function(R){var V=j.T,Y={};j.T=Y;try{var W=R(),Z=j.S;Z!==null&&Z(Y,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Re,$)}catch(de){$(de)}finally{j.T=V}},se.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},se.use=function(R){return j.H.use(R)},se.useActionState=function(R,V,Y){return j.H.useActionState(R,V,Y)},se.useCallback=function(R,V){return j.H.useCallback(R,V)},se.useContext=function(R){return j.H.useContext(R)},se.useDebugValue=function(){},se.useDeferredValue=function(R,V){return j.H.useDeferredValue(R,V)},se.useEffect=function(R,V,Y){var W=j.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(R,V)},se.useId=function(){return j.H.useId()},se.useImperativeHandle=function(R,V,Y){return j.H.useImperativeHandle(R,V,Y)},se.useInsertionEffect=function(R,V){return j.H.useInsertionEffect(R,V)},se.useLayoutEffect=function(R,V){return j.H.useLayoutEffect(R,V)},se.useMemo=function(R,V){return j.H.useMemo(R,V)},se.useOptimistic=function(R,V){return j.H.useOptimistic(R,V)},se.useReducer=function(R,V,Y){return j.H.useReducer(R,V,Y)},se.useRef=function(R){return j.H.useRef(R)},se.useState=function(R){return j.H.useState(R)},se.useSyncExternalStore=function(R,V,Y){return j.H.useSyncExternalStore(R,V,Y)},se.useTransition=function(){return j.H.useTransition()},se.version="19.1.0",se}var jf;function Vu(){return jf||(jf=1,tu.exports=yb()),tu.exports}var F=Vu(),iu={exports:{}},Il={},su={exports:{}},lu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf;function wb(){return Pf||(Pf=1,function(c){function e(_,q){var $=_.length;_.push(q);e:for(;0<$;){var Re=$-1>>>1,R=_[Re];if(0<n(R,q))_[Re]=q,_[$]=R,$=Re;else break e}}function i(_){return _.length===0?null:_[0]}function l(_){if(_.length===0)return null;var q=_[0],$=_.pop();if($!==q){_[0]=$;e:for(var Re=0,R=_.length,V=R>>>1;Re<V;){var Y=2*(Re+1)-1,W=_[Y],Z=Y+1,de=_[Z];if(0>n(W,$))Z<R&&0>n(de,W)?(_[Re]=de,_[Z]=$,Re=Z):(_[Re]=W,_[Y]=$,Re=Y);else if(Z<R&&0>n(de,$))_[Re]=de,_[Z]=$,Re=Z;else break e}}return q}function n(_,q){var $=_.sortIndex-q.sortIndex;return $!==0?$:_.id-q.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;c.unstable_now=function(){return r.now()}}else{var u=Date,d=u.now();c.unstable_now=function(){return u.now()-d}}var p=[],m=[],g=1,w=null,y=3,E=!1,T=!1,k=!1,H=!1,M=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function K(_){for(var q=i(m);q!==null;){if(q.callback===null)l(m);else if(q.startTime<=_)l(m),q.sortIndex=q.expirationTime,e(p,q);else break;q=i(m)}}function j(_){if(k=!1,K(_),!T)if(i(p)!==null)T=!0,he||(he=!0,te());else{var q=i(m);q!==null&&Qe(j,q.startTime-_)}}var he=!1,me=-1,re=5,ve=-1;function Ve(){return H?!0:!(c.unstable_now()-ve<re)}function $e(){if(H=!1,he){var _=c.unstable_now();ve=_;var q=!0;try{e:{T=!1,k&&(k=!1,U(me),me=-1),E=!0;var $=y;try{t:{for(K(_),w=i(p);w!==null&&!(w.expirationTime>_&&Ve());){var Re=w.callback;if(typeof Re=="function"){w.callback=null,y=w.priorityLevel;var R=Re(w.expirationTime<=_);if(_=c.unstable_now(),typeof R=="function"){w.callback=R,K(_),q=!0;break t}w===i(p)&&l(p),K(_)}else l(p);w=i(p)}if(w!==null)q=!0;else{var V=i(m);V!==null&&Qe(j,V.startTime-_),q=!1}}break e}finally{w=null,y=$,E=!1}q=void 0}}finally{q?te():he=!1}}}var te;if(typeof P=="function")te=function(){P($e)};else if(typeof MessageChannel<"u"){var ri=new MessageChannel,At=ri.port2;ri.port1.onmessage=$e,te=function(){At.postMessage(null)}}else te=function(){M($e,0)};function Qe(_,q){me=M(function(){_(c.unstable_now())},q)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(_){_.callback=null},c.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<_?Math.floor(1e3/_):5},c.unstable_getCurrentPriorityLevel=function(){return y},c.unstable_next=function(_){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var $=y;y=q;try{return _()}finally{y=$}},c.unstable_requestPaint=function(){H=!0},c.unstable_runWithPriority=function(_,q){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var $=y;y=_;try{return q()}finally{y=$}},c.unstable_scheduleCallback=function(_,q,$){var Re=c.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Re+$:Re):$=Re,_){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=$+R,_={id:g++,callback:q,priorityLevel:_,startTime:$,expirationTime:R,sortIndex:-1},$>Re?(_.sortIndex=$,e(m,_),i(p)===null&&_===i(m)&&(k?(U(me),me=-1):k=!0,Qe(j,$-Re))):(_.sortIndex=R,e(p,_),T||E||(T=!0,he||(he=!0,te()))),_},c.unstable_shouldYield=Ve,c.unstable_wrapCallback=function(_){var q=y;return function(){var $=y;y=q;try{return _.apply(this,arguments)}finally{y=$}}}}(lu)),lu}var Wf;function Cb(){return Wf||(Wf=1,su.exports=wb()),su.exports}var nu={exports:{}},Ie={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function Eb(){if(qf)return Ie;qf=1;var c=Vu();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},n=Symbol.for("react.portal");function r(p,m,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:w==null?null:""+w,children:p,containerInfo:m,implementation:g}}var u=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ie.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ie.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return r(p,m,null,g)},Ie.flushSync=function(p){var m=u.T,g=l.p;try{if(u.T=null,l.p=2,p)return p()}finally{u.T=m,l.p=g,l.d.f()}},Ie.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(p,m))},Ie.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},Ie.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,w=d(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?l.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:y,fetchPriority:E}):g==="script"&&l.d.X(p,{crossOrigin:w,integrity:y,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ie.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);l.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(p)},Ie.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,w=d(g,m.crossOrigin);l.d.L(p,g,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ie.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=d(m.as,m.crossOrigin);l.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(p)},Ie.requestFormReset=function(p){l.d.r(p)},Ie.unstable_batchedUpdates=function(p,m){return p(m)},Ie.useFormState=function(p,m,g){return u.H.useFormState(p,m,g)},Ie.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ie.version="19.1.0",Ie}var Yf;function Rb(){if(Yf)return nu.exports;Yf=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(e){console.error(e)}}return c(),nu.exports=Eb(),nu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf;function Tb(){if(Xf)return Il;Xf=1;var c=Cb(),e=Vu(),i=Rb();function l(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function r(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function u(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function d(t){if(r(t)!==t)throw Error(l(188))}function p(t){var s=t.alternate;if(!s){if(s=r(t),s===null)throw Error(l(188));return s!==t?null:t}for(var a=t,o=s;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return d(h),t;if(f===o)return d(h),s;f=f.sibling}throw Error(l(188))}if(a.return!==o.return)a=h,o=f;else{for(var b=!1,v=h.child;v;){if(v===a){b=!0,a=h,o=f;break}if(v===o){b=!0,o=h,a=f;break}v=v.sibling}if(!b){for(v=f.child;v;){if(v===a){b=!0,a=f,o=h;break}if(v===o){b=!0,o=f,a=h;break}v=v.sibling}if(!b)throw Error(l(189))}}if(a.alternate!==o)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:s}function m(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=m(t),s!==null)return s;t=t.sibling}return null}var g=Object.assign,w=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),P=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),Ve=Symbol.for("react.memo_cache_sentinel"),$e=Symbol.iterator;function te(t){return t===null||typeof t!="object"?null:(t=$e&&t[$e]||t["@@iterator"],typeof t=="function"?t:null)}var ri=Symbol.for("react.client.reference");function At(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ri?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case H:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case he:return"SuspenseList";case ve:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case P:return(t.displayName||"Context")+".Provider";case U:return(t._context.displayName||"Context")+".Consumer";case K:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case me:return s=t.displayName||null,s!==null?s:At(t.type)||"Memo";case re:s=t._payload,t=t._init;try{return At(t(s))}catch{}}return null}var Qe=Array.isArray,_=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Re=[],R=-1;function V(t){return{current:t}}function Y(t){0>R||(t.current=Re[R],Re[R]=null,R--)}function W(t,s){R++,Re[R]=t.current,t.current=s}var Z=V(null),de=V(null),ie=V(null),rt=V(null);function Me(t,s){switch(W(ie,s),W(de,t),W(Z,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?ff(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=ff(s),t=pf(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(Z),W(Z,t)}function oi(){Y(Z),Y(de),Y(ie)}function Fa(t){t.memoizedState!==null&&W(rt,t);var s=Z.current,a=pf(s,t.type);s!==a&&(W(de,t),W(Z,a))}function dn(t){de.current===t&&(Y(Z),Y(de)),rt.current===t&&(Y(rt),ql._currentValue=$)}var Va=Object.prototype.hasOwnProperty,Ua=c.unstable_scheduleCallback,Ga=c.unstable_cancelCallback,Xp=c.unstable_shouldYield,Qp=c.unstable_requestPaint,Ht=c.unstable_now,Kp=c.unstable_getCurrentPriorityLevel,Yu=c.unstable_ImmediatePriority,Xu=c.unstable_UserBlockingPriority,fn=c.unstable_NormalPriority,Zp=c.unstable_LowPriority,Qu=c.unstable_IdlePriority,Ip=c.log,Jp=c.unstable_setDisableYieldValue,$s=null,ot=null;function ui(t){if(typeof Ip=="function"&&Jp(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode($s,t)}catch{}}var ut=Math.clz32?Math.clz32:tm,$p=Math.log,em=Math.LN2;function tm(t){return t>>>=0,t===0?32:31-($p(t)/em|0)|0}var pn=256,mn=4194304;function Vi(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var v=o&134217727;return v!==0?(o=v&~f,o!==0?h=Vi(o):(b&=v,b!==0?h=Vi(b):a||(a=v&~t,a!==0&&(h=Vi(a))))):(v=o&~f,v!==0?h=Vi(v):b!==0?h=Vi(b):a||(a=o&~t,a!==0&&(h=Vi(a)))),h===0?0:s!==0&&s!==h&&(s&f)===0&&(f=h&-h,a=s&-s,f>=a||f===32&&(a&4194048)!==0)?s:h}function el(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function im(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ku(){var t=pn;return pn<<=1,(pn&4194048)===0&&(pn=256),t}function Zu(){var t=mn;return mn<<=1,(mn&62914560)===0&&(mn=4194304),t}function ja(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function tl(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function sm(t,s,a,o,h,f){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=b&~a;0<a;){var O=31-ut(a),N=1<<O;v[O]=0,C[O]=-1;var L=z[O];if(L!==null)for(z[O]=null,O=0;O<L.length;O++){var A=L[O];A!==null&&(A.lane&=-536870913)}a&=~N}o!==0&&Iu(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~s))}function Iu(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-ut(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function Ju(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-ut(a),h=1<<o;h&s|t[o]&s&&(t[o]|=s),a&=~h}}function Pa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $u(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Hf(t.type))}function lm(t,s){var a=q.p;try{return q.p=t,s()}finally{q.p=a}}var hi=Math.random().toString(36).slice(2),Ke="__reactFiber$"+hi,tt="__reactProps$"+hi,os="__reactContainer$"+hi,qa="__reactEvents$"+hi,nm="__reactListeners$"+hi,am="__reactHandles$"+hi,eh="__reactResources$"+hi,il="__reactMarker$"+hi;function Ya(t){delete t[Ke],delete t[tt],delete t[qa],delete t[nm],delete t[am]}function us(t){var s=t[Ke];if(s)return s;for(var a=t.parentNode;a;){if(s=a[os]||a[Ke]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=vf(t);t!==null;){if(a=t[Ke])return a;t=vf(t)}return s}t=a,a=t.parentNode}return null}function hs(t){if(t=t[Ke]||t[os]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function sl(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(l(33))}function cs(t){var s=t[eh];return s||(s=t[eh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ue(t){t[il]=!0}var th=new Set,ih={};function Ui(t,s){ds(t,s),ds(t+"Capture",s)}function ds(t,s){for(ih[t]=s,t=0;t<s.length;t++)th.add(s[t])}var rm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sh={},lh={};function om(t){return Va.call(lh,t)?!0:Va.call(sh,t)?!1:rm.test(t)?lh[t]=!0:(sh[t]=!0,!1)}function bn(t,s,a){if(om(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function vn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Gt(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}var Xa,nh;function fs(t){if(Xa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Xa=s&&s[1]||"",nh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+t+nh}var Qa=!1;function Ka(t,s){if(!t||Qa)return"";Qa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var N=function(){throw Error()};if(Object.defineProperty(N.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(N,[])}catch(A){var L=A}Reflect.construct(t,[],N)}else{try{N.call()}catch(A){L=A}t.call(N.prototype)}}else{try{throw Error()}catch(A){L=A}(N=t())&&typeof N.catch=="function"&&N.catch(function(){})}}catch(A){if(A&&L&&typeof A.stack=="string")return[A.stack,L.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),b=f[0],v=f[1];if(b&&v){var C=b.split(`
`),z=v.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var O=`
`+C[o].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=o&&0<=h);break}}}finally{Qa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fs(a):""}function um(t){switch(t.tag){case 26:case 27:case 5:return fs(t.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 15:return Ka(t.type,!1);case 11:return Ka(t.type.render,!1);case 1:return Ka(t.type,!0);case 31:return fs("Activity");default:return""}}function ah(t){try{var s="";do s+=um(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rh(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hm(t){var s=rh(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),o=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){o=""+b,f.call(this,b)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function yn(t){t._valueTracker||(t._valueTracker=hm(t))}function oh(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=rh(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function wn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cm=/[\n"\\]/g;function yt(t){return t.replace(cm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Za(t,s,a,o,h,f,b,v){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+vt(s)):t.value!==""+vt(s)&&(t.value=""+vt(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?Ia(t,b,vt(s)):a!=null?Ia(t,b,vt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+vt(v):t.removeAttribute("name")}function uh(t,s,a,o,h,f,b,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||s!=null))return;a=a!=null?""+vt(a):"",s=s!=null?""+vt(s):a,v||s===t.value||(t.value=s),t.defaultValue=s}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Ia(t,s,a){s==="number"&&wn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ps(t,s,a,o){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+vt(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function hh(t,s,a){if(s!=null&&(s=""+vt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+vt(a):""}function ch(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(l(92));if(Qe(o)){if(1<o.length)throw Error(l(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=vt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function ms(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var dm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dh(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||dm.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function fh(t,s,a){if(s!=null&&typeof s!="object")throw Error(l(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in s)o=s[h],s.hasOwnProperty(h)&&a[h]!==o&&dh(t,h,o)}else for(var f in s)s.hasOwnProperty(f)&&dh(t,f,s[f])}function Ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cn(t){return pm.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $a=null;function er(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gs=null,bs=null;function ph(t){var s=hs(t);if(s&&(t=s.stateNode)){var a=t[tt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Za(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var h=o[tt]||null;if(!h)throw Error(l(90));Za(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&oh(o)}break e;case"textarea":hh(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ps(t,!!a.multiple,s,!1)}}}var tr=!1;function mh(t,s,a){if(tr)return t(s,a);tr=!0;try{var o=t(s);return o}finally{if(tr=!1,(gs!==null||bs!==null)&&(aa(),gs&&(s=gs,t=bs,bs=gs=null,ph(s),t)))for(s=0;s<t.length;s++)ph(t[s])}}function ll(t,s){var a=t.stateNode;if(a===null)return null;var o=a[tt]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,s,typeof a));return a}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ir=!1;if(jt)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){ir=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{ir=!1}var ci=null,sr=null,En=null;function gh(){if(En)return En;var t,s=sr,a=s.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(t=0;t<a&&s[t]===h[t];t++);var b=a-t;for(o=1;o<=b&&s[a-o]===h[f-o];o++);return En=h.slice(t,1<o?1-o:void 0)}function Rn(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Tn(){return!0}function bh(){return!1}function it(t){function s(a,o,h,f,b){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Tn:bh,this.isPropagationStopped=bh,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Tn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Tn)},persist:function(){},isPersistent:Tn}),s}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sn=it(Gi),al=g({},Gi,{view:0,detail:0}),mm=it(al),lr,nr,rl,xn=g({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rl&&(rl&&t.type==="mousemove"?(lr=t.screenX-rl.screenX,nr=t.screenY-rl.screenY):nr=lr=0,rl=t),lr)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),vh=it(xn),gm=g({},xn,{dataTransfer:0}),bm=it(gm),vm=g({},al,{relatedTarget:0}),ar=it(vm),ym=g({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=it(ym),Cm=g({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Em=it(Cm),Rm=g({},Gi,{data:0}),yh=it(Rm),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=xm[t])?!!s[t]:!1}function rr(){return Mm}var Dm=g({},al,{key:function(t){if(t.key){var s=Tm[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Rn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(t){return t.type==="keypress"?Rn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zm=it(Dm),Lm=g({},xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wh=it(Lm),km=g({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),Am=it(km),Hm=g({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Om=it(Hm),_m=g({},xn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bm=it(_m),Nm=g({},Gi,{newState:0,oldState:0}),Fm=it(Nm),Vm=[9,13,27,32],or=jt&&"CompositionEvent"in window,ol=null;jt&&"documentMode"in document&&(ol=document.documentMode);var Um=jt&&"TextEvent"in window&&!ol,Ch=jt&&(!or||ol&&8<ol&&11>=ol),Eh=" ",Rh=!1;function Th(t,s){switch(t){case"keyup":return Vm.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function Gm(t,s){switch(t){case"compositionend":return Sh(s);case"keypress":return s.which!==32?null:(Rh=!0,Eh);case"textInput":return t=s.data,t===Eh&&Rh?null:t;default:return null}}function jm(t,s){if(vs)return t==="compositionend"||!or&&Th(t,s)?(t=gh(),En=sr=ci=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ch&&s.locale!=="ko"?null:s.data;default:return null}}var Pm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Pm[t.type]:s==="textarea"}function Mh(t,s,a,o){gs?bs?bs.push(o):bs=[o]:gs=o,s=da(s,"onChange"),0<s.length&&(a=new Sn("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var ul=null,hl=null;function Wm(t){of(t,0)}function Mn(t){var s=sl(t);if(oh(s))return t}function Dh(t,s){if(t==="change")return s}var zh=!1;if(jt){var ur;if(jt){var hr="oninput"in document;if(!hr){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),hr=typeof Lh.oninput=="function"}ur=hr}else ur=!1;zh=ur&&(!document.documentMode||9<document.documentMode)}function kh(){ul&&(ul.detachEvent("onpropertychange",Ah),hl=ul=null)}function Ah(t){if(t.propertyName==="value"&&Mn(hl)){var s=[];Mh(s,hl,t,er(t)),mh(Wm,s)}}function qm(t,s,a){t==="focusin"?(kh(),ul=s,hl=a,ul.attachEvent("onpropertychange",Ah)):t==="focusout"&&kh()}function Ym(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mn(hl)}function Xm(t,s){if(t==="click")return Mn(s)}function Qm(t,s){if(t==="input"||t==="change")return Mn(s)}function Km(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var ht=typeof Object.is=="function"?Object.is:Km;function cl(t,s){if(ht(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Va.call(s,h)||!ht(t[h],s[h]))return!1}return!0}function Hh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Oh(t,s){var a=Hh(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Hh(a)}}function _h(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?_h(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Bh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=wn(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=wn(t.document)}return s}function cr(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Zm=jt&&"documentMode"in document&&11>=document.documentMode,ys=null,dr=null,dl=null,fr=!1;function Nh(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fr||ys==null||ys!==wn(o)||(o=ys,"selectionStart"in o&&cr(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),dl&&cl(dl,o)||(dl=o,o=da(dr,"onSelect"),0<o.length&&(s=new Sn("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=ys)))}function ji(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ws={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionrun:ji("Transition","TransitionRun"),transitionstart:ji("Transition","TransitionStart"),transitioncancel:ji("Transition","TransitionCancel"),transitionend:ji("Transition","TransitionEnd")},pr={},Fh={};jt&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Pi(t){if(pr[t])return pr[t];if(!ws[t])return t;var s=ws[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Fh)return pr[t]=s[a];return t}var Vh=Pi("animationend"),Uh=Pi("animationiteration"),Gh=Pi("animationstart"),Im=Pi("transitionrun"),Jm=Pi("transitionstart"),$m=Pi("transitioncancel"),jh=Pi("transitionend"),Ph=new Map,mr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mr.push("scrollEnd");function Mt(t,s){Ph.set(t,s),Ui(s,[t])}var Wh=new WeakMap;function wt(t,s){if(typeof t=="object"&&t!==null){var a=Wh.get(t);return a!==void 0?a:(s={value:t,source:s,stack:ah(s)},Wh.set(t,s),s)}return{value:t,source:s,stack:ah(s)}}var Ct=[],Cs=0,gr=0;function Dn(){for(var t=Cs,s=gr=Cs=0;s<t;){var a=Ct[s];Ct[s++]=null;var o=Ct[s];Ct[s++]=null;var h=Ct[s];Ct[s++]=null;var f=Ct[s];if(Ct[s++]=null,o!==null&&h!==null){var b=o.pending;b===null?h.next=h:(h.next=b.next,b.next=h),o.pending=h}f!==0&&qh(a,h,f)}}function zn(t,s,a,o){Ct[Cs++]=t,Ct[Cs++]=s,Ct[Cs++]=a,Ct[Cs++]=o,gr|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function br(t,s,a,o){return zn(t,s,a,o),Ln(t)}function Es(t,s){return zn(t,null,null,s),Ln(t)}function qh(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&s!==null&&(h=31-ut(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[s]:o.push(s),s.lane=a|536870912),f):null}function Ln(t){if(50<Nl)throw Nl=0,To=null,Error(l(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Rs={};function eg(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(t,s,a,o){return new eg(t,s,a,o)}function vr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pt(t,s){var a=t.alternate;return a===null?(a=ct(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yh(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function kn(t,s,a,o,h,f){var b=0;if(o=t,typeof t=="function")vr(t)&&(b=1);else if(typeof t=="string")b=ib(t,a,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ve:return t=ct(31,a,s,h),t.elementType=ve,t.lanes=f,t;case T:return Wi(a.children,h,f,s);case k:b=8,h|=24;break;case H:return t=ct(12,a,s,h|2),t.elementType=H,t.lanes=f,t;case j:return t=ct(13,a,s,h),t.elementType=j,t.lanes=f,t;case he:return t=ct(19,a,s,h),t.elementType=he,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:case P:b=10;break e;case U:b=9;break e;case K:b=11;break e;case me:b=14;break e;case re:b=16,o=null;break e}b=29,a=Error(l(130,t===null?"null":typeof t,"")),o=null}return s=ct(b,a,s,h),s.elementType=t,s.type=o,s.lanes=f,s}function Wi(t,s,a,o){return t=ct(7,t,o,s),t.lanes=a,t}function yr(t,s,a){return t=ct(6,t,null,s),t.lanes=a,t}function wr(t,s,a){return s=ct(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Ts=[],Ss=0,An=null,Hn=0,Et=[],Rt=0,qi=null,Wt=1,qt="";function Yi(t,s){Ts[Ss++]=Hn,Ts[Ss++]=An,An=t,Hn=s}function Xh(t,s,a){Et[Rt++]=Wt,Et[Rt++]=qt,Et[Rt++]=qi,qi=t;var o=Wt;t=qt;var h=32-ut(o)-1;o&=~(1<<h),a+=1;var f=32-ut(s)+h;if(30<f){var b=h-h%5;f=(o&(1<<b)-1).toString(32),o>>=b,h-=b,Wt=1<<32-ut(s)+h|a<<h|o,qt=f+t}else Wt=1<<f|a<<h|o,qt=t}function Cr(t){t.return!==null&&(Yi(t,1),Xh(t,1,0))}function Er(t){for(;t===An;)An=Ts[--Ss],Ts[Ss]=null,Hn=Ts[--Ss],Ts[Ss]=null;for(;t===qi;)qi=Et[--Rt],Et[Rt]=null,qt=Et[--Rt],Et[Rt]=null,Wt=Et[--Rt],Et[Rt]=null}var et=null,Le=null,pe=!1,Xi=null,Ot=!1,Rr=Error(l(519));function Qi(t){var s=Error(l(418,""));throw ml(wt(s,t)),Rr}function Qh(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[Ke]=t,s[tt]=o,a){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(a=0;a<Vl.length;a++)ue(Vl[a],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":ue("invalid",s),uh(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),yn(s);break;case"select":ue("invalid",s);break;case"textarea":ue("invalid",s),ch(s,o.value,o.defaultValue,o.children),yn(s)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||df(s.textContent,a)?(o.popover!=null&&(ue("beforetoggle",s),ue("toggle",s)),o.onScroll!=null&&ue("scroll",s),o.onScrollEnd!=null&&ue("scrollend",s),o.onClick!=null&&(s.onclick=fa),s=!0):s=!1,s||Qi(t)}function Kh(t){for(et=t.return;et;)switch(et.tag){case 5:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:et=et.return}}function fl(t){if(t!==et)return!1;if(!pe)return Kh(t),pe=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Uo(t.type,t.memoizedProps)),a=!a),a&&Le&&Qi(t),Kh(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){Le=zt(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}Le=null}}else s===27?(s=Le,Mi(t.type)?(t=Wo,Wo=null,Le=t):Le=s):Le=et?zt(t.stateNode.nextSibling):null;return!0}function pl(){Le=et=null,pe=!1}function Zh(){var t=Xi;return t!==null&&(nt===null?nt=t:nt.push.apply(nt,t),Xi=null),t}function ml(t){Xi===null?Xi=[t]:Xi.push(t)}var Tr=V(null),Ki=null,Yt=null;function di(t,s,a){W(Tr,s._currentValue),s._currentValue=a}function Xt(t){t._currentValue=Tr.current,Y(Tr)}function Sr(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function xr(t,s,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var b=h.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=h;for(var C=0;C<s.length;C++)if(v.context===s[C]){f.lanes|=a,v=f.alternate,v!==null&&(v.lanes|=a),Sr(f.return,a,t),o||(b=null);break e}f=v.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(l(341));b.lanes|=a,f=b.alternate,f!==null&&(f.lanes|=a),Sr(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function gl(t,s,a,o){t=null;for(var h=s,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(l(387));if(b=b.memoizedProps,b!==null){var v=h.type;ht(h.pendingProps.value,b.value)||(t!==null?t.push(v):t=[v])}}else if(h===rt.current){if(b=h.alternate,b===null)throw Error(l(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}h=h.return}t!==null&&xr(s,t,a,o),s.flags|=262144}function On(t){for(t=t.firstContext;t!==null;){if(!ht(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zi(t){Ki=t,Yt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ze(t){return Ih(Ki,t)}function _n(t,s){return Ki===null&&Zi(t),Ih(t,s)}function Ih(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Yt===null){if(t===null)throw Error(l(308));Yt=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Yt=Yt.next=s;return a}var tg=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},ig=c.unstable_scheduleCallback,sg=c.unstable_NormalPriority,Be={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mr(){return{controller:new tg,data:new Map,refCount:0}}function bl(t){t.refCount--,t.refCount===0&&ig(sg,function(){t.controller.abort()})}var vl=null,Dr=0,xs=0,Ms=null;function lg(t,s){if(vl===null){var a=vl=[];Dr=0,xs=ko(),Ms={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Dr++,s.then(Jh,Jh),s}function Jh(){if(--Dr===0&&vl!==null){Ms!==null&&(Ms.status="fulfilled");var t=vl;vl=null,xs=0,Ms=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function ng(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var $h=_.S;_.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&lg(t,s),$h!==null&&$h(t,s)};var Ii=V(null);function zr(){var t=Ii.current;return t!==null?t:xe.pooledCache}function Bn(t,s){s===null?W(Ii,Ii.current):W(Ii,s.pool)}function ec(){var t=zr();return t===null?null:{parent:Be._currentValue,pool:t}}var yl=Error(l(460)),tc=Error(l(474)),Nn=Error(l(542)),Lr={then:function(){}};function ic(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fn(){}function sc(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Fn,Fn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,nc(t),t;default:if(typeof s.status=="string")s.then(Fn,Fn);else{if(t=xe,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=o}},function(o){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,nc(t),t}throw wl=s,yl}}var wl=null;function lc(){if(wl===null)throw Error(l(459));var t=wl;return wl=null,t}function nc(t){if(t===yl||t===Nn)throw Error(l(483))}var fi=!1;function kr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ar(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mi(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ge&2)!==0){var h=o.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),o.pending=s,s=Ln(t),qh(t,null,a),s}return zn(t,o,s,a),Ln(t)}function Cl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Ju(t,a)}}function Hr(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=b:f=f.next=b,a=a.next}while(a!==null);f===null?h=f=s:f=f.next=s}else h=f=s;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Or=!1;function El(){if(Or){var t=Ms;if(t!==null)throw t}}function Rl(t,s,a,o){Or=!1;var h=t.updateQueue;fi=!1;var f=h.firstBaseUpdate,b=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var C=v,z=C.next;C.next=null,b===null?f=z:b.next=z,b=C;var O=t.alternate;O!==null&&(O=O.updateQueue,v=O.lastBaseUpdate,v!==b&&(v===null?O.firstBaseUpdate=z:v.next=z,O.lastBaseUpdate=C))}if(f!==null){var N=h.baseState;b=0,O=z=C=null,v=f;do{var L=v.lane&-536870913,A=L!==v.lane;if(A?(ce&L)===L:(o&L)===L){L!==0&&L===xs&&(Or=!0),O!==null&&(O=O.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ee=t,I=v;L=s;var Ce=a;switch(I.tag){case 1:if(ee=I.payload,typeof ee=="function"){N=ee.call(Ce,N,L);break e}N=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=I.payload,L=typeof ee=="function"?ee.call(Ce,N,L):ee,L==null)break e;N=g({},N,L);break e;case 2:fi=!0}}L=v.callback,L!==null&&(t.flags|=64,A&&(t.flags|=8192),A=h.callbacks,A===null?h.callbacks=[L]:A.push(L))}else A={lane:L,tag:v.tag,payload:v.payload,callback:v.callback,next:null},O===null?(z=O=A,C=N):O=O.next=A,b|=L;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;A=v,v=A.next,A.next=null,h.lastBaseUpdate=A,h.shared.pending=null}}while(!0);O===null&&(C=N),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=O,f===null&&(h.shared.lanes=0),Ri|=b,t.lanes=b,t.memoizedState=N}}function ac(t,s){if(typeof t!="function")throw Error(l(191,t));t.call(s)}function rc(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ac(a[t],s)}var Ds=V(null),Vn=V(0);function oc(t,s){t=ei,W(Vn,t),W(Ds,s),ei=t|s.baseLanes}function _r(){W(Vn,ei),W(Ds,Ds.current)}function Br(){ei=Vn.current,Y(Ds),Y(Vn)}var gi=0,ne=null,ye=null,Oe=null,Un=!1,zs=!1,Ji=!1,Gn=0,Tl=0,Ls=null,ag=0;function Ae(){throw Error(l(321))}function Nr(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!ht(t[a],s[a]))return!1;return!0}function Fr(t,s,a,o,h,f){return gi=f,ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_.H=t===null||t.memoizedState===null?qc:Yc,Ji=!1,f=a(o,h),Ji=!1,zs&&(f=hc(s,a,o,h)),uc(t),f}function uc(t){_.H=Xn;var s=ye!==null&&ye.next!==null;if(gi=0,Oe=ye=ne=null,Un=!1,Tl=0,Ls=null,s)throw Error(l(300));t===null||Ge||(t=t.dependencies,t!==null&&On(t)&&(Ge=!0))}function hc(t,s,a,o){ne=t;var h=0;do{if(zs&&(Ls=null),Tl=0,zs=!1,25<=h)throw Error(l(301));if(h+=1,Oe=ye=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}_.H=fg,f=s(a,o)}while(zs);return f}function rg(){var t=_.H,s=t.useState()[0];return s=typeof s.then=="function"?Sl(s):s,t=t.useState()[0],(ye!==null?ye.memoizedState:null)!==t&&(ne.flags|=1024),s}function Vr(){var t=Gn!==0;return Gn=0,t}function Ur(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Gr(t){if(Un){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Un=!1}gi=0,Oe=ye=ne=null,zs=!1,Tl=Gn=0,Ls=null}function st(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ne.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function _e(){if(ye===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var s=Oe===null?ne.memoizedState:Oe.next;if(s!==null)Oe=s,ye=t;else{if(t===null)throw ne.alternate===null?Error(l(467)):Error(l(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Oe===null?ne.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function jr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var s=Tl;return Tl+=1,Ls===null&&(Ls=[]),t=sc(Ls,t,s),s=ne,(Oe===null?s.memoizedState:Oe.next)===null&&(s=s.alternate,_.H=s===null||s.memoizedState===null?qc:Yc),t}function jn(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===P)return Ze(t)}throw Error(l(438,String(t)))}function Pr(t){var s=null,a=ne.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=jr(),ne.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=Ve;return s.index++,a}function Qt(t,s){return typeof s=="function"?s(t):s}function Pn(t){var s=_e();return Wr(s,ye,t)}function Wr(t,s,a){var o=t.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var b=h.next;h.next=f.next,f.next=b}s.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{s=h.next;var v=b=null,C=null,z=s,O=!1;do{var N=z.lane&-536870913;if(N!==z.lane?(ce&N)===N:(gi&N)===N){var L=z.revertLane;if(L===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),N===xs&&(O=!0);else if((gi&L)===L){z=z.next,L===xs&&(O=!0);continue}else N={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(v=C=N,b=f):C=C.next=N,ne.lanes|=L,Ri|=L;N=z.action,Ji&&a(f,N),f=z.hasEagerState?z.eagerState:a(f,N)}else L={lane:N,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(v=C=L,b=f):C=C.next=L,ne.lanes|=N,Ri|=N;z=z.next}while(z!==null&&z!==s);if(C===null?b=f:C.next=v,!ht(f,t.memoizedState)&&(Ge=!0,O&&(a=Ms,a!==null)))throw a;t.memoizedState=f,t.baseState=b,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function qr(t){var s=_e(),a=s.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=s.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do f=t(f,b.action),b=b.next;while(b!==h);ht(f,s.memoizedState)||(Ge=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,o]}function cc(t,s,a){var o=ne,h=_e(),f=pe;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=s();var b=!ht((ye||h).memoizedState,a);b&&(h.memoizedState=a,Ge=!0),h=h.queue;var v=pc.bind(null,o,h,t);if(xl(2048,8,v,[t]),h.getSnapshot!==s||b||Oe!==null&&Oe.memoizedState.tag&1){if(o.flags|=2048,ks(9,Wn(),fc.bind(null,o,h,a,s),null),xe===null)throw Error(l(349));f||(gi&124)!==0||dc(o,s,a)}return a}function dc(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ne.updateQueue,s===null?(s=jr(),ne.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function fc(t,s,a,o){s.value=a,s.getSnapshot=o,mc(s)&&gc(t)}function pc(t,s,a){return a(function(){mc(s)&&gc(t)})}function mc(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!ht(t,a)}catch{return!0}}function gc(t){var s=Es(t,2);s!==null&&gt(s,t,2)}function Yr(t){var s=st();if(typeof t=="function"){var a=t;if(t=a(),Ji){ui(!0);try{a()}finally{ui(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:t},s}function bc(t,s,a,o){return t.baseState=a,Wr(t,ye,typeof o=="function"?o:Qt)}function og(t,s,a,o,h){if(Yn(t))throw Error(l(485));if(t=s.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};_.T!==null?a(!0):f.isTransition=!1,o(f),a=s.pending,a===null?(f.next=s.pending=f,vc(s,f)):(f.next=a.next,s.pending=a.next=f)}}function vc(t,s){var a=s.action,o=s.payload,h=t.state;if(s.isTransition){var f=_.T,b={};_.T=b;try{var v=a(h,o),C=_.S;C!==null&&C(b,v),yc(t,s,v)}catch(z){Xr(t,s,z)}finally{_.T=f}}else try{f=a(h,o),yc(t,s,f)}catch(z){Xr(t,s,z)}}function yc(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){wc(t,s,o)},function(o){return Xr(t,s,o)}):wc(t,s,a)}function wc(t,s,a){s.status="fulfilled",s.value=a,Cc(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,vc(t,a)))}function Xr(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,Cc(s),s=s.next;while(s!==o)}t.action=null}function Cc(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Ec(t,s){return s}function Rc(t,s){if(pe){var a=xe.formState;if(a!==null){e:{var o=ne;if(pe){if(Le){t:{for(var h=Le,f=Ot;h.nodeType!==8;){if(!f){h=null;break t}if(h=zt(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Le=zt(h.nextSibling),o=h.data==="F!";break e}}Qi(o)}o=!1}o&&(s=a[0])}}return a=st(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:s},a.queue=o,a=jc.bind(null,ne,o),o.dispatch=a,o=Yr(!1),f=Jr.bind(null,ne,!1,o.queue),o=st(),h={state:s,dispatch:null,action:t,pending:null},o.queue=h,a=og.bind(null,ne,h,f,a),h.dispatch=a,o.memoizedState=t,[s,a,!1]}function Tc(t){var s=_e();return Sc(s,ye,t)}function Sc(t,s,a){if(s=Wr(t,s,Ec)[0],t=Pn(Qt)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=Sl(s)}catch(b){throw b===yl?Nn:b}else o=s;s=_e();var h=s.queue,f=h.dispatch;return a!==s.memoizedState&&(ne.flags|=2048,ks(9,Wn(),ug.bind(null,h,a),null)),[o,f,t]}function ug(t,s){t.action=s}function xc(t){var s=_e(),a=ye;if(a!==null)return Sc(s,a,t);_e(),s=s.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function ks(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=ne.updateQueue,s===null&&(s=jr(),ne.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function Wn(){return{destroy:void 0,resource:void 0}}function Mc(){return _e().memoizedState}function qn(t,s,a,o){var h=st();o=o===void 0?null:o,ne.flags|=t,h.memoizedState=ks(1|s,Wn(),a,o)}function xl(t,s,a,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;ye!==null&&o!==null&&Nr(o,ye.memoizedState.deps)?h.memoizedState=ks(s,f,a,o):(ne.flags|=t,h.memoizedState=ks(1|s,f,a,o))}function Dc(t,s){qn(8390656,8,t,s)}function zc(t,s){xl(2048,8,t,s)}function Lc(t,s){return xl(4,2,t,s)}function kc(t,s){return xl(4,4,t,s)}function Ac(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Hc(t,s,a){a=a!=null?a.concat([t]):null,xl(4,4,Ac.bind(null,s,t),a)}function Qr(){}function Oc(t,s){var a=_e();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&Nr(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function _c(t,s){var a=_e();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&Nr(s,o[1]))return o[0];if(o=t(),Ji){ui(!0);try{t()}finally{ui(!1)}}return a.memoizedState=[o,s],o}function Kr(t,s,a){return a===void 0||(gi&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=Fd(),ne.lanes|=t,Ri|=t,a)}function Bc(t,s,a,o){return ht(a,s)?a:Ds.current!==null?(t=Kr(t,a,o),ht(t,s)||(Ge=!0),t):(gi&42)===0?(Ge=!0,t.memoizedState=a):(t=Fd(),ne.lanes|=t,Ri|=t,s)}function Nc(t,s,a,o,h){var f=q.p;q.p=f!==0&&8>f?f:8;var b=_.T,v={};_.T=v,Jr(t,!1,s,a);try{var C=h(),z=_.S;if(z!==null&&z(v,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var O=ng(C,o);Ml(t,s,O,mt(t))}else Ml(t,s,o,mt(t))}catch(N){Ml(t,s,{then:function(){},status:"rejected",reason:N},mt())}finally{q.p=f,_.T=b}}function hg(){}function Zr(t,s,a,o){if(t.tag!==5)throw Error(l(476));var h=Fc(t).queue;Nc(t,h,s,$,a===null?hg:function(){return Vc(t),a(o)})}function Fc(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:$},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Vc(t){var s=Fc(t).next.queue;Ml(t,s,{},mt())}function Ir(){return Ze(ql)}function Uc(){return _e().memoizedState}function Gc(){return _e().memoizedState}function cg(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=mt();t=pi(a);var o=mi(s,t,a);o!==null&&(gt(o,s,a),Cl(o,s,a)),s={cache:Mr()},t.payload=s;return}s=s.return}}function dg(t,s,a){var o=mt();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yn(t)?Pc(s,a):(a=br(t,s,a,o),a!==null&&(gt(a,t,o),Wc(a,s,o)))}function jc(t,s,a){var o=mt();Ml(t,s,a,o)}function Ml(t,s,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yn(t))Pc(s,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var b=s.lastRenderedState,v=f(b,a);if(h.hasEagerState=!0,h.eagerState=v,ht(v,b))return zn(t,s,h,0),xe===null&&Dn(),!1}catch{}finally{}if(a=br(t,s,h,o),a!==null)return gt(a,t,o),Wc(a,s,o),!0}return!1}function Jr(t,s,a,o){if(o={lane:2,revertLane:ko(),action:o,hasEagerState:!1,eagerState:null,next:null},Yn(t)){if(s)throw Error(l(479))}else s=br(t,a,o,2),s!==null&&gt(s,t,2)}function Yn(t){var s=t.alternate;return t===ne||s!==null&&s===ne}function Pc(t,s){zs=Un=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Wc(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Ju(t,a)}}var Xn={readContext:Ze,use:jn,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae},qc={readContext:Ze,use:jn,useCallback:function(t,s){return st().memoizedState=[t,s===void 0?null:s],t},useContext:Ze,useEffect:Dc,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,qn(4194308,4,Ac.bind(null,s,t),a)},useLayoutEffect:function(t,s){return qn(4194308,4,t,s)},useInsertionEffect:function(t,s){qn(4,2,t,s)},useMemo:function(t,s){var a=st();s=s===void 0?null:s;var o=t();if(Ji){ui(!0);try{t()}finally{ui(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=st();if(a!==void 0){var h=a(s);if(Ji){ui(!0);try{a(s)}finally{ui(!1)}}}else h=s;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=dg.bind(null,ne,t),[o.memoizedState,t]},useRef:function(t){var s=st();return t={current:t},s.memoizedState=t},useState:function(t){t=Yr(t);var s=t.queue,a=jc.bind(null,ne,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Qr,useDeferredValue:function(t,s){var a=st();return Kr(a,t,s)},useTransition:function(){var t=Yr(!1);return t=Nc.bind(null,ne,t.queue,!0,!1),st().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=ne,h=st();if(pe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=s(),xe===null)throw Error(l(349));(ce&124)!==0||dc(o,s,a)}h.memoizedState=a;var f={value:a,getSnapshot:s};return h.queue=f,Dc(pc.bind(null,o,f,t),[t]),o.flags|=2048,ks(9,Wn(),fc.bind(null,o,f,a,s),null),a},useId:function(){var t=st(),s=xe.identifierPrefix;if(pe){var a=qt,o=Wt;a=(o&~(1<<32-ut(o)-1)).toString(32)+a,s=""+s+"R"+a,a=Gn++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=ag++,s=""+s+"r"+a.toString(32)+"";return t.memoizedState=s},useHostTransitionStatus:Ir,useFormState:Rc,useActionState:Rc,useOptimistic:function(t){var s=st();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Jr.bind(null,ne,!0,a),a.dispatch=s,[t,s]},useMemoCache:Pr,useCacheRefresh:function(){return st().memoizedState=cg.bind(null,ne)}},Yc={readContext:Ze,use:jn,useCallback:Oc,useContext:Ze,useEffect:zc,useImperativeHandle:Hc,useInsertionEffect:Lc,useLayoutEffect:kc,useMemo:_c,useReducer:Pn,useRef:Mc,useState:function(){return Pn(Qt)},useDebugValue:Qr,useDeferredValue:function(t,s){var a=_e();return Bc(a,ye.memoizedState,t,s)},useTransition:function(){var t=Pn(Qt)[0],s=_e().memoizedState;return[typeof t=="boolean"?t:Sl(t),s]},useSyncExternalStore:cc,useId:Uc,useHostTransitionStatus:Ir,useFormState:Tc,useActionState:Tc,useOptimistic:function(t,s){var a=_e();return bc(a,ye,t,s)},useMemoCache:Pr,useCacheRefresh:Gc},fg={readContext:Ze,use:jn,useCallback:Oc,useContext:Ze,useEffect:zc,useImperativeHandle:Hc,useInsertionEffect:Lc,useLayoutEffect:kc,useMemo:_c,useReducer:qr,useRef:Mc,useState:function(){return qr(Qt)},useDebugValue:Qr,useDeferredValue:function(t,s){var a=_e();return ye===null?Kr(a,t,s):Bc(a,ye.memoizedState,t,s)},useTransition:function(){var t=qr(Qt)[0],s=_e().memoizedState;return[typeof t=="boolean"?t:Sl(t),s]},useSyncExternalStore:cc,useId:Uc,useHostTransitionStatus:Ir,useFormState:xc,useActionState:xc,useOptimistic:function(t,s){var a=_e();return ye!==null?bc(a,ye,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Pr,useCacheRefresh:Gc},As=null,Dl=0;function Qn(t){var s=Dl;return Dl+=1,As===null&&(As=[]),sc(As,t,s)}function zl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Kn(t,s){throw s.$$typeof===w?Error(l(525)):(t=Object.prototype.toString.call(s),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Xc(t){var s=t._init;return s(t._payload)}function Qc(t){function s(x,S){if(t){var D=x.deletions;D===null?(x.deletions=[S],x.flags|=16):D.push(S)}}function a(x,S){if(!t)return null;for(;S!==null;)s(x,S),S=S.sibling;return null}function o(x){for(var S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function h(x,S){return x=Pt(x,S),x.index=0,x.sibling=null,x}function f(x,S,D){return x.index=D,t?(D=x.alternate,D!==null?(D=D.index,D<S?(x.flags|=67108866,S):D):(x.flags|=67108866,S)):(x.flags|=1048576,S)}function b(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function v(x,S,D,B){return S===null||S.tag!==6?(S=yr(D,x.mode,B),S.return=x,S):(S=h(S,D),S.return=x,S)}function C(x,S,D,B){var X=D.type;return X===T?O(x,S,D.props.children,B,D.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===re&&Xc(X)===S.type)?(S=h(S,D.props),zl(S,D),S.return=x,S):(S=kn(D.type,D.key,D.props,null,x.mode,B),zl(S,D),S.return=x,S)}function z(x,S,D,B){return S===null||S.tag!==4||S.stateNode.containerInfo!==D.containerInfo||S.stateNode.implementation!==D.implementation?(S=wr(D,x.mode,B),S.return=x,S):(S=h(S,D.children||[]),S.return=x,S)}function O(x,S,D,B,X){return S===null||S.tag!==7?(S=Wi(D,x.mode,B,X),S.return=x,S):(S=h(S,D),S.return=x,S)}function N(x,S,D){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=yr(""+S,x.mode,D),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case y:return D=kn(S.type,S.key,S.props,null,x.mode,D),zl(D,S),D.return=x,D;case E:return S=wr(S,x.mode,D),S.return=x,S;case re:var B=S._init;return S=B(S._payload),N(x,S,D)}if(Qe(S)||te(S))return S=Wi(S,x.mode,D,null),S.return=x,S;if(typeof S.then=="function")return N(x,Qn(S),D);if(S.$$typeof===P)return N(x,_n(x,S),D);Kn(x,S)}return null}function L(x,S,D,B){var X=S!==null?S.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return X!==null?null:v(x,S,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case y:return D.key===X?C(x,S,D,B):null;case E:return D.key===X?z(x,S,D,B):null;case re:return X=D._init,D=X(D._payload),L(x,S,D,B)}if(Qe(D)||te(D))return X!==null?null:O(x,S,D,B,null);if(typeof D.then=="function")return L(x,S,Qn(D),B);if(D.$$typeof===P)return L(x,S,_n(x,D),B);Kn(x,D)}return null}function A(x,S,D,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return x=x.get(D)||null,v(S,x,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return x=x.get(B.key===null?D:B.key)||null,C(S,x,B,X);case E:return x=x.get(B.key===null?D:B.key)||null,z(S,x,B,X);case re:var ae=B._init;return B=ae(B._payload),A(x,S,D,B,X)}if(Qe(B)||te(B))return x=x.get(D)||null,O(S,x,B,X,null);if(typeof B.then=="function")return A(x,S,D,Qn(B),X);if(B.$$typeof===P)return A(x,S,D,_n(S,B),X);Kn(S,B)}return null}function ee(x,S,D,B){for(var X=null,ae=null,Q=S,J=S=0,Pe=null;Q!==null&&J<D.length;J++){Q.index>J?(Pe=Q,Q=null):Pe=Q.sibling;var fe=L(x,Q,D[J],B);if(fe===null){Q===null&&(Q=Pe);break}t&&Q&&fe.alternate===null&&s(x,Q),S=f(fe,S,J),ae===null?X=fe:ae.sibling=fe,ae=fe,Q=Pe}if(J===D.length)return a(x,Q),pe&&Yi(x,J),X;if(Q===null){for(;J<D.length;J++)Q=N(x,D[J],B),Q!==null&&(S=f(Q,S,J),ae===null?X=Q:ae.sibling=Q,ae=Q);return pe&&Yi(x,J),X}for(Q=o(Q);J<D.length;J++)Pe=A(Q,x,J,D[J],B),Pe!==null&&(t&&Pe.alternate!==null&&Q.delete(Pe.key===null?J:Pe.key),S=f(Pe,S,J),ae===null?X=Pe:ae.sibling=Pe,ae=Pe);return t&&Q.forEach(function(Ai){return s(x,Ai)}),pe&&Yi(x,J),X}function I(x,S,D,B){if(D==null)throw Error(l(151));for(var X=null,ae=null,Q=S,J=S=0,Pe=null,fe=D.next();Q!==null&&!fe.done;J++,fe=D.next()){Q.index>J?(Pe=Q,Q=null):Pe=Q.sibling;var Ai=L(x,Q,fe.value,B);if(Ai===null){Q===null&&(Q=Pe);break}t&&Q&&Ai.alternate===null&&s(x,Q),S=f(Ai,S,J),ae===null?X=Ai:ae.sibling=Ai,ae=Ai,Q=Pe}if(fe.done)return a(x,Q),pe&&Yi(x,J),X;if(Q===null){for(;!fe.done;J++,fe=D.next())fe=N(x,fe.value,B),fe!==null&&(S=f(fe,S,J),ae===null?X=fe:ae.sibling=fe,ae=fe);return pe&&Yi(x,J),X}for(Q=o(Q);!fe.done;J++,fe=D.next())fe=A(Q,x,J,fe.value,B),fe!==null&&(t&&fe.alternate!==null&&Q.delete(fe.key===null?J:fe.key),S=f(fe,S,J),ae===null?X=fe:ae.sibling=fe,ae=fe);return t&&Q.forEach(function(pb){return s(x,pb)}),pe&&Yi(x,J),X}function Ce(x,S,D,B){if(typeof D=="object"&&D!==null&&D.type===T&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case y:e:{for(var X=D.key;S!==null;){if(S.key===X){if(X=D.type,X===T){if(S.tag===7){a(x,S.sibling),B=h(S,D.props.children),B.return=x,x=B;break e}}else if(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===re&&Xc(X)===S.type){a(x,S.sibling),B=h(S,D.props),zl(B,D),B.return=x,x=B;break e}a(x,S);break}else s(x,S);S=S.sibling}D.type===T?(B=Wi(D.props.children,x.mode,B,D.key),B.return=x,x=B):(B=kn(D.type,D.key,D.props,null,x.mode,B),zl(B,D),B.return=x,x=B)}return b(x);case E:e:{for(X=D.key;S!==null;){if(S.key===X)if(S.tag===4&&S.stateNode.containerInfo===D.containerInfo&&S.stateNode.implementation===D.implementation){a(x,S.sibling),B=h(S,D.children||[]),B.return=x,x=B;break e}else{a(x,S);break}else s(x,S);S=S.sibling}B=wr(D,x.mode,B),B.return=x,x=B}return b(x);case re:return X=D._init,D=X(D._payload),Ce(x,S,D,B)}if(Qe(D))return ee(x,S,D,B);if(te(D)){if(X=te(D),typeof X!="function")throw Error(l(150));return D=X.call(D),I(x,S,D,B)}if(typeof D.then=="function")return Ce(x,S,Qn(D),B);if(D.$$typeof===P)return Ce(x,S,_n(x,D),B);Kn(x,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,S!==null&&S.tag===6?(a(x,S.sibling),B=h(S,D),B.return=x,x=B):(a(x,S),B=yr(D,x.mode,B),B.return=x,x=B),b(x)):a(x,S)}return function(x,S,D,B){try{Dl=0;var X=Ce(x,S,D,B);return As=null,X}catch(Q){if(Q===yl||Q===Nn)throw Q;var ae=ct(29,Q,null,x.mode);return ae.lanes=B,ae.return=x,ae}finally{}}}var Hs=Qc(!0),Kc=Qc(!1),Tt=V(null),_t=null;function bi(t){var s=t.alternate;W(Ne,Ne.current&1),W(Tt,t),_t===null&&(s===null||Ds.current!==null||s.memoizedState!==null)&&(_t=t)}function Zc(t){if(t.tag===22){if(W(Ne,Ne.current),W(Tt,t),_t===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(_t=t)}}else vi()}function vi(){W(Ne,Ne.current),W(Tt,Tt.current)}function Kt(t){Y(Tt),_t===t&&(_t=null),Y(Ne)}var Ne=V(0);function Zn(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Po(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function $r(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:g({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var eo={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=mt(),h=pi(o);h.payload=s,a!=null&&(h.callback=a),s=mi(t,h,o),s!==null&&(gt(s,t,o),Cl(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=mt(),h=pi(o);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=mi(t,h,o),s!==null&&(gt(s,t,o),Cl(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=mt(),o=pi(a);o.tag=2,s!=null&&(o.callback=s),s=mi(t,o,a),s!==null&&(gt(s,t,a),Cl(s,t,a))}};function Ic(t,s,a,o,h,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,b):s.prototype&&s.prototype.isPureReactComponent?!cl(a,o)||!cl(h,f):!0}function Jc(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&eo.enqueueReplaceState(s,s.state,null)}function $i(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=g({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var In=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $c(t){In(t)}function ed(t){console.error(t)}function td(t){In(t)}function Jn(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function id(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function to(t,s,a){return a=pi(a),a.tag=3,a.payload={element:null},a.callback=function(){Jn(t,s)},a}function sd(t){return t=pi(t),t.tag=3,t}function ld(t,s,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){id(s,a,o)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){id(s,a,o),typeof h!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function pg(t,s,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&gl(s,a,h,!0),a=Tt.current,a!==null){switch(a.tag){case 13:return _t===null?xo():a.alternate===null&&ke===0&&(ke=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Lr?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Do(t,o,h)),!1;case 22:return a.flags|=65536,o===Lr?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Do(t,o,h)),!1}throw Error(l(435,a.tag))}return Do(t,o,h),xo(),!1}if(pe)return s=Tt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,o!==Rr&&(t=Error(l(422),{cause:o}),ml(wt(t,a)))):(o!==Rr&&(s=Error(l(423),{cause:o}),ml(wt(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=wt(o,a),h=to(t.stateNode,o,h),Hr(t,h),ke!==4&&(ke=2)),!1;var f=Error(l(520),{cause:o});if(f=wt(f,a),Bl===null?Bl=[f]:Bl.push(f),ke!==4&&(ke=2),s===null)return!0;o=wt(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=to(a.stateNode,o,t),Hr(a,t),!1;case 1:if(s=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ti===null||!Ti.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sd(h),ld(h,t,a,o),Hr(a,h),!1}a=a.return}while(a!==null);return!1}var nd=Error(l(461)),Ge=!1;function We(t,s,a,o){s.child=t===null?Kc(s,null,a,o):Hs(s,t.child,a,o)}function ad(t,s,a,o,h){a=a.render;var f=s.ref;if("ref"in o){var b={};for(var v in o)v!=="ref"&&(b[v]=o[v])}else b=o;return Zi(s),o=Fr(t,s,a,b,f,h),v=Vr(),t!==null&&!Ge?(Ur(t,s,h),Zt(t,s,h)):(pe&&v&&Cr(s),s.flags|=1,We(t,s,o,h),s.child)}function rd(t,s,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!vr(f)&&f.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=f,od(t,s,f,o,h)):(t=kn(a.type,null,o,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!uo(t,h)){var b=f.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(b,o)&&t.ref===s.ref)return Zt(t,s,h)}return s.flags|=1,t=Pt(f,o),t.ref=s.ref,t.return=s,s.child=t}function od(t,s,a,o,h){if(t!==null){var f=t.memoizedProps;if(cl(f,o)&&t.ref===s.ref)if(Ge=!1,s.pendingProps=o=f,uo(t,h))(t.flags&131072)!==0&&(Ge=!0);else return s.lanes=t.lanes,Zt(t,s,h)}return io(t,s,a,o,h)}function ud(t,s,a){var o=s.pendingProps,h=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((s.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(h=s.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;s.childLanes=f&~o}else s.childLanes=0,s.child=null;return hd(t,s,o,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bn(s,f!==null?f.cachePool:null),f!==null?oc(s,f):_r(),Zc(s);else return s.lanes=s.childLanes=536870912,hd(t,s,f!==null?f.baseLanes|a:a,a)}else f!==null?(Bn(s,f.cachePool),oc(s,f),vi(),s.memoizedState=null):(t!==null&&Bn(s,null),_r(),vi());return We(t,s,h,a),s.child}function hd(t,s,a,o){var h=zr();return h=h===null?null:{parent:Be._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},t!==null&&Bn(s,null),_r(),Zc(s),t!==null&&gl(t,s,o,!0),null}function $n(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function io(t,s,a,o,h){return Zi(s),a=Fr(t,s,a,o,void 0,h),o=Vr(),t!==null&&!Ge?(Ur(t,s,h),Zt(t,s,h)):(pe&&o&&Cr(s),s.flags|=1,We(t,s,a,h),s.child)}function cd(t,s,a,o,h,f){return Zi(s),s.updateQueue=null,a=hc(s,o,a,h),uc(t),o=Vr(),t!==null&&!Ge?(Ur(t,s,f),Zt(t,s,f)):(pe&&o&&Cr(s),s.flags|=1,We(t,s,a,f),s.child)}function dd(t,s,a,o,h){if(Zi(s),s.stateNode===null){var f=Rs,b=a.contextType;typeof b=="object"&&b!==null&&(f=Ze(b)),f=new a(o,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=eo,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=o,f.state=s.memoizedState,f.refs={},kr(s),b=a.contextType,f.context=typeof b=="object"&&b!==null?Ze(b):Rs,f.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&($r(s,a,b,o),f.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&eo.enqueueReplaceState(f,f.state,null),Rl(s,o,f,h),El(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){f=s.stateNode;var v=s.memoizedProps,C=$i(a,v);f.props=C;var z=f.context,O=a.contextType;b=Rs,typeof O=="object"&&O!==null&&(b=Ze(O));var N=a.getDerivedStateFromProps;O=typeof N=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=s.pendingProps!==v,O||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||z!==b)&&Jc(s,f,o,b),fi=!1;var L=s.memoizedState;f.state=L,Rl(s,o,f,h),El(),z=s.memoizedState,v||L!==z||fi?(typeof N=="function"&&($r(s,a,N,o),z=s.memoizedState),(C=fi||Ic(s,a,C,o,L,z,b))?(O||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=z),f.props=o,f.state=z,f.context=b,o=C):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{f=s.stateNode,Ar(t,s),b=s.memoizedProps,O=$i(a,b),f.props=O,N=s.pendingProps,L=f.context,z=a.contextType,C=Rs,typeof z=="object"&&z!==null&&(C=Ze(z)),v=a.getDerivedStateFromProps,(z=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==N||L!==C)&&Jc(s,f,o,C),fi=!1,L=s.memoizedState,f.state=L,Rl(s,o,f,h),El();var A=s.memoizedState;b!==N||L!==A||fi||t!==null&&t.dependencies!==null&&On(t.dependencies)?(typeof v=="function"&&($r(s,a,v,o),A=s.memoizedState),(O=fi||Ic(s,a,O,o,L,A,C)||t!==null&&t.dependencies!==null&&On(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,A,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,A,C)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&L===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&L===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=A),f.props=o,f.state=A,f.context=C,o=O):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&L===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&L===t.memoizedState||(s.flags|=1024),o=!1)}return f=o,$n(t,s),o=(s.flags&128)!==0,f||o?(f=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&o?(s.child=Hs(s,t.child,null,h),s.child=Hs(s,null,a,h)):We(t,s,a,h),s.memoizedState=f.state,t=s.child):t=Zt(t,s,h),t}function fd(t,s,a,o){return pl(),s.flags|=256,We(t,s,a,o),s.child}var so={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lo(t){return{baseLanes:t,cachePool:ec()}}function no(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=St),t}function pd(t,s,a){var o=s.pendingProps,h=!1,f=(s.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(Ne.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(pe){if(h?bi(s):vi(),pe){var v=Le,C;if(C=v){e:{for(C=v,v=Ot;C.nodeType!==8;){if(!v){v=null;break e}if(C=zt(C.nextSibling),C===null){v=null;break e}}v=C}v!==null?(s.memoizedState={dehydrated:v,treeContext:qi!==null?{id:Wt,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},C=ct(18,null,null,0),C.stateNode=v,C.return=s,s.child=C,et=s,Le=null,C=!0):C=!1}C||Qi(s)}if(v=s.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Po(v)?s.lanes=32:s.lanes=536870912,null;Kt(s)}return v=o.children,o=o.fallback,h?(vi(),h=s.mode,v=ea({mode:"hidden",children:v},h),o=Wi(o,h,a,null),v.return=s,o.return=s,v.sibling=o,s.child=v,h=s.child,h.memoizedState=lo(a),h.childLanes=no(t,b,a),s.memoizedState=so,o):(bi(s),ao(s,v))}if(C=t.memoizedState,C!==null&&(v=C.dehydrated,v!==null)){if(f)s.flags&256?(bi(s),s.flags&=-257,s=ro(t,s,a)):s.memoizedState!==null?(vi(),s.child=t.child,s.flags|=128,s=null):(vi(),h=o.fallback,v=s.mode,o=ea({mode:"visible",children:o.children},v),h=Wi(h,v,a,null),h.flags|=2,o.return=s,h.return=s,o.sibling=h,s.child=o,Hs(s,t.child,null,a),o=s.child,o.memoizedState=lo(a),o.childLanes=no(t,b,a),s.memoizedState=so,s=h);else if(bi(s),Po(v)){if(b=v.nextSibling&&v.nextSibling.dataset,b)var z=b.dgst;b=z,o=Error(l(419)),o.stack="",o.digest=b,ml({value:o,source:null,stack:null}),s=ro(t,s,a)}else if(Ge||gl(t,s,a,!1),b=(a&t.childLanes)!==0,Ge||b){if(b=xe,b!==null&&(o=a&-a,o=(o&42)!==0?1:Pa(o),o=(o&(b.suspendedLanes|a))!==0?0:o,o!==0&&o!==C.retryLane))throw C.retryLane=o,Es(t,o),gt(b,t,o),nd;v.data==="$?"||xo(),s=ro(t,s,a)}else v.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=C.treeContext,Le=zt(v.nextSibling),et=s,pe=!0,Xi=null,Ot=!1,t!==null&&(Et[Rt++]=Wt,Et[Rt++]=qt,Et[Rt++]=qi,Wt=t.id,qt=t.overflow,qi=s),s=ao(s,o.children),s.flags|=4096);return s}return h?(vi(),h=o.fallback,v=s.mode,C=t.child,z=C.sibling,o=Pt(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?h=Pt(z,h):(h=Wi(h,v,a,null),h.flags|=2),h.return=s,o.return=s,o.sibling=h,s.child=o,o=h,h=s.child,v=t.child.memoizedState,v===null?v=lo(a):(C=v.cachePool,C!==null?(z=Be._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=ec(),v={baseLanes:v.baseLanes|a,cachePool:C}),h.memoizedState=v,h.childLanes=no(t,b,a),s.memoizedState=so,o):(bi(s),a=t.child,t=a.sibling,a=Pt(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=a,s.memoizedState=null,a)}function ao(t,s){return s=ea({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ea(t,s){return t=ct(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ro(t,s,a){return Hs(s,t.child,null,a),t=ao(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function md(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Sr(t.return,s,a)}function oo(t,s,a,o,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=s,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function gd(t,s,a){var o=s.pendingProps,h=o.revealOrder,f=o.tail;if(We(t,s,o.children,a),o=Ne.current,(o&2)!==0)o=o&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&md(t,a,s);else if(t.tag===19)md(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(W(Ne,o),h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&Zn(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),oo(s,!1,h,a,f);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&Zn(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}oo(s,!0,a,null,f);break;case"together":oo(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zt(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ri|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(gl(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(l(153));if(s.child!==null){for(t=s.child,a=Pt(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Pt(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function uo(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&On(t)))}function mg(t,s,a){switch(s.tag){case 3:Me(s,s.stateNode.containerInfo),di(s,Be,t.memoizedState.cache),pl();break;case 27:case 5:Fa(s);break;case 4:Me(s,s.stateNode.containerInfo);break;case 10:di(s,s.type,s.memoizedProps.value);break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(bi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?pd(t,s,a):(bi(s),t=Zt(t,s,a),t!==null?t.sibling:null);bi(s);break;case 19:var h=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(gl(t,s,a,!1),o=(a&s.childLanes)!==0),h){if(o)return gd(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Ne,Ne.current),o)break;return null;case 22:case 23:return s.lanes=0,ud(t,s,a);case 24:di(s,Be,t.memoizedState.cache)}return Zt(t,s,a)}function bd(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ge=!0;else{if(!uo(t,a)&&(s.flags&128)===0)return Ge=!1,mg(t,s,a);Ge=(t.flags&131072)!==0}else Ge=!1,pe&&(s.flags&1048576)!==0&&Xh(s,Hn,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var o=s.elementType,h=o._init;if(o=h(o._payload),s.type=o,typeof o=="function")vr(o)?(t=$i(o,t),s.tag=1,s=dd(null,s,o,t,a)):(s.tag=0,s=io(null,s,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===K){s.tag=11,s=ad(null,s,o,t,a);break e}else if(h===me){s.tag=14,s=rd(null,s,o,t,a);break e}}throw s=At(o)||o,Error(l(306,s,""))}}return s;case 0:return io(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,h=$i(o,s.pendingProps),dd(t,s,o,h,a);case 3:e:{if(Me(s,s.stateNode.containerInfo),t===null)throw Error(l(387));o=s.pendingProps;var f=s.memoizedState;h=f.element,Ar(t,s),Rl(s,o,null,a);var b=s.memoizedState;if(o=b.cache,di(s,Be,o),o!==f.cache&&xr(s,[Be],a,!0),El(),o=b.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=fd(t,s,o,a);break e}else if(o!==h){h=wt(Error(l(424)),s),ml(h),s=fd(t,s,o,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Le=zt(t.firstChild),et=s,pe=!0,Xi=null,Ot=!0,a=Kc(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pl(),o===h){s=Zt(t,s,a);break e}We(t,s,o,a)}s=s.child}return s;case 26:return $n(t,s),t===null?(a=Ef(s.type,null,s.pendingProps,null))?s.memoizedState=a:pe||(a=s.type,t=s.pendingProps,o=pa(ie.current).createElement(a),o[Ke]=s,o[tt]=t,Ye(o,a,t),Ue(o),s.stateNode=o):s.memoizedState=Ef(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Fa(s),t===null&&pe&&(o=s.stateNode=yf(s.type,s.pendingProps,ie.current),et=s,Ot=!0,h=Le,Mi(s.type)?(Wo=h,Le=zt(o.firstChild)):Le=h),We(t,s,s.pendingProps.children,a),$n(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&pe&&((h=o=Le)&&(o=Pg(o,s.type,s.pendingProps,Ot),o!==null?(s.stateNode=o,et=s,Le=zt(o.firstChild),Ot=!1,h=!0):h=!1),h||Qi(s)),Fa(s),h=s.type,f=s.pendingProps,b=t!==null?t.memoizedProps:null,o=f.children,Uo(h,f)?o=null:b!==null&&Uo(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=Fr(t,s,rg,null,null,a),ql._currentValue=h),$n(t,s),We(t,s,o,a),s.child;case 6:return t===null&&pe&&((t=a=Le)&&(a=Wg(a,s.pendingProps,Ot),a!==null?(s.stateNode=a,et=s,Le=null,t=!0):t=!1),t||Qi(s)),null;case 13:return pd(t,s,a);case 4:return Me(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=Hs(s,null,o,a):We(t,s,o,a),s.child;case 11:return ad(t,s,s.type,s.pendingProps,a);case 7:return We(t,s,s.pendingProps,a),s.child;case 8:return We(t,s,s.pendingProps.children,a),s.child;case 12:return We(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,di(s,s.type,o.value),We(t,s,o.children,a),s.child;case 9:return h=s.type._context,o=s.pendingProps.children,Zi(s),h=Ze(h),o=o(h),s.flags|=1,We(t,s,o,a),s.child;case 14:return rd(t,s,s.type,s.pendingProps,a);case 15:return od(t,s,s.type,s.pendingProps,a);case 19:return gd(t,s,a);case 31:return o=s.pendingProps,a=s.mode,o={mode:o.mode,children:o.children},t===null?(a=ea(o,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Pt(t.child,o),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return ud(t,s,a);case 24:return Zi(s),o=Ze(Be),t===null?(h=zr(),h===null&&(h=xe,f=Mr(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),s.memoizedState={parent:o,cache:h},kr(s),di(s,Be,h)):((t.lanes&a)!==0&&(Ar(t,s),Rl(s,null,null,a),El()),h=t.memoizedState,f=s.memoizedState,h.parent!==o?(h={parent:o,cache:o},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),di(s,Be,o)):(o=f.cache,di(s,Be,o),o!==h.cache&&xr(s,[Be],a,!0))),We(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(l(156,s.tag))}function It(t){t.flags|=4}function vd(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Mf(s)){if(s=Tt.current,s!==null&&((ce&4194048)===ce?_t!==null:(ce&62914560)!==ce&&(ce&536870912)===0||s!==_t))throw wl=Lr,tc;t.flags|=8192}}function ta(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Zu():536870912,t.lanes|=s,Ns|=s)}function Ll(t,s){if(!pe)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ze(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function gg(t,s,a){var o=s.pendingProps;switch(Er(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(s),null;case 1:return ze(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Xt(Be),oi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(fl(s)?It(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zh())),ze(s),null;case 26:return a=s.memoizedState,t===null?(It(s),a!==null?(ze(s),vd(s,a)):(ze(s),s.flags&=-16777217)):a?a!==t.memoizedState?(It(s),ze(s),vd(s,a)):(ze(s),s.flags&=-16777217):(t.memoizedProps!==o&&It(s),ze(s),s.flags&=-16777217),null;case 27:dn(s),a=ie.current;var h=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==o&&It(s);else{if(!o){if(s.stateNode===null)throw Error(l(166));return ze(s),null}t=Z.current,fl(s)?Qh(s):(t=yf(h,o,a),s.stateNode=t,It(s))}return ze(s),null;case 5:if(dn(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&It(s);else{if(!o){if(s.stateNode===null)throw Error(l(166));return ze(s),null}if(t=Z.current,fl(s))Qh(s);else{switch(h=pa(ie.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[Ke]=s,t[tt]=o;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=t;e:switch(Ye(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&It(s)}}return ze(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&It(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(l(166));if(t=ie.current,fl(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,h=et,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ke]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||df(t.nodeValue,a)),t||Qi(s)}else t=pa(t).createTextNode(o),t[Ke]=s,s.stateNode=t}return ze(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=fl(s),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(l(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[Ke]=s}else pl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Kt(s),s):(Kt(s),null)}if(Kt(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=s.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),ta(s,s.updateQueue),ze(s),null;case 4:return oi(),t===null&&_o(s.stateNode.containerInfo),ze(s),null;case 10:return Xt(s.type),ze(s),null;case 19:if(Y(Ne),h=s.memoizedState,h===null)return ze(s),null;if(o=(s.flags&128)!==0,f=h.rendering,f===null)if(o)Ll(h,!1);else{if(ke!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=Zn(t),f!==null){for(s.flags|=128,Ll(h,!1),t=f.updateQueue,s.updateQueue=t,ta(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Yh(a,t),a=a.sibling;return W(Ne,Ne.current&1|2),s.child}t=t.sibling}h.tail!==null&&Ht()>la&&(s.flags|=128,o=!0,Ll(h,!1),s.lanes=4194304)}else{if(!o)if(t=Zn(f),t!==null){if(s.flags|=128,o=!0,t=t.updateQueue,s.updateQueue=t,ta(s,t),Ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!pe)return ze(s),null}else 2*Ht()-h.renderingStartTime>la&&a!==536870912&&(s.flags|=128,o=!0,Ll(h,!1),s.lanes=4194304);h.isBackwards?(f.sibling=s.child,s.child=f):(t=h.last,t!==null?t.sibling=f:s.child=f,h.last=f)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Ht(),s.sibling=null,t=Ne.current,W(Ne,o?t&1|2:t&1),s):(ze(s),null);case 22:case 23:return Kt(s),Br(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(ze(s),s.subtreeFlags&6&&(s.flags|=8192)):ze(s),a=s.updateQueue,a!==null&&ta(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&Y(Ii),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Xt(Be),ze(s),null;case 25:return null;case 30:return null}throw Error(l(156,s.tag))}function bg(t,s){switch(Er(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Xt(Be),oi(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return dn(s),null;case 13:if(Kt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(l(340));pl()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Y(Ne),null;case 4:return oi(),null;case 10:return Xt(s.type),null;case 22:case 23:return Kt(s),Br(),t!==null&&Y(Ii),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Xt(Be),null;case 25:return null;default:return null}}function yd(t,s){switch(Er(s),s.tag){case 3:Xt(Be),oi();break;case 26:case 27:case 5:dn(s);break;case 4:oi();break;case 13:Kt(s);break;case 19:Y(Ne);break;case 10:Xt(s.type);break;case 22:case 23:Kt(s),Br(),t!==null&&Y(Ii);break;case 24:Xt(Be)}}function kl(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,b=a.inst;o=f(),b.destroy=o}a=a.next}while(a!==h)}}catch(v){Te(s,s.return,v)}}function yi(t,s,a){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var b=o.inst,v=b.destroy;if(v!==void 0){b.destroy=void 0,h=s;var C=a,z=v;try{z()}catch(O){Te(h,C,O)}}}o=o.next}while(o!==f)}}catch(O){Te(s,s.return,O)}}function wd(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{rc(s,a)}catch(o){Te(t,t.return,o)}}}function Cd(t,s,a){a.props=$i(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Te(t,s,o)}}function Al(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Te(t,s,h)}}function Bt(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Te(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Te(t,s,h)}else a.current=null}function Ed(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Te(t,t.return,h)}}function ho(t,s,a){try{var o=t.stateNode;Fg(o,t.type,a,s),o[tt]=s}catch(h){Te(t,t.return,h)}}function Rd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mi(t.type)||t.tag===4}function co(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fo(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=fa));else if(o!==4&&(o===27&&Mi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(fo(t,s,a),t=t.sibling;t!==null;)fo(t,s,a),t=t.sibling}function ia(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&Mi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ia(t,s,a),t=t.sibling;t!==null;)ia(t,s,a),t=t.sibling}function Td(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Ye(s,o,a),s[Ke]=t,s[tt]=a}catch(f){Te(t,t.return,f)}}var Jt=!1,He=!1,po=!1,Sd=typeof WeakSet=="function"?WeakSet:Set,je=null;function vg(t,s){if(t=t.containerInfo,Fo=wa,t=Bh(t),cr(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var b=0,v=-1,C=-1,z=0,O=0,N=t,L=null;t:for(;;){for(var A;N!==a||h!==0&&N.nodeType!==3||(v=b+h),N!==f||o!==0&&N.nodeType!==3||(C=b+o),N.nodeType===3&&(b+=N.nodeValue.length),(A=N.firstChild)!==null;)L=N,N=A;for(;;){if(N===t)break t;if(L===a&&++z===h&&(v=b),L===f&&++O===o&&(C=b),(A=N.nextSibling)!==null)break;N=L,L=N.parentNode}N=A}a=v===-1||C===-1?null:{start:v,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vo={focusedElem:t,selectionRange:a},wa=!1,je=s;je!==null;)if(s=je,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,je=t;else for(;je!==null;){switch(s=je,f=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=s,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ee=$i(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(ee,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(I){Te(a,a.return,I)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)jo(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jo(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=s.sibling,t!==null){t.return=s.return,je=t;break}je=s.return}}function xd(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:wi(t,a),o&4&&kl(5,a);break;case 1:if(wi(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(b){Te(a,a.return,b)}else{var h=$i(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Te(a,a.return,b)}}o&64&&wd(a),o&512&&Al(a,a.return);break;case 3:if(wi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{rc(t,s)}catch(b){Te(a,a.return,b)}}break;case 27:s===null&&o&4&&Td(a);case 26:case 5:wi(t,a),s===null&&o&4&&Ed(a),o&512&&Al(a,a.return);break;case 12:wi(t,a);break;case 13:wi(t,a),o&4&&zd(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Mg.bind(null,a),qg(t,a))));break;case 22:if(o=a.memoizedState!==null||Jt,!o){s=s!==null&&s.memoizedState!==null||He,h=Jt;var f=He;Jt=o,(He=s)&&!f?Ci(t,a,(a.subtreeFlags&8772)!==0):wi(t,a),Jt=h,He=f}break;case 30:break;default:wi(t,a)}}function Md(t){var s=t.alternate;s!==null&&(t.alternate=null,Md(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ya(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var De=null,lt=!1;function $t(t,s,a){for(a=a.child;a!==null;)Dd(t,s,a),a=a.sibling}function Dd(t,s,a){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount($s,a)}catch{}switch(a.tag){case 26:He||Bt(a,s),$t(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:He||Bt(a,s);var o=De,h=lt;Mi(a.type)&&(De=a.stateNode,lt=!1),$t(t,s,a),Gl(a.stateNode),De=o,lt=h;break;case 5:He||Bt(a,s);case 6:if(o=De,h=lt,De=null,$t(t,s,a),De=o,lt=h,De!==null)if(lt)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(a.stateNode)}catch(f){Te(a,s,f)}else try{De.removeChild(a.stateNode)}catch(f){Te(a,s,f)}break;case 18:De!==null&&(lt?(t=De,bf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Kl(t)):bf(De,a.stateNode));break;case 4:o=De,h=lt,De=a.stateNode.containerInfo,lt=!0,$t(t,s,a),De=o,lt=h;break;case 0:case 11:case 14:case 15:He||yi(2,a,s),He||yi(4,a,s),$t(t,s,a);break;case 1:He||(Bt(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cd(a,s,o)),$t(t,s,a);break;case 21:$t(t,s,a);break;case 22:He=(o=He)||a.memoizedState!==null,$t(t,s,a),He=o;break;default:$t(t,s,a)}}function zd(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kl(t)}catch(a){Te(s,s.return,a)}}function yg(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Sd),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Sd),s;default:throw Error(l(435,t.tag))}}function mo(t,s){var a=yg(t);s.forEach(function(o){var h=Dg.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function dt(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,b=s,v=b;e:for(;v!==null;){switch(v.tag){case 27:if(Mi(v.type)){De=v.stateNode,lt=!1;break e}break;case 5:De=v.stateNode,lt=!1;break e;case 3:case 4:De=v.stateNode.containerInfo,lt=!0;break e}v=v.return}if(De===null)throw Error(l(160));Dd(f,b,h),De=null,lt=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Ld(s,t),s=s.sibling}var Dt=null;function Ld(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dt(s,t),ft(t),o&4&&(yi(3,t,t.return),kl(3,t),yi(5,t,t.return));break;case 1:dt(s,t),ft(t),o&512&&(He||a===null||Bt(a,a.return)),o&64&&Jt&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Dt;if(dt(s,t),ft(t),o&512&&(He||a===null||Bt(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[il]||f[Ke]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ye(f,o,a),f[Ke]=t,Ue(f),o=f;break e;case"link":var b=Sf("link","href",h).get(o+(a.href||""));if(b){for(var v=0;v<b.length;v++)if(f=b[v],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(v,1);break t}}f=h.createElement(o),Ye(f,o,a),h.head.appendChild(f);break;case"meta":if(b=Sf("meta","content",h).get(o+(a.content||""))){for(v=0;v<b.length;v++)if(f=b[v],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(v,1);break t}}f=h.createElement(o),Ye(f,o,a),h.head.appendChild(f);break;default:throw Error(l(468,o))}f[Ke]=t,Ue(f),o=f}t.stateNode=o}else xf(h,t.type,t.stateNode);else t.stateNode=Tf(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?xf(h,t.type,t.stateNode):Tf(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ho(t,t.memoizedProps,a.memoizedProps)}break;case 27:dt(s,t),ft(t),o&512&&(He||a===null||Bt(a,a.return)),a!==null&&o&4&&ho(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dt(s,t),ft(t),o&512&&(He||a===null||Bt(a,a.return)),t.flags&32){h=t.stateNode;try{ms(h,"")}catch(A){Te(t,t.return,A)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,ho(t,h,a!==null?a.memoizedProps:h)),o&1024&&(po=!0);break;case 6:if(dt(s,t),ft(t),o&4){if(t.stateNode===null)throw Error(l(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(A){Te(t,t.return,A)}}break;case 3:if(ba=null,h=Dt,Dt=ma(s.containerInfo),dt(s,t),Dt=h,ft(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Kl(s.containerInfo)}catch(A){Te(t,t.return,A)}po&&(po=!1,kd(t));break;case 4:o=Dt,Dt=ma(t.stateNode.containerInfo),dt(s,t),ft(t),Dt=o;break;case 12:dt(s,t),ft(t);break;case 13:dt(s,t),ft(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Co=Ht()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mo(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Jt,O=He;if(Jt=z||h,He=O||C,dt(s,t),He=O,Jt=z,ft(t),o&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||C||Jt||He||es(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(f=C.stateNode,h)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{v=C.stateNode;var N=C.memoizedProps.style,L=N!=null&&N.hasOwnProperty("display")?N.display:null;v.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(A){Te(C,C.return,A)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(A){Te(C,C.return,A)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mo(t,a))));break;case 19:dt(s,t),ft(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mo(t,o)));break;case 30:break;case 21:break;default:dt(s,t),ft(t)}}function ft(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(Rd(o)){a=o;break}o=o.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var h=a.stateNode,f=co(t);ia(t,f,h);break;case 5:var b=a.stateNode;a.flags&32&&(ms(b,""),a.flags&=-33);var v=co(t);ia(t,v,b);break;case 3:case 4:var C=a.stateNode.containerInfo,z=co(t);fo(t,z,C);break;default:throw Error(l(161))}}catch(O){Te(t,t.return,O)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function kd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;kd(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function wi(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)xd(t,s.alternate,s),s=s.sibling}function es(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:yi(4,s,s.return),es(s);break;case 1:Bt(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Cd(s,s.return,a),es(s);break;case 27:Gl(s.stateNode);case 26:case 5:Bt(s,s.return),es(s);break;case 22:s.memoizedState===null&&es(s);break;case 30:es(s);break;default:es(s)}t=t.sibling}}function Ci(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,h=t,f=s,b=f.flags;switch(f.tag){case 0:case 11:case 15:Ci(h,f,a),kl(4,f);break;case 1:if(Ci(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Te(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var v=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ac(C[h],v)}catch(z){Te(o,o.return,z)}}a&&b&64&&wd(f),Al(f,f.return);break;case 27:Td(f);case 26:case 5:Ci(h,f,a),a&&o===null&&b&4&&Ed(f),Al(f,f.return);break;case 12:Ci(h,f,a);break;case 13:Ci(h,f,a),a&&b&4&&zd(h,f);break;case 22:f.memoizedState===null&&Ci(h,f,a),Al(f,f.return);break;case 30:break;default:Ci(h,f,a)}s=s.sibling}}function go(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&bl(a))}function bo(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&bl(t))}function Nt(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ad(t,s,a,o),s=s.sibling}function Ad(t,s,a,o){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Nt(t,s,a,o),h&2048&&kl(9,s);break;case 1:Nt(t,s,a,o);break;case 3:Nt(t,s,a,o),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&bl(t)));break;case 12:if(h&2048){Nt(t,s,a,o),t=s.stateNode;try{var f=s.memoizedProps,b=f.id,v=f.onPostCommit;typeof v=="function"&&v(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Te(s,s.return,C)}}else Nt(t,s,a,o);break;case 13:Nt(t,s,a,o);break;case 23:break;case 22:f=s.stateNode,b=s.alternate,s.memoizedState!==null?f._visibility&2?Nt(t,s,a,o):Hl(t,s):f._visibility&2?Nt(t,s,a,o):(f._visibility|=2,Os(t,s,a,o,(s.subtreeFlags&10256)!==0)),h&2048&&go(b,s);break;case 24:Nt(t,s,a,o),h&2048&&bo(s.alternate,s);break;default:Nt(t,s,a,o)}}function Os(t,s,a,o,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var f=t,b=s,v=a,C=o,z=b.flags;switch(b.tag){case 0:case 11:case 15:Os(f,b,v,C,h),kl(8,b);break;case 23:break;case 22:var O=b.stateNode;b.memoizedState!==null?O._visibility&2?Os(f,b,v,C,h):Hl(f,b):(O._visibility|=2,Os(f,b,v,C,h)),h&&z&2048&&go(b.alternate,b);break;case 24:Os(f,b,v,C,h),h&&z&2048&&bo(b.alternate,b);break;default:Os(f,b,v,C,h)}s=s.sibling}}function Hl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,h=o.flags;switch(o.tag){case 22:Hl(a,o),h&2048&&go(o.alternate,o);break;case 24:Hl(a,o),h&2048&&bo(o.alternate,o);break;default:Hl(a,o)}s=s.sibling}}var Ol=8192;function _s(t){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)Hd(t),t=t.sibling}function Hd(t){switch(t.tag){case 26:_s(t),t.flags&Ol&&t.memoizedState!==null&&lb(Dt,t.memoizedState,t.memoizedProps);break;case 5:_s(t);break;case 3:case 4:var s=Dt;Dt=ma(t.stateNode.containerInfo),_s(t),Dt=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Ol,Ol=16777216,_s(t),Ol=s):_s(t));break;default:_s(t)}}function Od(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function _l(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];je=o,Bd(o,t)}Od(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_d(t),t=t.sibling}function _d(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&yi(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,sa(t)):_l(t);break;default:_l(t)}}function sa(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];je=o,Bd(o,t)}Od(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:yi(8,s,s.return),sa(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,sa(s));break;default:sa(s)}t=t.sibling}}function Bd(t,s){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:yi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:bl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,je=o;else e:for(a=t;je!==null;){o=je;var h=o.sibling,f=o.return;if(Md(o),o===a){je=null;break e}if(h!==null){h.return=f,je=h;break e}je=f}}}var wg={getCacheForType:function(t){var s=Ze(Be),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},Cg=typeof WeakMap=="function"?WeakMap:Map,ge=0,xe=null,oe=null,ce=0,be=0,pt=null,Ei=!1,Bs=!1,vo=!1,ei=0,ke=0,Ri=0,ts=0,yo=0,St=0,Ns=0,Bl=null,nt=null,wo=!1,Co=0,la=1/0,na=null,Ti=null,qe=0,Si=null,Fs=null,Vs=0,Eo=0,Ro=null,Nd=null,Nl=0,To=null;function mt(){if((ge&2)!==0&&ce!==0)return ce&-ce;if(_.T!==null){var t=xs;return t!==0?t:ko()}return $u()}function Fd(){St===0&&(St=(ce&536870912)===0||pe?Ku():536870912);var t=Tt.current;return t!==null&&(t.flags|=32),St}function gt(t,s,a){(t===xe&&(be===2||be===9)||t.cancelPendingCommit!==null)&&(Us(t,0),xi(t,ce,St,!1)),tl(t,a),((ge&2)===0||t!==xe)&&(t===xe&&((ge&2)===0&&(ts|=a),ke===4&&xi(t,ce,St,!1)),Ft(t))}function Vd(t,s,a){if((ge&6)!==0)throw Error(l(327));var o=!a&&(s&124)===0&&(s&t.expiredLanes)===0||el(t,s),h=o?Tg(t,s):Mo(t,s,!0),f=o;do{if(h===0){Bs&&!o&&xi(t,s,0,!1);break}else{if(a=t.current.alternate,f&&!Eg(a)){h=Mo(t,s,!1),f=!1;continue}if(h===2){if(f=s,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var v=t;h=Bl;var C=v.current.memoizedState.isDehydrated;if(C&&(Us(v,b).flags|=256),b=Mo(v,b,!1),b!==2){if(vo&&!C){v.errorRecoveryDisabledLanes|=f,ts|=f,h=4;break e}f=nt,nt=h,f!==null&&(nt===null?nt=f:nt.push.apply(nt,f))}h=b}if(f=!1,h!==2)continue}}if(h===1){Us(t,0),xi(t,s,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(l(345));case 4:if((s&4194048)!==s)break;case 6:xi(o,s,St,!Ei);break e;case 2:nt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((s&62914560)===s&&(h=Co+300-Ht(),10<h)){if(xi(o,s,St,!Ei),gn(o,0,!0)!==0)break e;o.timeoutHandle=mf(Ud.bind(null,o,a,nt,na,wo,s,St,ts,Ns,Ei,f,2,-0,0),h);break e}Ud(o,a,nt,na,wo,s,St,ts,Ns,Ei,f,0,-0,0)}}break}while(!0);Ft(t)}function Ud(t,s,a,o,h,f,b,v,C,z,O,N,L,A){if(t.timeoutHandle=-1,N=s.subtreeFlags,(N&8192||(N&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:sb},Hd(s),N=nb(),N!==null)){t.cancelPendingCommit=N(Xd.bind(null,t,s,f,a,o,h,b,v,C,O,1,L,A)),xi(t,f,b,!z);return}Xd(t,s,f,a,o,h,b,v,C)}function Eg(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!ht(f(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(t,s,a,o){s&=~yo,s&=~ts,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var h=s;0<h;){var f=31-ut(h),b=1<<f;o[f]=-1,h&=~b}a!==0&&Iu(t,a,s)}function aa(){return(ge&6)===0?(Fl(0),!1):!0}function So(){if(oe!==null){if(be===0)var t=oe.return;else t=oe,Yt=Ki=null,Gr(t),As=null,Dl=0,t=oe;for(;t!==null;)yd(t.alternate,t),t=t.return;oe=null}}function Us(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ug(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),So(),xe=t,oe=a=Pt(t.current,null),ce=s,be=0,pt=null,Ei=!1,Bs=el(t,s),vo=!1,Ns=St=yo=ts=Ri=ke=0,nt=Bl=null,wo=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var h=31-ut(o),f=1<<h;s|=t[h],o&=~f}return ei=s,Dn(),a}function Gd(t,s){ne=null,_.H=Xn,s===yl||s===Nn?(s=lc(),be=3):s===tc?(s=lc(),be=4):be=s===nd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,pt=s,oe===null&&(ke=1,Jn(t,wt(s,t.current)))}function jd(){var t=_.H;return _.H=Xn,t===null?Xn:t}function Pd(){var t=_.A;return _.A=wg,t}function xo(){ke=4,Ei||(ce&4194048)!==ce&&Tt.current!==null||(Bs=!0),(Ri&134217727)===0&&(ts&134217727)===0||xe===null||xi(xe,ce,St,!1)}function Mo(t,s,a){var o=ge;ge|=2;var h=jd(),f=Pd();(xe!==t||ce!==s)&&(na=null,Us(t,s)),s=!1;var b=ke;e:do try{if(be!==0&&oe!==null){var v=oe,C=pt;switch(be){case 8:So(),b=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(s=!0);var z=be;if(be=0,pt=null,Gs(t,v,C,z),a&&Bs){b=0;break e}break;default:z=be,be=0,pt=null,Gs(t,v,C,z)}}Rg(),b=ke;break}catch(O){Gd(t,O)}while(!0);return s&&t.shellSuspendCounter++,Yt=Ki=null,ge=o,_.H=h,_.A=f,oe===null&&(xe=null,ce=0,Dn()),b}function Rg(){for(;oe!==null;)Wd(oe)}function Tg(t,s){var a=ge;ge|=2;var o=jd(),h=Pd();xe!==t||ce!==s?(na=null,la=Ht()+500,Us(t,s)):Bs=el(t,s);e:do try{if(be!==0&&oe!==null){s=oe;var f=pt;t:switch(be){case 1:be=0,pt=null,Gs(t,s,f,1);break;case 2:case 9:if(ic(f)){be=0,pt=null,qd(s);break}s=function(){be!==2&&be!==9||xe!==t||(be=7),Ft(t)},f.then(s,s);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:ic(f)?(be=0,pt=null,qd(s)):(be=0,pt=null,Gs(t,s,f,7));break;case 5:var b=null;switch(oe.tag){case 26:b=oe.memoizedState;case 5:case 27:var v=oe;if(!b||Mf(b)){be=0,pt=null;var C=v.sibling;if(C!==null)oe=C;else{var z=v.return;z!==null?(oe=z,ra(z)):oe=null}break t}}be=0,pt=null,Gs(t,s,f,5);break;case 6:be=0,pt=null,Gs(t,s,f,6);break;case 8:So(),ke=6;break e;default:throw Error(l(462))}}Sg();break}catch(O){Gd(t,O)}while(!0);return Yt=Ki=null,_.H=o,_.A=h,ge=a,oe!==null?0:(xe=null,ce=0,Dn(),ke)}function Sg(){for(;oe!==null&&!Xp();)Wd(oe)}function Wd(t){var s=bd(t.alternate,t,ei);t.memoizedProps=t.pendingProps,s===null?ra(t):oe=s}function qd(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=cd(a,s,s.pendingProps,s.type,void 0,ce);break;case 11:s=cd(a,s,s.pendingProps,s.type.render,s.ref,ce);break;case 5:Gr(s);default:yd(a,s),s=oe=Yh(s,ei),s=bd(a,s,ei)}t.memoizedProps=t.pendingProps,s===null?ra(t):oe=s}function Gs(t,s,a,o){Yt=Ki=null,Gr(s),As=null,Dl=0;var h=s.return;try{if(pg(t,h,s,a,ce)){ke=1,Jn(t,wt(a,t.current)),oe=null;return}}catch(f){if(h!==null)throw oe=h,f;ke=1,Jn(t,wt(a,t.current)),oe=null;return}s.flags&32768?(pe||o===1?t=!0:Bs||(ce&536870912)!==0?t=!1:(Ei=t=!0,(o===2||o===9||o===3||o===6)&&(o=Tt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Yd(s,t)):ra(s)}function ra(t){var s=t;do{if((s.flags&32768)!==0){Yd(s,Ei);return}t=s.return;var a=gg(s.alternate,s,ei);if(a!==null){oe=a;return}if(s=s.sibling,s!==null){oe=s;return}oe=s=t}while(s!==null);ke===0&&(ke=5)}function Yd(t,s){do{var a=bg(t.alternate,t);if(a!==null){a.flags&=32767,oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){oe=t;return}oe=t=a}while(t!==null);ke=6,oe=null}function Xd(t,s,a,o,h,f,b,v,C){t.cancelPendingCommit=null;do oa();while(qe!==0);if((ge&6)!==0)throw Error(l(327));if(s!==null){if(s===t.current)throw Error(l(177));if(f=s.lanes|s.childLanes,f|=gr,sm(t,a,f,b,v,C),t===xe&&(oe=xe=null,ce=0),Fs=s,Si=t,Vs=a,Eo=f,Ro=h,Nd=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zg(fn,function(){return Jd(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=_.T,_.T=null,h=q.p,q.p=2,b=ge,ge|=4;try{vg(t,s,a)}finally{ge=b,q.p=h,_.T=o}}qe=1,Qd(),Kd(),Zd()}}function Qd(){if(qe===1){qe=0;var t=Si,s=Fs,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=_.T,_.T=null;var o=q.p;q.p=2;var h=ge;ge|=4;try{Ld(s,t);var f=Vo,b=Bh(t.containerInfo),v=f.focusedElem,C=f.selectionRange;if(b!==v&&v&&v.ownerDocument&&_h(v.ownerDocument.documentElement,v)){if(C!==null&&cr(v)){var z=C.start,O=C.end;if(O===void 0&&(O=z),"selectionStart"in v)v.selectionStart=z,v.selectionEnd=Math.min(O,v.value.length);else{var N=v.ownerDocument||document,L=N&&N.defaultView||window;if(L.getSelection){var A=L.getSelection(),ee=v.textContent.length,I=Math.min(C.start,ee),Ce=C.end===void 0?I:Math.min(C.end,ee);!A.extend&&I>Ce&&(b=Ce,Ce=I,I=b);var x=Oh(v,I),S=Oh(v,Ce);if(x&&S&&(A.rangeCount!==1||A.anchorNode!==x.node||A.anchorOffset!==x.offset||A.focusNode!==S.node||A.focusOffset!==S.offset)){var D=N.createRange();D.setStart(x.node,x.offset),A.removeAllRanges(),I>Ce?(A.addRange(D),A.extend(S.node,S.offset)):(D.setEnd(S.node,S.offset),A.addRange(D))}}}}for(N=[],A=v;A=A.parentNode;)A.nodeType===1&&N.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<N.length;v++){var B=N[v];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}wa=!!Fo,Vo=Fo=null}finally{ge=h,q.p=o,_.T=a}}t.current=s,qe=2}}function Kd(){if(qe===2){qe=0;var t=Si,s=Fs,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=_.T,_.T=null;var o=q.p;q.p=2;var h=ge;ge|=4;try{xd(t,s.alternate,s)}finally{ge=h,q.p=o,_.T=a}}qe=3}}function Zd(){if(qe===4||qe===3){qe=0,Qp();var t=Si,s=Fs,a=Vs,o=Nd;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?qe=5:(qe=0,Fs=Si=null,Id(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ti=null),Wa(a),s=s.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot($s,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=_.T,h=q.p,q.p=2,_.T=null;try{for(var f=t.onRecoverableError,b=0;b<o.length;b++){var v=o[b];f(v.value,{componentStack:v.stack})}}finally{_.T=s,q.p=h}}(Vs&3)!==0&&oa(),Ft(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===To?Nl++:(Nl=0,To=t):Nl=0,Fl(0)}}function Id(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,bl(s)))}function oa(t){return Qd(),Kd(),Zd(),Jd()}function Jd(){if(qe!==5)return!1;var t=Si,s=Eo;Eo=0;var a=Wa(Vs),o=_.T,h=q.p;try{q.p=32>a?32:a,_.T=null,a=Ro,Ro=null;var f=Si,b=Vs;if(qe=0,Fs=Si=null,Vs=0,(ge&6)!==0)throw Error(l(331));var v=ge;if(ge|=4,_d(f.current),Ad(f,f.current,b,a),ge=v,Fl(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot($s,f)}catch{}return!0}finally{q.p=h,_.T=o,Id(t,s)}}function $d(t,s,a){s=wt(a,s),s=to(t.stateNode,s,2),t=mi(t,s,2),t!==null&&(tl(t,2),Ft(t))}function Te(t,s,a){if(t.tag===3)$d(t,t,a);else for(;s!==null;){if(s.tag===3){$d(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ti===null||!Ti.has(o))){t=wt(a,t),a=sd(2),o=mi(s,a,2),o!==null&&(ld(a,o,s,t),tl(o,2),Ft(o));break}}s=s.return}}function Do(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Cg;var h=new Set;o.set(s,h)}else h=o.get(s),h===void 0&&(h=new Set,o.set(s,h));h.has(a)||(vo=!0,h.add(a),t=xg.bind(null,t,s,a),s.then(t,t))}function xg(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,xe===t&&(ce&a)===a&&(ke===4||ke===3&&(ce&62914560)===ce&&300>Ht()-Co?(ge&2)===0&&Us(t,0):yo|=a,Ns===ce&&(Ns=0)),Ft(t)}function ef(t,s){s===0&&(s=Zu()),t=Es(t,s),t!==null&&(tl(t,s),Ft(t))}function Mg(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),ef(t,a)}function Dg(t,s){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(s),ef(t,a)}function zg(t,s){return Ua(t,s)}var ua=null,js=null,zo=!1,ha=!1,Lo=!1,is=0;function Ft(t){t!==js&&t.next===null&&(js===null?ua=js=t:js=js.next=t),ha=!0,zo||(zo=!0,kg())}function Fl(t,s){if(!Lo&&ha){Lo=!0;do for(var a=!1,o=ua;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var b=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-ut(42|t)+1)-1,f&=h&~(b&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,nf(o,f))}else f=ce,f=gn(o,o===xe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||el(o,f)||(a=!0,nf(o,f));o=o.next}while(a);Lo=!1}}function Lg(){tf()}function tf(){ha=zo=!1;var t=0;is!==0&&(Vg()&&(t=is),is=0);for(var s=Ht(),a=null,o=ua;o!==null;){var h=o.next,f=sf(o,s);f===0?(o.next=null,a===null?ua=h:a.next=h,h===null&&(js=a)):(a=o,(t!==0||(f&3)!==0)&&(ha=!0)),o=h}Fl(t)}function sf(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-ut(f),v=1<<b,C=h[b];C===-1?((v&a)===0||(v&o)!==0)&&(h[b]=im(v,s)):C<=s&&(t.expiredLanes|=v),f&=~v}if(s=xe,a=ce,a=gn(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&(be===2||be===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ga(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||el(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&Ga(o),Wa(a)){case 2:case 8:a=Xu;break;case 32:a=fn;break;case 268435456:a=Qu;break;default:a=fn}return o=lf.bind(null,t),a=Ua(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&Ga(o),t.callbackPriority=2,t.callbackNode=null,2}function lf(t,s){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(oa()&&t.callbackNode!==a)return null;var o=ce;return o=gn(t,t===xe?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Vd(t,o,s),sf(t,Ht()),t.callbackNode!=null&&t.callbackNode===a?lf.bind(null,t):null)}function nf(t,s){if(oa())return null;Vd(t,s,!0)}function kg(){Gg(function(){(ge&6)!==0?Ua(Yu,Lg):tf()})}function ko(){return is===0&&(is=Ku()),is}function af(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cn(""+t)}function rf(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Ag(t,s,a,o,h){if(s==="submit"&&a&&a.stateNode===h){var f=af((h[tt]||null).action),b=o.submitter;b&&(s=(s=b[tt]||null)?af(s.formAction):b.getAttribute("formAction"),s!==null&&(f=s,b=null));var v=new Sn("action","action",null,o,h);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(is!==0){var C=b?rf(h,b):new FormData(h);Zr(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(v.preventDefault(),C=b?rf(h,b):new FormData(h),Zr(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Ao=0;Ao<mr.length;Ao++){var Ho=mr[Ao],Hg=Ho.toLowerCase(),Og=Ho[0].toUpperCase()+Ho.slice(1);Mt(Hg,"on"+Og)}Mt(Vh,"onAnimationEnd"),Mt(Uh,"onAnimationIteration"),Mt(Gh,"onAnimationStart"),Mt("dblclick","onDoubleClick"),Mt("focusin","onFocus"),Mt("focusout","onBlur"),Mt(Im,"onTransitionRun"),Mt(Jm,"onTransitionStart"),Mt($m,"onTransitionCancel"),Mt(jh,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_g=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function of(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(s)for(var b=o.length-1;0<=b;b--){var v=o[b],C=v.instance,z=v.currentTarget;if(v=v.listener,C!==f&&h.isPropagationStopped())break e;f=v,h.currentTarget=z;try{f(h)}catch(O){In(O)}h.currentTarget=null,f=C}else for(b=0;b<o.length;b++){if(v=o[b],C=v.instance,z=v.currentTarget,v=v.listener,C!==f&&h.isPropagationStopped())break e;f=v,h.currentTarget=z;try{f(h)}catch(O){In(O)}h.currentTarget=null,f=C}}}}function ue(t,s){var a=s[qa];a===void 0&&(a=s[qa]=new Set);var o=t+"__bubble";a.has(o)||(uf(s,t,2,!1),a.add(o))}function Oo(t,s,a){var o=0;s&&(o|=4),uf(a,t,o,s)}var ca="_reactListening"+Math.random().toString(36).slice(2);function _o(t){if(!t[ca]){t[ca]=!0,th.forEach(function(a){a!=="selectionchange"&&(_g.has(a)||Oo(a,!1,t),Oo(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ca]||(s[ca]=!0,Oo("selectionchange",!1,s))}}function uf(t,s,a,o){switch(Hf(s)){case 2:var h=ob;break;case 8:h=ub;break;default:h=Ko}a=h.bind(null,s,a,t),h=void 0,!ir||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function Bo(t,s,a,o,h){var f=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var v=o.stateNode.containerInfo;if(v===h)break;if(b===4)for(b=o.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;v!==null;){if(b=us(v),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){o=f=b;continue e}v=v.parentNode}}o=o.return}mh(function(){var z=f,O=er(a),N=[];e:{var L=Ph.get(t);if(L!==void 0){var A=Sn,ee=t;switch(t){case"keypress":if(Rn(a)===0)break e;case"keydown":case"keyup":A=zm;break;case"focusin":ee="focus",A=ar;break;case"focusout":ee="blur",A=ar;break;case"beforeblur":case"afterblur":A=ar;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Am;break;case Vh:case Uh:case Gh:A=wm;break;case jh:A=Om;break;case"scroll":case"scrollend":A=mm;break;case"wheel":A=Bm;break;case"copy":case"cut":case"paste":A=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=wh;break;case"toggle":case"beforetoggle":A=Fm}var I=(s&4)!==0,Ce=!I&&(t==="scroll"||t==="scrollend"),x=I?L!==null?L+"Capture":null:L;I=[];for(var S=z,D;S!==null;){var B=S;if(D=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||D===null||x===null||(B=ll(S,x),B!=null&&I.push(Ul(S,B,D))),Ce)break;S=S.return}0<I.length&&(L=new A(L,ee,null,a,O),N.push({event:L,listeners:I}))}}if((s&7)===0){e:{if(L=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",L&&a!==$a&&(ee=a.relatedTarget||a.fromElement)&&(us(ee)||ee[os]))break e;if((A||L)&&(L=O.window===O?O:(L=O.ownerDocument)?L.defaultView||L.parentWindow:window,A?(ee=a.relatedTarget||a.toElement,A=z,ee=ee?us(ee):null,ee!==null&&(Ce=r(ee),I=ee.tag,ee!==Ce||I!==5&&I!==27&&I!==6)&&(ee=null)):(A=null,ee=z),A!==ee)){if(I=vh,B="onMouseLeave",x="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(I=wh,B="onPointerLeave",x="onPointerEnter",S="pointer"),Ce=A==null?L:sl(A),D=ee==null?L:sl(ee),L=new I(B,S+"leave",A,a,O),L.target=Ce,L.relatedTarget=D,B=null,us(O)===z&&(I=new I(x,S+"enter",ee,a,O),I.target=D,I.relatedTarget=Ce,B=I),Ce=B,A&&ee)t:{for(I=A,x=ee,S=0,D=I;D;D=Ps(D))S++;for(D=0,B=x;B;B=Ps(B))D++;for(;0<S-D;)I=Ps(I),S--;for(;0<D-S;)x=Ps(x),D--;for(;S--;){if(I===x||x!==null&&I===x.alternate)break t;I=Ps(I),x=Ps(x)}I=null}else I=null;A!==null&&hf(N,L,A,I,!1),ee!==null&&Ce!==null&&hf(N,Ce,ee,I,!0)}}e:{if(L=z?sl(z):window,A=L.nodeName&&L.nodeName.toLowerCase(),A==="select"||A==="input"&&L.type==="file")var X=Dh;else if(xh(L))if(zh)X=Qm;else{X=Ym;var ae=qm}else A=L.nodeName,!A||A.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?z&&Ja(z.elementType)&&(X=Dh):X=Xm;if(X&&(X=X(t,z))){Mh(N,X,a,O);break e}ae&&ae(t,L,z),t==="focusout"&&z&&L.type==="number"&&z.memoizedProps.value!=null&&Ia(L,"number",L.value)}switch(ae=z?sl(z):window,t){case"focusin":(xh(ae)||ae.contentEditable==="true")&&(ys=ae,dr=z,dl=null);break;case"focusout":dl=dr=ys=null;break;case"mousedown":fr=!0;break;case"contextmenu":case"mouseup":case"dragend":fr=!1,Nh(N,a,O);break;case"selectionchange":if(Zm)break;case"keydown":case"keyup":Nh(N,a,O)}var Q;if(or)e:{switch(t){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else vs?Th(t,a)&&(J="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(J="onCompositionStart");J&&(Ch&&a.locale!=="ko"&&(vs||J!=="onCompositionStart"?J==="onCompositionEnd"&&vs&&(Q=gh()):(ci=O,sr="value"in ci?ci.value:ci.textContent,vs=!0)),ae=da(z,J),0<ae.length&&(J=new yh(J,t,null,a,O),N.push({event:J,listeners:ae}),Q?J.data=Q:(Q=Sh(a),Q!==null&&(J.data=Q)))),(Q=Um?Gm(t,a):jm(t,a))&&(J=da(z,"onBeforeInput"),0<J.length&&(ae=new yh("onBeforeInput","beforeinput",null,a,O),N.push({event:ae,listeners:J}),ae.data=Q)),Ag(N,t,z,a,O)}of(N,s)})}function Ul(t,s,a){return{instance:t,listener:s,currentTarget:a}}function da(t,s){for(var a=s+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ll(t,a),h!=null&&o.unshift(Ul(t,h,f)),h=ll(t,s),h!=null&&o.push(Ul(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hf(t,s,a,o,h){for(var f=s._reactName,b=[];a!==null&&a!==o;){var v=a,C=v.alternate,z=v.stateNode;if(v=v.tag,C!==null&&C===o)break;v!==5&&v!==26&&v!==27||z===null||(C=z,h?(z=ll(a,f),z!=null&&b.unshift(Ul(a,z,C))):h||(z=ll(a,f),z!=null&&b.push(Ul(a,z,C)))),a=a.return}b.length!==0&&t.push({event:s,listeners:b})}var Bg=/\r\n?/g,Ng=/\u0000|\uFFFD/g;function cf(t){return(typeof t=="string"?t:""+t).replace(Bg,`
`).replace(Ng,"")}function df(t,s){return s=cf(s),cf(t)===s}function fa(){}function we(t,s,a,o,h,f){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||ms(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&ms(t,""+o);break;case"className":vn(t,"class",o);break;case"tabIndex":vn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,o);break;case"style":fh(t,o,f);break;case"data":if(s!=="object"){vn(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Cn(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(s!=="input"&&we(t,s,"name",h.name,h,null),we(t,s,"formEncType",h.formEncType,h,null),we(t,s,"formMethod",h.formMethod,h,null),we(t,s,"formTarget",h.formTarget,h,null)):(we(t,s,"encType",h.encType,h,null),we(t,s,"method",h.method,h,null),we(t,s,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Cn(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=fa);break;case"onScroll":o!=null&&ue("scroll",t);break;case"onScrollEnd":o!=null&&ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Cn(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ue("beforetoggle",t),ue("toggle",t),bn(t,"popover",o);break;case"xlinkActuate":Gt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Gt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Gt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Gt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Gt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Gt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":bn(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fm.get(a)||a,bn(t,a,o))}}function No(t,s,a,o,h,f){switch(a){case"style":fh(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ms(t,o):(typeof o=="number"||typeof o=="bigint")&&ms(t,""+o);break;case"onScroll":o!=null&&ue("scroll",t);break;case"onScrollEnd":o!=null&&ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ih.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),f=t[tt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(s,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):bn(t,a,o)}}}function Ye(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",t),ue("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var b=a[f];if(b!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:we(t,s,f,b,a,null)}}h&&we(t,s,"srcSet",a.srcSet,a,null),o&&we(t,s,"src",a.src,a,null);return;case"input":ue("invalid",t);var v=f=b=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var O=a[o];if(O!=null)switch(o){case"name":h=O;break;case"type":b=O;break;case"checked":C=O;break;case"defaultChecked":z=O;break;case"value":f=O;break;case"defaultValue":v=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,s));break;default:we(t,s,o,O,a,null)}}uh(t,f,v,C,z,b,h,!1),yn(t);return;case"select":ue("invalid",t),o=b=f=null;for(h in a)if(a.hasOwnProperty(h)&&(v=a[h],v!=null))switch(h){case"value":f=v;break;case"defaultValue":b=v;break;case"multiple":o=v;default:we(t,s,h,v,a,null)}s=f,a=b,t.multiple=!!o,s!=null?ps(t,!!o,s,!1):a!=null&&ps(t,!!o,a,!0);return;case"textarea":ue("invalid",t),f=h=o=null;for(b in a)if(a.hasOwnProperty(b)&&(v=a[b],v!=null))switch(b){case"value":o=v;break;case"defaultValue":h=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:we(t,s,b,v,a,null)}ch(t,o,h,f),yn(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:we(t,s,C,o,a,null)}return;case"dialog":ue("beforetoggle",t),ue("toggle",t),ue("cancel",t),ue("close",t);break;case"iframe":case"object":ue("load",t);break;case"video":case"audio":for(o=0;o<Vl.length;o++)ue(Vl[o],t);break;case"image":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"embed":case"source":case"link":ue("error",t),ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:we(t,s,z,o,a,null)}return;default:if(Ja(s)){for(O in a)a.hasOwnProperty(O)&&(o=a[O],o!==void 0&&No(t,s,O,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&we(t,s,v,o,a,null))}function Fg(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,b=null,v=null,C=null,z=null,O=null;for(A in a){var N=a[A];if(a.hasOwnProperty(A)&&N!=null)switch(A){case"checked":break;case"value":break;case"defaultValue":C=N;default:o.hasOwnProperty(A)||we(t,s,A,null,o,N)}}for(var L in o){var A=o[L];if(N=a[L],o.hasOwnProperty(L)&&(A!=null||N!=null))switch(L){case"type":f=A;break;case"name":h=A;break;case"checked":z=A;break;case"defaultChecked":O=A;break;case"value":b=A;break;case"defaultValue":v=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(137,s));break;default:A!==N&&we(t,s,L,A,o,N)}}Za(t,b,v,C,z,O,f,h);return;case"select":A=b=v=L=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":A=C;default:o.hasOwnProperty(f)||we(t,s,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":L=f;break;case"defaultValue":v=f;break;case"multiple":b=f;default:f!==C&&we(t,s,h,f,o,C)}s=v,a=b,o=A,L!=null?ps(t,!!a,L,!1):!!o!=!!a&&(s!=null?ps(t,!!a,s,!0):ps(t,!!a,a?[]:"",!1));return;case"textarea":A=L=null;for(v in a)if(h=a[v],a.hasOwnProperty(v)&&h!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:we(t,s,v,null,o,h)}for(b in o)if(h=o[b],f=a[b],o.hasOwnProperty(b)&&(h!=null||f!=null))switch(b){case"value":L=h;break;case"defaultValue":A=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==f&&we(t,s,b,h,o,f)}hh(t,L,A);return;case"option":for(var ee in a)if(L=a[ee],a.hasOwnProperty(ee)&&L!=null&&!o.hasOwnProperty(ee))switch(ee){case"selected":t.selected=!1;break;default:we(t,s,ee,null,o,L)}for(C in o)if(L=o[C],A=a[C],o.hasOwnProperty(C)&&L!==A&&(L!=null||A!=null))switch(C){case"selected":t.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:we(t,s,C,L,o,A)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in a)L=a[I],a.hasOwnProperty(I)&&L!=null&&!o.hasOwnProperty(I)&&we(t,s,I,null,o,L);for(z in o)if(L=o[z],A=a[z],o.hasOwnProperty(z)&&L!==A&&(L!=null||A!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,s));break;default:we(t,s,z,L,o,A)}return;default:if(Ja(s)){for(var Ce in a)L=a[Ce],a.hasOwnProperty(Ce)&&L!==void 0&&!o.hasOwnProperty(Ce)&&No(t,s,Ce,void 0,o,L);for(O in o)L=o[O],A=a[O],!o.hasOwnProperty(O)||L===A||L===void 0&&A===void 0||No(t,s,O,L,o,A);return}}for(var x in a)L=a[x],a.hasOwnProperty(x)&&L!=null&&!o.hasOwnProperty(x)&&we(t,s,x,null,o,L);for(N in o)L=o[N],A=a[N],!o.hasOwnProperty(N)||L===A||L==null&&A==null||we(t,s,N,L,o,A)}var Fo=null,Vo=null;function pa(t){return t.nodeType===9?t:t.ownerDocument}function ff(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pf(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Uo(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Go=null;function Vg(){var t=window.event;return t&&t.type==="popstate"?t===Go?!1:(Go=t,!0):(Go=null,!1)}var mf=typeof setTimeout=="function"?setTimeout:void 0,Ug=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,Gg=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(t){return gf.resolve(null).then(t).catch(jg)}:mf;function jg(t){setTimeout(function(){throw t})}function Mi(t){return t==="head"}function bf(t,s){var a=s,o=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var b=t.ownerDocument;if(a&1&&Gl(b.documentElement),a&2&&Gl(b.body),a&4)for(a=b.head,Gl(a),b=a.firstChild;b;){var v=b.nextSibling,C=b.nodeName;b[il]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=v}}if(h===0){t.removeChild(f),Kl(s);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);Kl(s)}function jo(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jo(a),Ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Pg(t,s,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[il])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zt(t.nextSibling),t===null)break}return null}function Wg(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zt(t.nextSibling),t===null))return null;return t}function Po(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function qg(t,s){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function zt(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Wo=null;function vf(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function yf(t,s,a){switch(s=pa(a),t){case"html":if(t=s.documentElement,!t)throw Error(l(452));return t;case"head":if(t=s.head,!t)throw Error(l(453));return t;case"body":if(t=s.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Gl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ya(t)}var xt=new Map,wf=new Set;function ma(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ti=q.d;q.d={f:Yg,r:Xg,D:Qg,C:Kg,L:Zg,m:Ig,X:$g,S:Jg,M:eb};function Yg(){var t=ti.f(),s=aa();return t||s}function Xg(t){var s=hs(t);s!==null&&s.tag===5&&s.type==="form"?Vc(s):ti.r(t)}var Ws=typeof document>"u"?null:document;function Cf(t,s,a){var o=Ws;if(o&&typeof s=="string"&&s){var h=yt(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),wf.has(h)||(wf.add(h),t={rel:t,crossOrigin:a,href:s},o.querySelector(h)===null&&(s=o.createElement("link"),Ye(s,"link",t),Ue(s),o.head.appendChild(s)))}}function Qg(t){ti.D(t),Cf("dns-prefetch",t,null)}function Kg(t,s){ti.C(t,s),Cf("preconnect",t,s)}function Zg(t,s,a){ti.L(t,s,a);var o=Ws;if(o&&t&&s){var h='link[rel="preload"][as="'+yt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(t)+'"]';var f=h;switch(s){case"style":f=qs(t);break;case"script":f=Ys(t)}xt.has(f)||(t=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),xt.set(f,t),o.querySelector(h)!==null||s==="style"&&o.querySelector(jl(f))||s==="script"&&o.querySelector(Pl(f))||(s=o.createElement("link"),Ye(s,"link",t),Ue(s),o.head.appendChild(s)))}}function Ig(t,s){ti.m(t,s);var a=Ws;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+yt(o)+'"][href="'+yt(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ys(t)}if(!xt.has(f)&&(t=g({rel:"modulepreload",href:t},s),xt.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(f)))return}o=a.createElement("link"),Ye(o,"link",t),Ue(o),a.head.appendChild(o)}}}function Jg(t,s,a){ti.S(t,s,a);var o=Ws;if(o&&t){var h=cs(o).hoistableStyles,f=qs(t);s=s||"default";var b=h.get(f);if(!b){var v={loading:0,preload:null};if(b=o.querySelector(jl(f)))v.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":s},a),(a=xt.get(f))&&qo(t,a);var C=b=o.createElement("link");Ue(C),Ye(C,"link",t),C._p=new Promise(function(z,O){C.onload=z,C.onerror=O}),C.addEventListener("load",function(){v.loading|=1}),C.addEventListener("error",function(){v.loading|=2}),v.loading|=4,ga(b,s,o)}b={type:"stylesheet",instance:b,count:1,state:v},h.set(f,b)}}}function $g(t,s){ti.X(t,s);var a=Ws;if(a&&t){var o=cs(a).hoistableScripts,h=Ys(t),f=o.get(h);f||(f=a.querySelector(Pl(h)),f||(t=g({src:t,async:!0},s),(s=xt.get(h))&&Yo(t,s),f=a.createElement("script"),Ue(f),Ye(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function eb(t,s){ti.M(t,s);var a=Ws;if(a&&t){var o=cs(a).hoistableScripts,h=Ys(t),f=o.get(h);f||(f=a.querySelector(Pl(h)),f||(t=g({src:t,async:!0,type:"module"},s),(s=xt.get(h))&&Yo(t,s),f=a.createElement("script"),Ue(f),Ye(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ef(t,s,a,o){var h=(h=ie.current)?ma(h):null;if(!h)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=qs(a.href),a=cs(h).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qs(a.href);var f=cs(h).hoistableStyles,b=f.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=h.querySelector(jl(t)))&&!f._p&&(b.instance=f,b.state.loading=5),xt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xt.set(t,a),f||tb(h,t,a,b.state))),s&&o===null)throw Error(l(528,""));return b}if(s&&o!==null)throw Error(l(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ys(a),a=cs(h).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function qs(t){return'href="'+yt(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function Rf(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function tb(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Ye(s,"link",a),Ue(s),t.head.appendChild(s))}function Ys(t){return'[src="'+yt(t)+'"]'}function Pl(t){return"script[async]"+t}function Tf(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+yt(a.href)+'"]');if(o)return s.instance=o,Ue(o),o;var h=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ue(o),Ye(o,"style",h),ga(o,a.precedence,t),s.instance=o;case"stylesheet":h=qs(a.href);var f=t.querySelector(jl(h));if(f)return s.state.loading|=4,s.instance=f,Ue(f),f;o=Rf(a),(h=xt.get(h))&&qo(o,h),f=(t.ownerDocument||t).createElement("link"),Ue(f);var b=f;return b._p=new Promise(function(v,C){b.onload=v,b.onerror=C}),Ye(f,"link",o),s.state.loading|=4,ga(f,a.precedence,t),s.instance=f;case"script":return f=Ys(a.src),(h=t.querySelector(Pl(f)))?(s.instance=h,Ue(h),h):(o=a,(h=xt.get(f))&&(o=g({},a),Yo(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ue(h),Ye(h,"link",o),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(l(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,ga(o,a.precedence,t));return s.instance}function ga(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,b=0;b<o.length;b++){var v=o[b];if(v.dataset.precedence===s)f=v;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function qo(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Yo(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var ba=null;function Sf(t,s,a){if(ba===null){var o=new Map,h=ba=new Map;h.set(a,o)}else h=ba,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[il]||f[Ke]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(s)||"";b=t+b;var v=o.get(b);v?v.push(f):o.set(b,[f])}}return o}function xf(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function ib(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Mf(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Wl=null;function sb(){}function lb(t,s,a){if(Wl===null)throw Error(l(475));var o=Wl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=qs(a.href),f=t.querySelector(jl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=va.bind(o),t.then(o,o)),s.state.loading|=4,s.instance=f,Ue(f);return}f=t.ownerDocument||t,a=Rf(a),(h=xt.get(h))&&qo(a,h),f=f.createElement("link"),Ue(f);var b=f;b._p=new Promise(function(v,C){b.onload=v,b.onerror=C}),Ye(f,"link",a),s.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(o.count++,s=va.bind(o),t.addEventListener("load",s),t.addEventListener("error",s))}}function nb(){if(Wl===null)throw Error(l(475));var t=Wl;return t.stylesheets&&t.count===0&&Xo(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&Xo(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function va(){if(this.count--,this.count===0){if(this.stylesheets)Xo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ya=null;function Xo(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ya=new Map,s.forEach(ab,t),ya=null,va.call(t))}function ab(t,s){if(!(s.state.loading&4)){var a=ya.get(t);if(a)var o=a.get(null);else{a=new Map,ya.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var b=h[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),o=b)}o&&a.set(null,o)}h=s.instance,b=h.getAttribute("data-precedence"),f=a.get(b)||o,f===o&&a.set(null,h),a.set(b,h),this.count++,o=va.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var ql={$$typeof:P,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function rb(t,s,a,o,h,f,b,v){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Df(t,s,a,o,h,f,b,v,C,z,O,N){return t=new rb(t,s,a,b,v,C,z,N),s=1,f===!0&&(s|=24),f=ct(3,null,null,s),t.current=f,f.stateNode=t,s=Mr(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:s},kr(f),t}function zf(t){return t?(t=Rs,t):Rs}function Lf(t,s,a,o,h,f){h=zf(h),o.context===null?o.context=h:o.pendingContext=h,o=pi(s),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=mi(t,o,s),a!==null&&(gt(a,t,s),Cl(a,t,s))}function kf(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Qo(t,s){kf(t,s),(t=t.alternate)&&kf(t,s)}function Af(t){if(t.tag===13){var s=Es(t,67108864);s!==null&&gt(s,t,67108864),Qo(t,67108864)}}var wa=!0;function ob(t,s,a,o){var h=_.T;_.T=null;var f=q.p;try{q.p=2,Ko(t,s,a,o)}finally{q.p=f,_.T=h}}function ub(t,s,a,o){var h=_.T;_.T=null;var f=q.p;try{q.p=8,Ko(t,s,a,o)}finally{q.p=f,_.T=h}}function Ko(t,s,a,o){if(wa){var h=Zo(o);if(h===null)Bo(t,s,o,Ca,a),Of(t,o);else if(cb(h,t,s,a,o))o.stopPropagation();else if(Of(t,o),s&4&&-1<hb.indexOf(t)){for(;h!==null;){var f=hs(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=Vi(f.pendingLanes);if(b!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;b;){var C=1<<31-ut(b);v.entanglements[1]|=C,b&=~C}Ft(f),(ge&6)===0&&(la=Ht()+500,Fl(0))}}break;case 13:v=Es(f,2),v!==null&&gt(v,f,2),aa(),Qo(f,2)}if(f=Zo(o),f===null&&Bo(t,s,o,Ca,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Bo(t,s,o,null,a)}}function Zo(t){return t=er(t),Io(t)}var Ca=null;function Io(t){if(Ca=null,t=us(t),t!==null){var s=r(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=u(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Ca=t,null}function Hf(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kp()){case Yu:return 2;case Xu:return 8;case fn:case Zp:return 32;case Qu:return 268435456;default:return 32}default:return 32}}var Jo=!1,Di=null,zi=null,Li=null,Yl=new Map,Xl=new Map,ki=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Of(t,s){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Yl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(s.pointerId)}}function Ql(t,s,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},s!==null&&(s=hs(s),s!==null&&Af(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function cb(t,s,a,o,h){switch(s){case"focusin":return Di=Ql(Di,t,s,a,o,h),!0;case"dragenter":return zi=Ql(zi,t,s,a,o,h),!0;case"mouseover":return Li=Ql(Li,t,s,a,o,h),!0;case"pointerover":var f=h.pointerId;return Yl.set(f,Ql(Yl.get(f)||null,t,s,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Xl.set(f,Ql(Xl.get(f)||null,t,s,a,o,h)),!0}return!1}function _f(t){var s=us(t.target);if(s!==null){var a=r(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){t.blockedOn=s,lm(t.priority,function(){if(a.tag===13){var o=mt();o=Pa(o);var h=Es(a,o);h!==null&&gt(h,a,o),Qo(a,o)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ea(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Zo(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);$a=o,a.target.dispatchEvent(o),$a=null}else return s=hs(a),s!==null&&Af(s),t.blockedOn=a,!1;s.shift()}return!0}function Bf(t,s,a){Ea(t)&&a.delete(s)}function db(){Jo=!1,Di!==null&&Ea(Di)&&(Di=null),zi!==null&&Ea(zi)&&(zi=null),Li!==null&&Ea(Li)&&(Li=null),Yl.forEach(Bf),Xl.forEach(Bf)}function Ra(t,s){t.blockedOn===s&&(t.blockedOn=null,Jo||(Jo=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,db)))}var Ta=null;function Nf(t){Ta!==t&&(Ta=t,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Ta===t&&(Ta=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],h=t[s+2];if(typeof o!="function"){if(Io(o||a)===null)continue;break}var f=hs(a);f!==null&&(t.splice(s,3),s-=3,Zr(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Kl(t){function s(C){return Ra(C,t)}Di!==null&&Ra(Di,t),zi!==null&&Ra(zi,t),Li!==null&&Ra(Li,t),Yl.forEach(s),Xl.forEach(s);for(var a=0;a<ki.length;a++){var o=ki[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ki.length&&(a=ki[0],a.blockedOn===null);)_f(a),a.blockedOn===null&&ki.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],b=h[tt]||null;if(typeof f=="function")b||Nf(a);else if(b){var v=null;if(f&&f.hasAttribute("formAction")){if(h=f,b=f[tt]||null)v=b.formAction;else if(Io(h)!==null)continue}else v=b.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),Nf(a)}}}function $o(t){this._internalRoot=t}Sa.prototype.render=$o.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(l(409));var a=s.current,o=mt();Lf(a,o,t,s,null,null)},Sa.prototype.unmount=$o.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Lf(t.current,2,null,t,null,null),aa(),s[os]=null}};function Sa(t){this._internalRoot=t}Sa.prototype.unstable_scheduleHydration=function(t){if(t){var s=$u();t={blockedOn:null,target:t,priority:s};for(var a=0;a<ki.length&&s!==0&&s<ki[a].priority;a++);ki.splice(a,0,t),a===0&&_f(t)}};var Ff=e.version;if(Ff!=="19.1.0")throw Error(l(527,Ff,"19.1.0"));q.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=p(s),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var fb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{$s=xa.inject(fb),ot=xa}catch{}}return Il.createRoot=function(t,s){if(!n(t))throw Error(l(299));var a=!1,o="",h=$c,f=ed,b=td,v=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(v=s.unstable_transitionCallbacks)),s=Df(t,1,!1,null,null,a,o,h,f,b,v,null),t[os]=s.current,_o(t),new $o(s)},Il.hydrateRoot=function(t,s,a){if(!n(t))throw Error(l(299));var o=!1,h="",f=$c,b=ed,v=td,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),s=Df(t,1,!0,s,a??null,o,h,f,b,v,C,z),s.context=zf(null),a=s.current,o=mt(),o=Pa(o),h=pi(o),h.callback=null,mi(a,h,o),a=o,s.current.lanes=a,tl(s,a),Ft(s),t[os]=s.current,_o(t),new Sa(s)},Il.version="19.1.0",Il}var Qf;function Sb(){if(Qf)return iu.exports;Qf=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(e){console.error(e)}}return c(),iu.exports=Tb(),iu.exports}var xb=Sb();class Xe{constructor(e){this.table=e}reloadData(e,i,l){return this.table.dataLoader.load(e,void 0,void 0,void 0,i,l)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(e){return this.table.modules.layout.layout(e)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(e){return this.table.eventBus.subscribed(e)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(e){return this.table.externalEvents.subscribed(e)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(e){return this.table.options[e]}setOption(e,i){return typeof i<"u"&&(this.table.options[e]=i),this.table.options[e]}deprecationCheck(e,i,l){return this.table.deprecationAdvisor.check(e,i,l)}deprecationCheckMsg(e,i){return this.table.deprecationAdvisor.checkMsg(e,i)}deprecationMsg(e){return this.table.deprecationAdvisor.msg(e)}module(e){return this.table.module(e)}}class Se{static elVisible(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}static elOffset(e){var i=e.getBoundingClientRect();return{top:i.top+window.pageYOffset-document.documentElement.clientTop,left:i.left+window.pageXOffset-document.documentElement.clientLeft}}static retrieveNestedData(e,i,l){var n=e?i.split(e):[i],r=n.length,u;for(let d=0;d<r&&(l=l[n[d]],u=l,!!l);d++);return u}static deepClone(e,i,l=[]){var n={}.__proto__,r=[].__proto__;i||(i=Object.assign(Array.isArray(e)?[]:{},e));for(var u in e){let d=e[u],p,m;d!=null&&typeof d=="object"&&(d.__proto__===n||d.__proto__===r)&&(p=l.findIndex(g=>g.subject===d),p>-1?i[u]=l[p].copy:(m=Object.assign(Array.isArray(d)?[]:{},d),l.unshift({subject:d,copy:m}),i[u]=this.deepClone(d,m,l)))}return i}}let Mb=class ap extends Xe{constructor(e,i,l){super(e),this.element=i,this.container=this._lookupContainer(),this.parent=l,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var e=this.table.options.popupContainer;return typeof e=="string"?(e=document.querySelector(e),e||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)")):e===!0&&(e=this.table.element),e&&!this._checkContainerIsParent(e)&&(e=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),e||(e=document.body),e}_checkContainerIsParent(e,i=this.table.element){return e===i?!0:i.parentNode?this._checkContainerIsParent(e,i.parentNode):!1}renderCallback(e){this.renderedCallback=e}containerEventCoords(e){var i=!(e instanceof MouseEvent),l=i?e.touches[0].pageX:e.pageX,n=i?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let r=Se.elOffset(this.container);l-=r.left,n-=r.top}return{x:l,y:n}}elementPositionCoords(e,i="right"){var l=Se.elOffset(e),n,r,u;switch(this.container!==document.body&&(n=Se.elOffset(this.container),l.left-=n.left,l.top-=n.top),i){case"right":r=l.left+e.offsetWidth,u=l.top-1;break;case"bottom":r=l.left,u=l.top+e.offsetHeight;break;case"left":r=l.left,u=l.top-1;break;case"top":r=l.left,u=l.top;break;case"center":r=l.left+e.offsetWidth/2,u=l.top+e.offsetHeight/2;break}return{x:r,y:u,offset:l}}show(e,i){var l,n,r,u,d;return this.destroyed||this.table.destroyed?this:(e instanceof HTMLElement?(r=e,d=this.elementPositionCoords(e,i),u=d.offset,l=d.x,n=d.y):typeof e=="number"?(u={top:0,left:0},l=e,n=i):(d=this.containerEventCoords(e),l=d.x,n=d.y,this.reversedX=!1),this.element.style.top=n+"px",this.element.style.left=l+"px",this.container.appendChild(this.element),typeof this.renderedCallback=="function"&&this.renderedCallback(),this._fitToScreen(l,n,r,u,i),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",p=>{p.stopPropagation()}),this)}_fitToScreen(e,i,l,n,r){var u=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;(e+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",l?this.element.style.right=this.container.offsetWidth-n.left+"px":this.element.style.right=this.container.offsetWidth-e+"px",this.reversedX=!0);let d=Math.max(this.container.offsetHeight,u?this.container.scrollHeight:0);if(i+this.element.offsetHeight>d)if(l)switch(r){case"bottom":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-l.offsetHeight-1+"px";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+l.offsetHeight+1+"px"}else this.element.style.height=d+"px"}isVisible(){return this.visible}hideOnBlur(e){return this.blurable=!0,this.visible&&(setTimeout(()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)},100),this.blurCallback=e),this}_escapeCheck(e){e.keyCode==27&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(e=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!e&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(e){return this.childPopup&&this.childPopup.hide(),this.childPopup=new ap(this.table,e,this),this.childPopup}};class le extends Xe{constructor(e,i){super(e),this._handler=null}initialize(){}registerTableOption(e,i){this.table.optionsList.register(e,i)}registerColumnOption(e,i){this.table.columnManager.optionsList.register(e,i)}registerTableFunction(e,i){typeof this.table[e]>"u"?this.table[e]=(...l)=>(this.table.initGuard(e),i(...l)):console.warn("Unable to bind table function, name already in use",e)}registerComponentFunction(e,i,l){return this.table.componentFunctionBinder.bind(e,i,l)}registerDataHandler(e,i){this.table.rowManager.registerDataPipelineHandler(e,i),this._handler=e}registerDisplayHandler(e,i){this.table.rowManager.registerDisplayPipelineHandler(e,i),this._handler=e}displayRows(e){var i=this.table.rowManager.displayRows.length-1,l;if(this._handler&&(l=this.table.rowManager.displayPipeline.findIndex(n=>n.handler===this._handler),l>-1&&(i=l)),e&&(i=i+e),this._handler)return i>-1?this.table.rowManager.getDisplayRows(i):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(e,i){i||(i=this._handler),i&&this.table.rowManager.refreshActiveData(i,!1,e)}footerAppend(e){return this.table.footerManager.append(e)}footerPrepend(e){return this.table.footerManager.prepend(e)}footerRemove(e){return this.table.footerManager.remove(e)}popup(e,i){return new Mb(this.table,e,i)}alert(e,i){return this.table.alertManager.alert(e,i)}clearAlert(){return this.table.alertManager.clear()}}var Db={rownum:function(c,e,i,l,n,r){return r.getPosition()}};const Qs=class Qs extends le{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var i=!1,l={};this.allowedTypes.forEach(n=>{var r="accessor"+(n.charAt(0).toUpperCase()+n.slice(1)),u;e.definition[r]&&(u=this.lookupAccessor(e.definition[r]),u&&(i=!0,l[r]={accessor:u,params:e.definition[r+"Params"]||{}}))}),i&&(e.modules.accessor=l)}lookupAccessor(e){var i=!1;switch(typeof e){case"string":Qs.accessors[e]?i=Qs.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":i=e;break}return i}transformRow(e,i){var l="accessor"+(i.charAt(0).toUpperCase()+i.slice(1)),n=e.getComponent(),r=Se.deepClone(e.data||{});return this.table.columnManager.traverse(function(u){var d,p,m,g;u.modules.accessor&&(p=u.modules.accessor[l]||u.modules.accessor.accessor||!1,p&&(d=u.getFieldValue(r),d!="undefined"&&(g=u.getComponent(),m=typeof p.params=="function"?p.params(d,r,i,g,n):p.params,u.setFieldValue(r,p.accessor(d,r,i,m,g,n)))))}),r}};G(Qs,"moduleName","accessor"),G(Qs,"accessors",Db);let cu=Qs;var zb={method:"GET"};function du(c,e){var i=[];if(e=e||"",Array.isArray(c))c.forEach((n,r)=>{i=i.concat(du(n,e?e+"["+r+"]":r))});else if(typeof c=="object")for(var l in c)i=i.concat(du(c[l],e?e+"["+l+"]":l));else i.push({key:e,value:c});return i}function Lb(c){var e=du(c),i=[];return e.forEach(function(l){i.push(encodeURIComponent(l.key)+"="+encodeURIComponent(l.value))}),i.join("&")}function rp(c,e,i){return c&&i&&Object.keys(i).length&&(!e.method||e.method.toLowerCase()=="get")&&(e.method="get",c+=(c.includes("?")?"&":"?")+Lb(i)),c}function kb(c,e,i){var l;return new Promise((n,r)=>{if(c=this.urlGenerator.call(this.table,c,e,i),e.method.toUpperCase()!="GET")if(l=typeof this.table.options.ajaxContentType=="object"?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType],l){for(var u in l.headers)e.headers||(e.headers={}),typeof e.headers[u]>"u"&&(e.headers[u]=l.headers[u]);e.body=l.body.call(this,c,e,i)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);c?(typeof e.headers>"u"&&(e.headers={}),typeof e.headers.Accept>"u"&&(e.headers.Accept="application/json"),typeof e.headers["X-Requested-With"]>"u"&&(e.headers["X-Requested-With"]="XMLHttpRequest"),typeof e.mode>"u"&&(e.mode="cors"),e.mode=="cors"?(typeof e.headers.Origin>"u"&&(e.headers.Origin=window.location.origin),typeof e.credentials>"u"&&(e.credentials="same-origin")):typeof e.credentials>"u"&&(e.credentials="include"),fetch(c,e).then(d=>{d.ok?d.json().then(p=>{n(p)}).catch(p=>{r(p),console.warn("Ajax Load Error - Invalid JSON returned",p)}):(console.error("Ajax Load Error - Connection Error: "+d.status,d.statusText),r(d))}).catch(d=>{console.error("Ajax Load Error - Connection Error: ",d),r(d)})):(console.warn("Ajax Load Error - No URL Set"),n([]))})}function fu(c,e){var i=[];if(e=e||"",Array.isArray(c))c.forEach((n,r)=>{i=i.concat(fu(n,e?e+"["+r+"]":r))});else if(typeof c=="object")for(var l in c)i=i.concat(fu(c[l],e?e+"["+l+"]":l));else i.push({key:e,value:c});return i}var Ab={json:{headers:{"Content-Type":"application/json"},body:function(c,e,i){return JSON.stringify(i)}},form:{headers:{},body:function(c,e,i){var l=fu(i),n=new FormData;return l.forEach(function(r){n.append(r.key,r.value)}),n}}};const Lt=class Lt extends le{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=Lt.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||Lt.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||Lt.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,i,l,n){var r=this.table.options.ajaxParams;return r&&(typeof r=="function"&&(r=r.call(this.table)),n=Object.assign(Object.assign({},r),n)),n}requestDataCheck(e,i,l,n){return!!(!e&&this.url||typeof e=="string")}requestData(e,i,l,n,r){var u;return!r&&this.requestDataCheck(e)?(e&&this.setUrl(e),u=this.generateConfig(l),this.sendRequest(this.url,i,u)):r}setDefaultConfig(e={}){this.config=Object.assign({},Lt.defaultConfig),typeof e=="string"?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var i=Object.assign({},this.config);return typeof e=="string"?i.method=e:Object.assign(i,e),i}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,i,l){return this.table.options.ajaxRequesting.call(this.table,e,i)!==!1?this.loaderPromise(e,l,i).then(n=>(this.table.options.ajaxResponse&&(n=this.table.options.ajaxResponse.call(this.table,e,i,n)),n)):Promise.reject()}};G(Lt,"moduleName","ajax"),G(Lt,"defaultConfig",zb),G(Lt,"defaultURLGenerator",rp),G(Lt,"defaultLoaderPromise",kb),G(Lt,"contentTypeFormatters",Ab);let pu=Lt;var Hb={replace:function(c){return this.table.setData(c)},update:function(c){return this.table.updateOrAddData(c)},insert:function(c){return this.table.addData(c)}},Ob={table:function(c){var e=[],i=!0,l=this.table.columnManager.columns,n=[],r=[];return c=c.split(`
`),c.forEach(function(u){e.push(u.split("	"))}),e.length&&!(e.length===1&&e[0].length<2)?(e[0].forEach(function(u){var d=l.find(function(p){return u&&p.definition.title&&u.trim()&&p.definition.title.trim()===u.trim()});d?n.push(d):i=!1}),i||(i=!0,n=[],e[0].forEach(function(u){var d=l.find(function(p){return u&&p.field&&u.trim()&&p.field.trim()===u.trim()});d?n.push(d):i=!1}),i||(n=this.table.columnManager.columnsByIndex)),i&&e.shift(),e.forEach(function(u){var d={};u.forEach(function(p,m){n[m]&&(d[n[m].field]=p)}),r.push(d)}),r):!1}},_b={copyToClipboard:["ctrl + 67","meta + 67"]},Bb={copyToClipboard:function(c){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}},Nb={keybindings:{bindings:_b,actions:Bb}};const Hi=class Hi extends le{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(this.mode===!0||this.mode==="copy")&&this.table.element.addEventListener("copy",e=>{var i,l,n;this.blocked||(e.preventDefault(),this.customSelection?(i=this.customSelection,this.table.options.clipboardCopyFormatter&&(i=this.table.options.clipboardCopyFormatter("plain",i))):(n=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),l=this.table.modules.export.generateHTMLTable(n),i=l?this.generatePlainContent(n):"",this.table.options.clipboardCopyFormatter&&(i=this.table.options.clipboardCopyFormatter("plain",i),l=this.table.options.clipboardCopyFormatter("html",l))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",i):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",i),l&&e.clipboardData.setData("text/html",l)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",i),l&&e.originalEvent.clipboardData.setData("text/html",l)),this.dispatchExternal("clipboardCopied",i,l),this.reset())}),(this.mode===!0||this.mode==="paste")&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var i=[];return e.forEach(l=>{var n=[];l.columns.forEach(r=>{var u="";if(r)if(l.type==="group"&&(r.value=r.component.getKey()),r.value===null)u="";else switch(typeof r.value){case"object":u=JSON.stringify(r.value);break;case"undefined":u="";break;default:u=r.value}n.push(u)}),i.push(n.join("	"))}),i.join(`
`)}copy(e,i){var l,n;this.blocked=!1,this.customSelection=!1,(this.mode===!0||this.mode==="copy")&&(this.rowRange=e||this.table.options.clipboardCopyRowRange,typeof window.getSelection<"u"&&typeof document.createRange<"u"?(e=document.createRange(),e.selectNodeContents(this.table.element),l=window.getSelection(),l.toString()&&i&&(this.customSelection=l.toString()),l.removeAllRanges(),l.addRange(e)):typeof document.selection<"u"&&typeof document.body.createTextRange<"u"&&(n=document.body.createTextRange(),n.moveToElementText(this.table.element),n.select()),document.execCommand("copy"),l&&l.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=Hi.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e;break}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=Hi.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e;break}}paste(e){var i,l,n;this.checkPasteOrigin(e)&&(i=this.getPasteData(e),l=this.pasteParser.call(this,i),l?(e.preventDefault(),this.table.modExists("mutator")&&(l=this.mutateData(l)),n=this.pasteAction.call(this,l),this.dispatchExternal("clipboardPasted",i,l,n)):this.dispatchExternal("clipboardPasteError",i))}mutateData(e){var i=[];return Array.isArray(e)?e.forEach(l=>{i.push(this.table.modules.mutator.transformRow(l,"clipboard"))}):i=e,i}checkPasteOrigin(e){var i=!0,l=this.confirm("clipboard-paste",[e]);return(l||!["DIV","SPAN"].includes(e.target.tagName))&&(i=!1),i}getPasteData(e){var i;return window.clipboardData&&window.clipboardData.getData?i=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?i=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(i=e.originalEvent.clipboardData.getData("text/plain")),i}};G(Hi,"moduleName","clipboard"),G(Hi,"moduleExtensions",Nb),G(Hi,"pasteActions",Hb),G(Hi,"pasteParsers",Ob);let mu=Hi;class Fb{constructor(e){return this._row=e,new Proxy(this,{get:function(i,l,n){return typeof i[l]<"u"?i[l]:i._row.table.componentFunctionBinder.handle("row",i._row,l)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var e=[];return this._row.getCells().forEach(function(i){e.push(i.getComponent())}),e}getCell(e){var i=this._row.getCell(e);return i?i.getComponent():!1}_getSelf(){return this._row}}class op{constructor(e){return this._cell=e,new Proxy(this,{get:function(i,l,n){return typeof i[l]<"u"?i[l]:i._cell.table.componentFunctionBinder.handle("cell",i._cell,l)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(e){return this._cell.row.getData(e)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(e,i){typeof i>"u"&&(i=!0),this._cell.setValue(e,i)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class on extends Xe{constructor(e,i){super(e.table),this.table=e.table,this.column=e,this.row=i,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.column.isRowHeader&&this.element.classList.add("tabulator-row-header")}_configureCell(){var e=this.element,i=this.column.getField(),l={top:"flex-start",bottom:"flex-end",middle:"center"},n={left:"flex-start",right:"flex-end",center:"center"};if(e.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(e.style.display="inline-flex",e.style.alignItems=l[this.column.vertAlign]||"",this.column.hozAlign&&(e.style.justifyContent=n[this.column.hozAlign]||"")),i&&e.setAttribute("tabulator-field",i),this.column.definition.cssClass){var r=this.column.definition.cssClass.split(" ");r.forEach(u=>{e.classList.add(u)})}this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var e;switch(e=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value),typeof e){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",e!=null&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=e}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(e,i,l){var n=this.setValueProcessData(e,i,l);n&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(e,i,l){var n=!1;return(this.value!==e||l)&&(n=!0,i&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),n&&this.dispatch("cell-value-changed",this),n}setValueActual(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new op(this)),this.component}}class up{constructor(e){return this._column=e,this.type="ColumnComponent",new Proxy(this,{get:function(i,l,n){return typeof i[l]<"u"?i[l]:i._column.table.componentFunctionBinder.handle("column",i._column,l)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var e=[];return this._column.cells.forEach(function(i){e.push(i.getComponent())}),e}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(e){e.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(e){e.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var e=[];return this._column.columns.length&&this._column.columns.forEach(function(i){e.push(i.getComponent())}),e}getParentColumn(){return this._column.getParentComponent()}_getSelf(){return this._column}scrollTo(e,i){return this._column.table.columnManager.scrollToColumn(this._column,e,i)}getTable(){return this._column.table}move(e,i){var l=this._column.table.columnManager.findColumn(e);l?this._column.table.columnManager.moveColumn(this._column,l,i):console.warn("Move Error - No matching column found:",l)}getNextColumn(){var e=this._column.nextColumn();return e?e.getComponent():!1}getPrevColumn(){var e=this._column.prevColumn();return e?e.getComponent():!1}updateDefinition(e){return this._column.updateDefinition(e)}getWidth(){return this._column.getWidth()}setWidth(e){var i;return e===!0?i=this._column.reinitializeWidth(!0):i=this._column.setWidth(e),this._column.table.columnManager.rerenderColumns(!0),i}}var hp={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};const ss=class ss extends Xe{constructor(e,i,l){super(i.table),this.definition=e,this.parent=i,this.type="column",this.columns=[],this.cells=[],this.isGroup=!1,this.isRowHeader=l,this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((n,r)=>{var u=new ss(n,this);this.attachColumn(u)}),this.checkColumnVisibility()):i.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.isRowHeader&&e.classList.add("tabulator-row-header"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end";break}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let i in e)typeof this.definition[i]>"u"&&(this.definition[i]=e[i]);this.definition=this.table.columnManager.optionsList.generate(ss.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{ss.defaultOptionList.indexOf(e)===-1&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),e.headerVertical==="flip"&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;if(this.dispatch("column-layout",this),typeof e.visible<"u"&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var i=e.cssClass.split(" ");i.forEach(l=>{this.element.classList.add(l)})}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,i=document.createElement("div");if(i.classList.add("tabulator-col-title"),e.headerWordWrap&&i.classList.add("tabulator-col-title-wrap"),e.editableTitle){var l=document.createElement("input");l.classList.add("tabulator-title-editor"),l.addEventListener("click",n=>{n.stopPropagation(),l.focus()}),l.addEventListener("mousedown",n=>{n.stopPropagation()}),l.addEventListener("change",()=>{e.title=l.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),i.appendChild(l),e.field?this.langBind("columns|"+e.field,n=>{l.value=n||e.title||"&nbsp;"}):l.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,n=>{this._formatColumnHeaderTitle(i,n||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(i,e.title||"&nbsp;");return i}_formatColumnHeaderTitle(e,i){var l=this.chain("column-format",[this,i,e],null,()=>i);switch(typeof l){case"object":l instanceof Node?e.appendChild(l):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",l));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=l}}_buildGroupHeader(){if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach(i=>{this.element.classList.add(i)})}this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var i=e,l=this.fieldStructure,n=l.length,r;for(let u=0;u<n&&(i=i[l[u]],r=i,!!i);u++);return r}_setFlatData(e,i){this.field&&(e[this.field]=i)}_setNestedData(e,i){var l=e,n=this.fieldStructure,r=n.length;for(let u=0;u<r;u++)if(u==r-1)l[n[u]]=i;else{if(!l[n[u]])if(typeof i<"u")l[n[u]]={};else break;l=l[n[u]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,i){var l=this.parent.isGroup?this.parent.getGroupElement().clientHeight:i||this.parent.getHeadersElement().clientHeight;this.element.style.height=l+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=l-this.contentElement.offsetHeight+"px"),this.columns.forEach(function(n){n.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()}),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?this.columns.length?this.columns[0].getFirstColumn():!1:this}getLastColumn(){return this.isGroup?this.columns.length?this.columns[this.columns.length-1].getLastColumn():!1:this}getColumns(e){var i=[];return e?this.columns.forEach(l=>{i.push(l),i=i.concat(l.getColumns(!0))}):i=this.columns,i}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var i=[];return this.isGroup&&e&&(this.columns.forEach(function(l){i.push(l.getDefinition(!0))}),this.definition.columns=i),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(i){i.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,i){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(l){l.show()}),!this.isGroup&&this.width===null&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,i),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,i){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(l){l.hide()}),this.dispatch("column-hide",this,i),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(i){i.visible&&(e+=i.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.table.initialized&&(this.element.style.width=e+"px"),this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var i=this.columns.indexOf(e);i>-1&&this.columns.splice(i,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(i){i.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this),this.subscribedExternal("columnWidth")&&this.dispatchExternal("columnWidth",this.getComponent())}checkCellHeights(){var e=[];this.cells.forEach(function(i){i.row.heightInitialized&&(i.row.getElement().offsetParent!==null?(e.push(i.row),i.row.clearCellHeight()):i.row.heightInitialized=!1)}),e.forEach(function(i){i.calcHeight()}),e.forEach(function(i){i.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(i){i.visible&&(e+=i.getWidth())}):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(i){i.setMinWidth()})}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(i){i.setMaxWidth()})}delete(){return new Promise((e,i)=>{this.isGroup&&this.columns.forEach(function(n){n.delete()}),this.dispatch("column-delete",this);var l=this.cells.length;for(let n=0;n<l;n++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),this.dispatch("column-deleted",this),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var i=new on(this,e);return this.cells.push(i),i}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._nextVisibleColumn(e+1):!1}_nextVisibleColumn(e){var i=this.table.columnManager.getColumnByIndex(e);return!i||i.visible?i:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._prevVisibleColumn(e-1):!1}_prevVisibleColumn(e){var i=this.table.columnManager.getColumnByIndex(e);return!i||i.visible?i:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,typeof this.definition.width<"u"&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(n=>{n.clearWidth()}));var i=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(n=>{var r=n.getWidth();r>i&&(i=r)}),i)){var l=i+1;e?this.setWidth(l):(this.maxInitialWidth&&!e&&(l=Math.min(l,this.maxInitialWidth)),this.setWidthActual(l))}}}updateDefinition(e){var i;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(i=Object.assign({},this.getDefinition()),i=Object.assign(i,e),this.table.columnManager.addColumn(i,!1,this).then(l=>(i.field==this.field&&(this.field=!1),this.delete().then(()=>l.getComponent()))))}deleteCell(e){var i=this.cells.indexOf(e);i>-1&&this.cells.splice(i,1)}getComponent(){return this.component||(this.component=new up(this)),this.component}getPosition(){return this.table.columnManager.getVisibleColumnsByIndex().indexOf(this)+1}getParentComponent(){return this.parent instanceof ss?this.parent.getComponent():!1}};G(ss,"defaultOptionList",hp);let as=ss;class Aa{constructor(e){return this._row=e,new Proxy(this,{get:function(i,l,n){return typeof i[l]<"u"?i[l]:i._row.table.componentFunctionBinder.handle("row",i._row,l)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getCells(){var e=[];return this._row.getCells().forEach(function(i){e.push(i.getComponent())}),e}getCell(e){var i=this._row.getCell(e);return i?i.getComponent():!1}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(e){return this._row.watchPosition(e)}delete(){return this._row.delete()}scrollTo(e,i){return this._row.table.rowManager.scrollToRow(this._row,e,i)}move(e,i){this._row.moveToRow(e,i)}update(e){return this._row.updateData(e)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var e=this._row.nextRow();return e&&e.getComponent()}getPrevRow(){var e=this._row.prevRow();return e&&e.getComponent()}}class Je extends Xe{constructor(e,i,l="row"){super(i.table),this.parent=i,this.data={},this.type=l,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(e)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(e,i){if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,i),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,i)}rendered(){this.cells.forEach(e=>{e.cellRendered()})}reinitializeHeight(){this.heightInitialized=!1,this.element&&this.element.offsetParent!==null&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&this.element.offsetParent!==null&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(e){var i=0,l=0;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(l=this.calcMinHeight(),i=this.calcMaxHeight(),e?this.height=Math.max(i,l):this.height=this.manualHeight?this.height:Math.max(i,l)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}calcMinHeight(){return this.table.options.resizableRows?this.element.clientHeight:0}calcMaxHeight(){var e=0;return this.cells.forEach(function(i){var l=i.getHeight();l>e&&(e=l)}),e}setCellHeight(){this.cells.forEach(function(e){e.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(e){e.clearHeight()})}normalizeHeight(e){e&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}setHeight(e,i){(this.height!=e||i)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight,this.subscribedExternal("rowHeight")&&this.dispatchExternal("rowHeight",this.getComponent()))}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(e){var i=this.cells.indexOf(e);i>-1&&this.cells.splice(i,1)}setData(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}updateData(e){var i=this.element&&Se.elVisible(this.element),l={},n;return new Promise((r,u)=>{typeof e=="string"&&(e=JSON.parse(e)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(l=Object.assign(l,this.data),l=Object.assign(l,e)),n=this.chain("row-data-changing",[this,l,e],null,e);for(let d in n)this.data[d]=n[d];this.dispatch("row-data-save-after",this);for(let d in e)this.table.columnManager.getColumnsByFieldRoot(d).forEach(m=>{let g=this.getCell(m.getField());if(g){let w=m.getFieldValue(n);g.getValue()!==w&&(g.setValueProcessData(w),i&&g.cellRendered())}});i?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,i,e),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r()})}getData(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}getCell(e){var i=!1;return e=this.table.columnManager.findColumn(e),!this.initialized&&this.cells.length===0&&this.generateCells(),i=this.cells.find(function(l){return l.column===e}),i}getCellIndex(e){return this.cells.findIndex(function(i){return i===e})}findCell(e){return this.cells.find(i=>i.element===e)}getCells(){return!this.initialized&&this.cells.length===0&&this.generateCells(),this.cells}nextRow(){var e=this.table.rowManager.nextDisplayRow(this,!0);return e||!1}prevRow(){var e=this.table.rowManager.prevDisplayRow(this,!0);return e||!1}moveToRow(e,i){var l=this.table.rowManager.findRow(e);l?(this.table.rowManager.moveRowActual(this,l,!i),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(e){this.detachModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var e=this.cells.length;for(let i=0;i<e;i++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return this.isDisplayed()?this.position:!1}setPosition(e){e!=this.position&&(this.position=e,this.positionWatchers.forEach(i=>{i(this.position)}))}watchPosition(e){this.positionWatchers.push(e),e(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new Aa(this)),this.component}}var Vb={avg:function(c,e,i){var l=0,n=typeof i.precision<"u"?i.precision:2;return c.length&&(l=c.reduce(function(r,u){return Number(r)+Number(u)}),l=l/c.length,l=n!==!1?l.toFixed(n):l),parseFloat(l).toString()},max:function(c,e,i){var l=null,n=typeof i.precision<"u"?i.precision:!1;return c.forEach(function(r){r=Number(r),(r>l||l===null)&&(l=r)}),l!==null?n!==!1?l.toFixed(n):l:""},min:function(c,e,i){var l=null,n=typeof i.precision<"u"?i.precision:!1;return c.forEach(function(r){r=Number(r),(r<l||l===null)&&(l=r)}),l!==null?n!==!1?l.toFixed(n):l:""},sum:function(c,e,i){var l=0,n=typeof i.precision<"u"?i.precision:!1;return c.length&&c.forEach(function(r){r=Number(r),l+=isNaN(r)?0:Number(r)}),n!==!1?l.toFixed(n):l},concat:function(c,e,i){var l=0;return c.length&&(l=c.reduce(function(n,r){return String(n)+String(r)})),l},count:function(c,e,i){var l=0;return c.length&&c.forEach(function(n){n&&l++}),l},unique:function(c,e,i){var l=c.filter((n,r)=>(c||n===0)&&c.indexOf(n)===r);return l.length}};const Oi=class Oi extends le{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new as({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,i){return this.topRow&&i.unshift(this.topRow),this.botRow&&i.push(this.botRow),i}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?((this.table.options.columnCalcs=="table"||this.table.options.columnCalcs=="both")&&this.recalcActiveRows(),this.table.options.columnCalcs!="table"&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var i=e.definition,l={topCalcParams:i.topCalcParams||{},botCalcParams:i.bottomCalcParams||{}};if(i.topCalc){switch(typeof i.topCalc){case"string":Oi.calculations[i.topCalc]?l.topCalc=Oi.calculations[i.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",i.topCalc);break;case"function":l.topCalc=i.topCalc;break}l.topCalc&&(e.modules.columnCalcs=l,this.topCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeTopRow())}if(i.bottomCalc){switch(typeof i.bottomCalc){case"string":Oi.calculations[i.bottomCalc]?l.botCalc=Oi.calculations[i.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",i.bottomCalc);break;case"function":l.botCalc=i.bottomCalc;break}l.botCalc&&(e.modules.columnCalcs=l,this.botCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){var e=document.createDocumentFragment();this.topInitialized||(e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var i,l;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(i=this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),l=this.generateRow("top",i),this.topRow=l;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(l.getElement()),l.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),l=this.generateRow("bottom",i),this.botRow=l;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(l.getElement()),l.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){if((this.topCalcs.length||this.botCalcs.length)&&(this.table.options.columnCalcs!=="group"&&this.recalcActiveRows(),this.table.options.groupBy&&this.table.options.columnCalcs!=="table")){var e=this.table.modules.groupRows.getChildGroups();e.forEach(i=>{this.recalcGroup(i)})}}recalcGroup(e){var i,l;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(i=this.rowsToData(e.rows),l=this.generateRowData("bottom",i),e.calcs.bottom.updateData(l),e.calcs.bottom.reinitialize()),e.calcs.top&&(i=this.rowsToData(e.rows),l=this.generateRowData("top",i),e.calcs.top.updateData(l),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var i=[],l=this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs,n=this.table.modules.dataTree;return e.forEach(r=>{var u;i.push(r.getData()),l&&((u=r.modules.dataTree)!=null&&u.open)&&this.rowsToData(n.getFilteredTreeChildren(r)).forEach(d=>{i.push(r)})}),i}generateRow(e,i){var l=this.generateRowData(e,i),n;return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),n=new Je(l,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),n.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),n.component=!1,n.getComponent=()=>(n.component||(n.component=new Fb(n)),n.component),n.generateCells=()=>{var r=[];this.table.columnManager.columnsByIndex.forEach(u=>{this.genColumn.setField(u.getField()),this.genColumn.hozAlign=u.hozAlign,u.definition[e+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter(u.definition[e+"CalcFormatter"]),params:u.definition[e+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=u.definition.cssClass;var d=new on(this.genColumn,n);d.getElement(),d.column=u,d.setWidth(),u.cells.push(d),r.push(d),u.visible||d.hide()}),n.cells=r},n}generateRowData(e,i){var l={},n=e=="top"?this.topCalcs:this.botCalcs,r=e=="top"?"topCalc":"botCalc",u,d;return n.forEach(function(p){var m=[];p.modules.columnCalcs&&p.modules.columnCalcs[r]&&(i.forEach(function(g){m.push(p.getFieldValue(g))}),d=r+"Params",u=typeof p.modules.columnCalcs[d]=="function"?p.modules.columnCalcs[d](m,i):p.modules.columnCalcs[d],p.setFieldValue(l,p.modules.columnCalcs[r](m,i,u)))}),l}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={},i;return this.table.options.groupBy&&this.table.modExists("groupRows")?(i=this.table.modules.groupRows.getGroups(!0),i.forEach(l=>{e[l.getKey()]=this.getGroupResults(l)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var i=e._getSelf(),l=e.getSubGroups(),n={},r={};return l.forEach(u=>{n[u.getKey()]=this.getGroupResults(u)}),r={top:i.calcs.top?i.calcs.top.getData():{},bottom:i.calcs.bottom?i.calcs.bottom.getData():{},groups:n},r}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}};G(Oi,"moduleName","columnCalcs"),G(Oi,"calculations",Vb);let gu=Oi;class cp extends le{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,i=this.table.options;switch(this.field=i.dataTreeChildField,this.indent=i.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),i.dataTreeBranchElement?i.dataTreeBranchElement===!0?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):typeof i.dataTreeBranchElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=i.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),i.dataTreeCollapseElement?typeof i.dataTreeCollapseElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=i.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),i.dataTreeExpandElement?typeof i.dataTreeExpandElement=="string"?(e=document.createElement("div"),e.innerHTML=i.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=i.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof i.dataTreeStartExpanded){case"boolean":this.startOpen=function(l,n){return i.dataTreeStartExpanded};break;case"function":this.startOpen=i.dataTreeStartExpanded;break;default:this.startOpen=function(l,n){return i.dataTreeStartExpanded[n]};break}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){var i;e&&(i=this.table.rowManager.getRows(),i.forEach(l=>{this.reinitializeRowChildren(l)}))}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||(e?e.field:!1)}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(i=>{e=e.concat(this.getTreeChildren(i,!1,!0))}),e}rowDataChanged(e,i,l){this.redrawNeeded(l)&&(this.initializeRow(e),i&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){var i=e.column.getField();i===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var i=e.getData()[this.field],l=Array.isArray(i),n=l||!l&&typeof i=="object"&&i!==null;!n&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!n&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:n?e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0):!1,controlEl:e.modules.dataTree&&n?e.modules.dataTree.controlEl:!1,branchEl:e.modules.dataTree&&n?e.modules.dataTree.branchEl:!1,parent:e.modules.dataTree?e.modules.dataTree.parent:!1,children:n}}reinitializeRowChildren(e){var i=this.getTreeChildren(e,!1,!0);i.forEach(function(l){l.reinitialize(!0)})}layoutRow(e){var i=this.elementField?e.getCell(this.elementField):e.getCells()[0],l=i.getElement(),n=e.modules.dataTree;n.branchEl&&(n.branchEl.parentNode&&n.branchEl.parentNode.removeChild(n.branchEl),n.branchEl=!1),n.controlEl&&(n.controlEl.parentNode&&n.controlEl.parentNode.removeChild(n.controlEl),n.controlEl=!1),this.generateControlElement(e,l),e.getElement().classList.add("tabulator-tree-level-"+n.index),n.index&&(this.branchEl?(n.branchEl=this.branchEl.cloneNode(!0),l.insertBefore(n.branchEl,l.firstChild),this.table.rtl?n.branchEl.style.marginRight=(n.branchEl.offsetWidth+n.branchEl.style.marginLeft)*(n.index-1)+n.index*this.indent+"px":n.branchEl.style.marginLeft=(n.branchEl.offsetWidth+n.branchEl.style.marginRight)*(n.index-1)+n.index*this.indent+"px"):this.table.rtl?l.style.paddingRight=parseInt(window.getComputedStyle(l,null).getPropertyValue("padding-right"))+n.index*this.indent+"px":l.style.paddingLeft=parseInt(window.getComputedStyle(l,null).getPropertyValue("padding-left"))+n.index*this.indent+"px")}generateControlElement(e,i){var l=e.modules.dataTree,n=l.controlEl;i=i||e.getCells()[0].getElement(),l.children!==!1&&(l.open?(l.controlEl=this.collapseEl.cloneNode(!0),l.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.collapseRow(e)})):(l.controlEl=this.expandEl.cloneNode(!0),l.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.expandRow(e)})),l.controlEl.addEventListener("mousedown",r=>{r.stopPropagation()}),n&&n.parentNode===i?n.parentNode.replaceChild(l.controlEl,n):i.insertBefore(l.controlEl,i.firstChild))}getRows(e){var i=[];return e.forEach((l,n)=>{var r,u;i.push(l),l instanceof Je&&(l.create(),r=l.modules.dataTree,!r.index&&r.children!==!1&&(u=this.getChildren(l,!1,!0),u.forEach(d=>{d.create(),i.push(d)})))}),i}getChildren(e,i,l){var n=e.modules.dataTree,r=[],u=[];return n.children!==!1&&(n.open||i)&&(Array.isArray(n.children)||(n.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?r=this.table.modules.filter.filter(n.children):r=n.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(r,l),r.forEach(d=>{u.push(d);var p=this.getChildren(d,!1,!0);p.forEach(m=>{u.push(m)})})),u}generateChildren(e){var i=[],l=e.getData()[this.field];return Array.isArray(l)||(l=[l]),l.forEach(n=>{var r=new Je(n||{},this.table.rowManager);r.create(),r.modules.dataTree.index=e.modules.dataTree.index+1,r.modules.dataTree.parent=e,r.modules.dataTree.children&&(r.modules.dataTree.open=this.startOpen(r.getComponent(),r.modules.dataTree.index)),i.push(r)}),i}expandRow(e,i){var l=e.modules.dataTree;l.children!==!1&&(l.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var i=e.modules.dataTree;i.children!==!1&&(i.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var i=e.modules.dataTree;i.children!==!1&&(i.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return e.modules.dataTree.parent?e.modules.dataTree.parent.getComponent():!1}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var i=e.modules.dataTree,l=[],n;return i.children&&(Array.isArray(i.children)||(i.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?n=this.table.modules.filter.filter(i.children):n=i.children,n.forEach(r=>{r instanceof Je&&l.push(r)})),l}rowDeleting(e){var i=e.modules.dataTree;i&&i.children&&Array.isArray(i.children)&&i.children.forEach(l=>{l instanceof Je&&l.wipe()})}rowDelete(e){var i=e.modules.dataTree.parent,l;i&&(l=this.findChildIndex(e,i),l!==!1&&i.data[this.field].splice(l,1),i.data[this.field].length||delete i.data[this.field],this.initializeRow(i),this.layoutRow(i)),this.refreshData(!0)}addTreeChildRow(e,i,l,n){var r=!1;typeof i=="string"&&(i=JSON.parse(i)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),typeof n<"u"&&(r=this.findChildIndex(n,e),r!==!1&&e.data[this.field].splice(l?r:r+1,0,i)),r===!1&&(l?e.data[this.field].unshift(i):e.data[this.field].push(i)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,i){var l=!1;return typeof e=="object"?e instanceof Je?l=e.data:e instanceof Aa?l=e._getSelf().data:typeof HTMLElement<"u"&&e instanceof HTMLElement?i.modules.dataTree&&(l=i.modules.dataTree.children.find(n=>n instanceof Je?n.element===e:!1),l&&(l=l.data)):e===null&&(l=!1):typeof e>"u"?l=!1:l=i.data[this.field].find(n=>n.data[this.table.options.index]==e),l&&(Array.isArray(i.data[this.field])&&(l=i.data[this.field].indexOf(l)),l==-1&&(l=!1)),l}getTreeChildren(e,i,l){var n=e.modules.dataTree,r=[];return n&&n.children&&(Array.isArray(n.children)||(n.children=this.generateChildren(e)),n.children.forEach(u=>{u instanceof Je&&(r.push(i?u.getComponent():u),l&&this.getTreeChildren(u,i,l).forEach(d=>{r.push(d)}))})),r}getChildField(){return this.field}redrawNeeded(e){return(this.field?typeof e[this.field]<"u":!1)||(this.elementField?typeof e[this.elementField]<"u":!1)}}G(cp,"moduleName","dataTree");function Ub(c,e={},i){var l=e.delimiter?e.delimiter:",",n=[],r=[];c.forEach(u=>{var d=[];switch(u.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":u.columns.forEach((p,m)=>{p&&p.depth===1&&(r[m]=typeof p.value>"u"||p.value===null?"":'"'+String(p.value).split('"').join('""')+'"')});break;case"row":u.columns.forEach(p=>{if(p){switch(typeof p.value){case"object":p.value=p.value!==null?JSON.stringify(p.value):"";break;case"undefined":p.value="";break}d.push('"'+String(p.value).split('"').join('""')+'"')}}),n.push(d.join(l));break}}),r.length&&n.unshift(r.join(l)),n=n.join(`
`),e.bom&&(n="\uFEFF"+n),i(n,"text/csv")}function Gb(c,e,i){var l=[];c.forEach(n=>{var r={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(u=>{u&&(r[u.component.getTitleDownload()||u.component.getField()]=u.value)}),l.push(r);break}}),l=JSON.stringify(l,null,"	"),i(l,"application/json")}function jb(c,e={},i){var l=[],n=[],r={},u=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},d=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},p=e.jsPDF||{},m=e.title?e.title:"",g,w;p.orientation||(p.orientation=e.orientation||"landscape"),p.unit||(p.unit="pt"),c.forEach(E=>{switch(E.type){case"header":l.push(y(E));break;case"group":n.push(y(E,u));break;case"calc":n.push(y(E,d));break;case"row":n.push(y(E));break}});function y(E,T){var k=[];return E.columns.forEach(H=>{var M;if(H){switch(typeof H.value){case"object":H.value=H.value!==null?JSON.stringify(H.value):"";break;case"undefined":H.value="";break}M={content:H.value,colSpan:H.width,rowSpan:H.height},T&&(M.styles=T),k.push(M)}}),k}g=this.dependencyRegistry.lookup("jspdf","jsPDF"),w=new g(p),e.autoTable&&(typeof e.autoTable=="function"?r=e.autoTable(w)||{}:r=e.autoTable),m&&(r.didDrawPage=function(E){w.text(m,40,30)}),r.head=l,r.body=n,w.autoTable(r),e.documentProcessing&&e.documentProcessing(w),i(w.output("arraybuffer"),"application/pdf")}function Pb(c,e,i){var l=this,n=e.sheetName||"Sheet1",r=this.dependencyRegistry.lookup("XLSX"),u=r.utils.book_new(),d=new Xe(this),p="compress"in e?e.compress:!0,m=e.writeOptions||{bookType:"xlsx",bookSST:!0,compression:p},g;m.type="binary",u.SheetNames=[],u.Sheets={};function w(){var T=[],k=[],H={},M={s:{c:0,r:0},e:{c:c[0]?c[0].columns.reduce((U,P)=>U+(P&&P.width?P.width:1),0):0,r:c.length}};return c.forEach((U,P)=>{var K=[];U.columns.forEach(function(j,he){j?(K.push(!(j.value instanceof Date)&&typeof j.value=="object"?JSON.stringify(j.value):j.value),(j.width>1||j.height>-1)&&(j.height>1||j.width>1)&&k.push({s:{r:P,c:he},e:{r:P+j.height-1,c:he+j.width-1}})):K.push("")}),T.push(K)}),r.utils.sheet_add_aoa(H,T),H["!ref"]=r.utils.encode_range(M),k.length&&(H["!merges"]=k),H}if(e.sheetOnly){i(w());return}if(e.sheets)for(var y in e.sheets)e.sheets[y]===!0?(u.SheetNames.push(y),u.Sheets[y]=w()):(u.SheetNames.push(y),d.commsSend(e.sheets[y],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:l.active,intercept:function(T){u.Sheets[y]=T}}));else u.SheetNames.push(n),u.Sheets[n]=w();e.documentProcessing&&(u=e.documentProcessing(u));function E(T){for(var k=new ArrayBuffer(T.length),H=new Uint8Array(k),M=0;M!=T.length;++M)H[M]=T.charCodeAt(M)&255;return k}g=r.write(u,m),i(E(g),"application/octet-stream")}function Wb(c,e,i){this.modExists("export",!0)&&i(this.modules.export.generateHTMLTable(c),"text/html")}function qb(c,e,i){const l=[];c.forEach(n=>{const r={};switch(n.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":n.columns.forEach(u=>{u&&(r[u.component.getTitleDownload()||u.component.getField()]=u.value)}),l.push(JSON.stringify(r));break}}),i(l.join(`
`),"application/x-ndjson")}var Yb={csv:Ub,json:Gb,jsonLines:qb,pdf:jb,xlsx:Pb,html:Wb};const Ks=class Ks extends le{constructor(e){super(e),this.registerTableOption("downloadEncoder",function(i,l){return new Blob([i],{type:l})}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){}downloadToTab(e,i,l,n){this.download(e,i,l,n,!0)}download(e,i,l,n,r){var u=!1;function d(m,g){r?r===!0?this.triggerDownload(m,g,e,i,!0):r(m):this.triggerDownload(m,g,e,i)}if(typeof e=="function"?u=e:Ks.downloaders[e]?u=Ks.downloaders[e]:console.warn("Download Error - No such download type found: ",e),u){var p=this.generateExportList(n);u.call(this.table,p,l||{},d.bind(this))}}generateExportList(e){var i=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),l=this.table.options.groupHeaderDownload;return l&&!Array.isArray(l)&&(l=[l]),i.forEach(n=>{var r;n.type==="group"&&(r=n.columns[0],l&&l[n.indent]&&(r.value=l[n.indent](r.value,n.component._group.getRowCount(),n.component._group.getData(),n.component)))}),i}triggerDownload(e,i,l,n,r){var u=document.createElement("a"),d=this.table.options.downloadEncoder(e,i);d&&(r?window.open(window.URL.createObjectURL(d)):(n=n||"Tabulator."+(typeof l=="function"?"txt":l),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(d,n):(u.setAttribute("href",window.URL.createObjectURL(d)),u.setAttribute("download",n),u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u))),this.dispatchExternal("downloadComplete"))}commsReceived(e,i,l){switch(i){case"intercept":this.download(l.type,"",l.options,l.active,l.intercept);break}}};G(Ks,"moduleName","download"),G(Ks,"downloaders",Yb);let bu=Ks;function Ha(c,e){var i=e.mask,l=typeof e.maskLetterChar<"u"?e.maskLetterChar:"A",n=typeof e.maskNumberChar<"u"?e.maskNumberChar:"9",r=typeof e.maskWildcardChar<"u"?e.maskWildcardChar:"*";function u(d){var p=i[d];typeof p<"u"&&p!==r&&p!==l&&p!==n&&(c.value=c.value+""+p,u(d+1))}c.addEventListener("keydown",d=>{var p=c.value.length,m=d.key;if(d.keyCode>46&&!d.ctrlKey&&!d.metaKey){if(p>=i.length)return d.preventDefault(),d.stopPropagation(),!1;switch(i[p]){case l:if(m.toUpperCase()==m.toLowerCase())return d.preventDefault(),d.stopPropagation(),!1;break;case n:if(isNaN(m))return d.preventDefault(),d.stopPropagation(),!1;break;case r:break;default:if(m!==i[p])return d.preventDefault(),d.stopPropagation(),!1}}}),c.addEventListener("keyup",d=>{d.keyCode>46&&e.maskAutoFill&&u(c.value.length)}),c.placeholder||(c.placeholder=i),e.maskAutoFill&&u(c.value.length)}function Xb(c,e,i,l,n){var r=c.getValue(),u=document.createElement("input");if(u.setAttribute("type",n.search?"search":"text"),u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let p in n.elementAttributes)p.charAt(0)=="+"?(p=p.slice(1),u.setAttribute(p,u.getAttribute(p)+n.elementAttributes["+"+p])):u.setAttribute(p,n.elementAttributes[p]);u.value=typeof r<"u"?r:"",e(function(){c.getType()==="cell"&&(u.focus({preventScroll:!0}),u.style.height="100%",n.selectContents&&u.select())});function d(p){(r===null||typeof r>"u")&&u.value!==""||u.value!==r?i(u.value)&&(r=u.value):l()}return u.addEventListener("change",d),u.addEventListener("blur",d),u.addEventListener("keydown",function(p){switch(p.keyCode){case 13:d();break;case 27:l();break;case 35:case 36:p.stopPropagation();break}}),n.mask&&Ha(u,n),u}function Qb(c,e,i,l,n){var r=c.getValue(),u=n.verticalNavigation||"hybrid",d=String(r!==null&&typeof r<"u"?r:""),p=document.createElement("textarea"),m=0;if(p.style.display="block",p.style.padding="2px",p.style.height="100%",p.style.width="100%",p.style.boxSizing="border-box",p.style.whiteSpace="pre-wrap",p.style.resize="none",n.elementAttributes&&typeof n.elementAttributes=="object")for(let w in n.elementAttributes)w.charAt(0)=="+"?(w=w.slice(1),p.setAttribute(w,p.getAttribute(w)+n.elementAttributes["+"+w])):p.setAttribute(w,n.elementAttributes[w]);p.value=d,e(function(){c.getType()==="cell"&&(p.focus({preventScroll:!0}),p.style.height="100%",p.scrollHeight,p.style.height=p.scrollHeight+"px",c.getRow().normalizeHeight(),n.selectContents&&p.select())});function g(w){(r===null||typeof r>"u")&&p.value!==""||p.value!==r?(i(p.value)&&(r=p.value),setTimeout(function(){c.getRow().normalizeHeight()},300)):l()}return p.addEventListener("change",g),p.addEventListener("blur",g),p.addEventListener("keyup",function(){p.style.height="";var w=p.scrollHeight;p.style.height=w+"px",w!=m&&(m=w,c.getRow().normalizeHeight())}),p.addEventListener("keydown",function(w){switch(w.keyCode){case 13:w.shiftKey&&n.shiftEnterSubmit&&g();break;case 27:l();break;case 38:(u=="editor"||u=="hybrid"&&p.selectionStart)&&(w.stopImmediatePropagation(),w.stopPropagation());break;case 40:(u=="editor"||u=="hybrid"&&p.selectionStart!==p.value.length)&&(w.stopImmediatePropagation(),w.stopPropagation());break;case 35:case 36:w.stopPropagation();break}}),n.mask&&Ha(p,n),p}function Kb(c,e,i,l,n){var r=c.getValue(),u=n.verticalNavigation||"editor",d=document.createElement("input");if(d.setAttribute("type","number"),typeof n.max<"u"&&d.setAttribute("max",n.max),typeof n.min<"u"&&d.setAttribute("min",n.min),typeof n.step<"u"&&d.setAttribute("step",n.step),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let g in n.elementAttributes)g.charAt(0)=="+"?(g=g.slice(1),d.setAttribute(g,d.getAttribute(g)+n.elementAttributes["+"+g])):d.setAttribute(g,n.elementAttributes[g]);d.value=r;var p=function(g){m()};e(function(){c.getType()==="cell"&&(d.removeEventListener("blur",p),d.focus({preventScroll:!0}),d.style.height="100%",d.addEventListener("blur",p),n.selectContents&&d.select())});function m(){var g=d.value;!isNaN(g)&&g!==""&&(g=Number(g)),g!==r?i(g)&&(r=g):l()}return d.addEventListener("keydown",function(g){switch(g.keyCode){case 13:m();break;case 27:l();break;case 38:case 40:u=="editor"&&(g.stopImmediatePropagation(),g.stopPropagation());break;case 35:case 36:g.stopPropagation();break}}),n.mask&&Ha(d,n),d}function Zb(c,e,i,l,n){var r=c.getValue(),u=document.createElement("input");if(u.setAttribute("type","range"),typeof n.max<"u"&&u.setAttribute("max",n.max),typeof n.min<"u"&&u.setAttribute("min",n.min),typeof n.step<"u"&&u.setAttribute("step",n.step),u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let p in n.elementAttributes)p.charAt(0)=="+"?(p=p.slice(1),u.setAttribute(p,u.getAttribute(p)+n.elementAttributes["+"+p])):u.setAttribute(p,n.elementAttributes[p]);u.value=r,e(function(){c.getType()==="cell"&&(u.focus({preventScroll:!0}),u.style.height="100%")});function d(){var p=u.value;!isNaN(p)&&p!==""&&(p=Number(p)),p!=r?i(p)&&(r=p):l()}return u.addEventListener("blur",function(p){d()}),u.addEventListener("keydown",function(p){switch(p.keyCode){case 13:d();break;case 27:l();break}}),u}function Ib(c,e,i,l,n){var r=n.format,u=n.verticalNavigation||"editor",d=r?window.DateTime||luxon.DateTime:null,p=c.getValue(),m=document.createElement("input");function g(y){var E;return d.isDateTime(y)?E=y:r==="iso"?E=d.fromISO(String(y)):E=d.fromFormat(String(y),r),E.toFormat("yyyy-MM-dd")}if(m.type="date",m.style.padding="4px",m.style.width="100%",m.style.boxSizing="border-box",n.max&&m.setAttribute("max",r?g(n.max):n.max),n.min&&m.setAttribute("min",r?g(n.min):n.min),n.elementAttributes&&typeof n.elementAttributes=="object")for(let y in n.elementAttributes)y.charAt(0)=="+"?(y=y.slice(1),m.setAttribute(y,m.getAttribute(y)+n.elementAttributes["+"+y])):m.setAttribute(y,n.elementAttributes[y]);p=typeof p<"u"?p:"",r&&(d?p=g(p):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),m.value=p,e(function(){c.getType()==="cell"&&(m.focus({preventScroll:!0}),m.style.height="100%",n.selectContents&&m.select())});function w(){var y=m.value,E;if((p===null||typeof p>"u")&&y!==""||y!==p){if(y&&r)switch(E=d.fromFormat(String(y),"yyyy-MM-dd"),r){case!0:y=E;break;case"iso":y=E.toISO();break;default:y=E.toFormat(r)}i(y)&&(p=m.value)}else l()}return m.addEventListener("blur",function(y){(y.relatedTarget||y.rangeParent||y.explicitOriginalTarget!==m)&&w()}),m.addEventListener("keydown",function(y){switch(y.keyCode){case 13:w();break;case 27:l();break;case 35:case 36:y.stopPropagation();break;case 38:case 40:u=="editor"&&(y.stopImmediatePropagation(),y.stopPropagation());break}}),m}function Jb(c,e,i,l,n){var r=n.format,u=n.verticalNavigation||"editor",d=r?window.DateTime||luxon.DateTime:null,p,m=c.getValue(),g=document.createElement("input");if(g.type="time",g.style.padding="4px",g.style.width="100%",g.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let y in n.elementAttributes)y.charAt(0)=="+"?(y=y.slice(1),g.setAttribute(y,g.getAttribute(y)+n.elementAttributes["+"+y])):g.setAttribute(y,n.elementAttributes[y]);m=typeof m<"u"?m:"",r&&(d?(d.isDateTime(m)?p=m:r==="iso"?p=d.fromISO(String(m)):p=d.fromFormat(String(m),r),m=p.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),g.value=m,e(function(){c.getType()=="cell"&&(g.focus({preventScroll:!0}),g.style.height="100%",n.selectContents&&g.select())});function w(){var y=g.value,E;if((m===null||typeof m>"u")&&y!==""||y!==m){if(y&&r)switch(E=d.fromFormat(String(y),"hh:mm"),r){case!0:y=E;break;case"iso":y=E.toISO();break;default:y=E.toFormat(r)}i(y)&&(m=g.value)}else l()}return g.addEventListener("blur",function(y){(y.relatedTarget||y.rangeParent||y.explicitOriginalTarget!==g)&&w()}),g.addEventListener("keydown",function(y){switch(y.keyCode){case 13:w();break;case 27:l();break;case 35:case 36:y.stopPropagation();break;case 38:case 40:u=="editor"&&(y.stopImmediatePropagation(),y.stopPropagation());break}}),g}function $b(c,e,i,l,n){var r=n.format,u=n.verticalNavigation||"editor",d=r?this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"):null,p,m=c.getValue(),g=document.createElement("input");if(g.type="datetime-local",g.style.padding="4px",g.style.width="100%",g.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let y in n.elementAttributes)y.charAt(0)=="+"?(y=y.slice(1),g.setAttribute(y,g.getAttribute(y)+n.elementAttributes["+"+y])):g.setAttribute(y,n.elementAttributes[y]);m=typeof m<"u"?m:"",r&&(d?(d.isDateTime(m)?p=m:r==="iso"?p=d.fromISO(String(m)):p=d.fromFormat(String(m),r),m=p.toFormat("yyyy-MM-dd")+"T"+p.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),g.value=m,e(function(){c.getType()==="cell"&&(g.focus({preventScroll:!0}),g.style.height="100%",n.selectContents&&g.select())});function w(){var y=g.value,E;if((m===null||typeof m>"u")&&y!==""||y!==m){if(y&&r)switch(E=d.fromISO(String(y)),r){case!0:y=E;break;case"iso":y=E.toISO();break;default:y=E.toFormat(r)}i(y)&&(m=g.value)}else l()}return g.addEventListener("blur",function(y){(y.relatedTarget||y.rangeParent||y.explicitOriginalTarget!==g)&&w()}),g.addEventListener("keydown",function(y){switch(y.keyCode){case 13:w();break;case 27:l();break;case 35:case 36:y.stopPropagation();break;case 38:case 40:u=="editor"&&(y.stopImmediatePropagation(),y.stopPropagation());break}}),g}let ev=class{constructor(e,i,l,n,r,u){this.edit=e,this.table=e.table,this.cell=i,this.params=this._initializeParams(u),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter=i.getType()==="header",this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:n,cancel:r},this._deprecatedOptionsCheck(),this._initializeValue(),l(this._onRendered.bind(this))}_deprecatedOptionsCheck(){}_initializeValue(){var e=this.cell.getValue();typeof e>"u"&&typeof this.params.defaultValue<"u"&&(e=this.params.defaultValue),this.initialValues=this.params.multiselect?e:[e],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var e=this.cell.getElement();function i(l){l.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),e.addEventListener("click",i),setTimeout(()=>{e.removeEventListener("click",i)},1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var e=document.createElement("div");return e.classList.add("tabulator-edit-list"),e.addEventListener("mousedown",this._preventBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e}_setListWidth(){var e=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=e.offsetWidth+"px",this.params.maxWidth&&(this.params.maxWidth===!0?this.listEl.style.maxWidth=e.offsetWidth+"px":typeof this.params.maxWidth=="number"?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var e=this.params.elementAttributes,i=document.createElement("input");if(i.setAttribute("type",this.params.clearable?"search":"text"),i.style.padding="4px",i.style.width="100%",i.style.boxSizing="border-box",this.params.autocomplete||(i.style.cursor="default",i.style.caretColor="transparent"),e&&typeof e=="object")for(let l in e)l.charAt(0)=="+"?(l=l.slice(1),i.setAttribute(l,i.getAttribute(l)+e["+"+l])):i.setAttribute(l,e[l]);return this.params.mask&&Ha(i,this.params),this._bindInputEvents(i),i}_initializeParams(e){var i=["values","valuesURL","valuesLookup"],l;return e=Object.assign({},e),e.verticalNavigation=e.verticalNavigation||"editor",e.placeholderLoading=typeof e.placeholderLoading>"u"?"Searching ...":e.placeholderLoading,e.placeholderEmpty=typeof e.placeholderEmpty>"u"?"No Results Found":e.placeholderEmpty,e.filterDelay=typeof e.filterDelay>"u"?300:e.filterDelay,e.emptyValue=Object.keys(e).includes("emptyValue")?e.emptyValue:"",l=Object.keys(e).filter(n=>i.includes(n)).length,l?l>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),e.autocomplete?e.multiselect&&(e.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(e.freetext&&(e.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),e.filterFunc&&(e.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),e.filterRemote&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),e.mask&&(e.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),e.allowEmpty&&(e.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),e.listOnEmpty&&(e.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),e.filterRemote&&!(typeof e.valuesLookup=="function"||e.valuesURL)&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),e}_bindInputEvents(e){e.addEventListener("focus",this._inputFocus.bind(this)),e.addEventListener("click",this._inputClick.bind(this)),e.addEventListener("blur",this._inputBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&e.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(e){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList()},this.params.filterDelay)):this._filterList()}_inputClick(e){e.stopPropagation()}_inputBlur(e){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(e){switch(e.keyCode){case 38:this._keyUp(e);break;case 40:this._keyDown(e);break;case 37:case 39:this._keySide(e);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(e);break;case 9:this._keyTab(e);break;default:this._keySelectLetter(e)}}_inputKeyUp(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(e)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout(()=>{this.popup&&this.popup.restoreHide()},10)}_preventBlur(){this.blurable=!1,setTimeout(()=>{this.blurable=!0},10)}_keyTab(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(e){var i=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&i)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),i>0&&this._focusItem(this.displayItems[i-1]))}_keyDown(e){var i=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&i<this.displayItems.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),i<this.displayItems.length-1&&(i==-1?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[i+1])))}_keySide(e){this.params.autocomplete||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}_keyEnter(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(e){this._cancel()}_keyHomeEnd(e){this.params.autocomplete&&e.stopImmediatePropagation()}_keySelectLetter(e){this.params.autocomplete||(e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&this._scrollToValue(e.keyCode))}_keyAutoCompLetter(e){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(e){clearTimeout(this.filterTimeout);var i=String.fromCharCode(e).toLowerCase();this.filterTerm+=i.toLowerCase();var l=this.displayItems.find(n=>typeof n.label<"u"&&n.label.toLowerCase().startsWith(this.filterTerm));l&&this._focusItem(l),this.filterTimeout=setTimeout(()=>{this.filterTerm=""},800)}_focusItem(e){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=e,e&&e.element&&(e.element.classList.add("focused"),e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(e=>{Number.isInteger(e)||console.error("List generation error",e)})}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(e){var i=[],l=++this.listIteration;return this.filtered=!1,this.params.values?i=this.params.values:this.params.valuesURL?i=this._ajaxRequest(this.params.valuesURL,this.input.value):typeof this.params.valuesLookup=="function"?i=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(i=this._uniqueColumnValues(this.params.valuesLookupField)),i instanceof Promise?(e||this._addPlaceholder(this.params.placeholderLoading),i.then().then(n=>this.listIteration===l?this._parseList(n):Promise.reject(l))):Promise.resolve(this._parseList(i))}_addPlaceholder(e){var i=document.createElement("div");typeof e=="function"&&(e=e(this.cell.getComponent(),this.listEl)),e&&(this._clearList(),e instanceof HTMLElement?i=e:(i.classList.add("tabulator-edit-list-placeholder"),i.innerHTML=e),this.listEl.appendChild(i),this._showList())}_ajaxRequest(e,i){var l=this.params.filterRemote?{term:i}:{};return e=rp(e,{},l),fetch(e).then(n=>n.ok?n.json().catch(r=>(console.warn("List Ajax Load Error - Invalid JSON returned",r),Promise.reject(r))):(console.error("List Ajax Load Error - Connection Error: "+n.status,n.statusText),Promise.reject(n))).catch(n=>(console.error("List Ajax Load Error - Connection Error: ",n),Promise.reject(n)))}_uniqueColumnValues(e){var i={},l=this.table.getData(this.params.valuesLookup),n;return e?n=this.table.columnManager.getColumnByField(e):n=this.cell.getColumn()._getSelf(),n?l.forEach(r=>{var u=n.getFieldValue(r);this._emptyValueCheck(u)||(this.params.multiselect&&Array.isArray(u)?u.forEach(d=>{this._emptyValueCheck(d)||(i[d]=!0)}):i[u]=!0)}):(console.warn("unable to find matching column to create select lookup list:",e),i=[]),Object.keys(i)}_emptyValueCheck(e){return e===null||typeof e>"u"||e===""}_parseList(e){var i=[];return Array.isArray(e)||(e=Object.entries(e).map(([l,n])=>({label:n,value:l}))),e.forEach(l=>{typeof l!="object"&&(l={label:l,value:l}),this._parseListItem(l,i,0)}),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=i,i}_parseListItem(e,i,l){var n={};e.options?n=this._parseListGroup(e,l+1):(n={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,selected:!1,visible:!0,level:l,original:e},this.initialValues&&this.initialValues.indexOf(e.value)>-1&&this._chooseItem(n,!0)),i.push(n)}_parseListGroup(e,i){var l={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,visible:!0,level:i,options:[],original:e};return e.options.forEach(n=>{this._parseListItem(n,l.options,i)}),l}_sortOptions(e){var i;return this.params.sort&&(i=typeof this.params.sort=="function"?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(i,e)),e}_sortGroup(e,i){i.sort((l,n)=>e(l.label,n.label,l.value,n.value,l.original,n.original)),i.forEach(l=>{l.group&&this._sortGroup(e,l.options)})}_defaultSortFunction(e,i){var l,n,r,u,d=0,p,m=/(\d+)|(\D+)/g,g=/\d/,w=0;if(this.params.sort==="desc"&&([e,i]=[i,e]),!e&&e!==0)w=!i&&i!==0?0:-1;else if(!i&&i!==0)w=1;else{if(isFinite(e)&&isFinite(i))return e-i;if(l=String(e).toLowerCase(),n=String(i).toLowerCase(),l===n)return 0;if(!(g.test(l)&&g.test(n)))return l>n?1:-1;for(l=l.match(m),n=n.match(m),p=l.length>n.length?n.length:l.length;d<p;)if(r=l[d],u=n[d++],r!==u)return isFinite(r)&&isFinite(u)?(r.charAt(0)==="0"&&(r="."+r),u.charAt(0)==="0"&&(u="."+u),r-u):r>u?1:-1;return l.length>n.length}return w}_filterOptions(){var e=this.params.filterFunc||this._defaultFilterFunc,i=this.input.value;return i?(this.filtered=!0,this.data.forEach(l=>{this._filterItem(e,i,l)})):this.filtered=!1,this.data}_filterItem(e,i,l){var n=!1;return l.group?(l.options.forEach(r=>{this._filterItem(e,i,r)&&(n=!0)}),l.visible=n):l.visible=e(i,l.label,l.value,l.original),l.visible}_defaultFilterFunc(e,i,l,n){return e=String(e).toLowerCase(),i!==null&&typeof i<"u"&&(String(i).toLowerCase().indexOf(e)>-1||String(l).toLowerCase().indexOf(e)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(e){this._clearList(),e.forEach(i=>{this._buildItem(i)}),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(e){var i=e.element,l;if(!this.filtered||e.visible){if(!i){if(i=document.createElement("div"),i.tabIndex=0,l=this.params.itemFormatter?this.params.itemFormatter(e.label,e.value,e.original,i):e.label,l instanceof HTMLElement?i.appendChild(l):i.innerHTML=l,e.group?i.classList.add("tabulator-edit-list-group"):i.classList.add("tabulator-edit-list-item"),i.classList.add("tabulator-edit-list-group-level-"+e.level),e.elementAttributes&&typeof e.elementAttributes=="object")for(let n in e.elementAttributes)n.charAt(0)=="+"?(n=n.slice(1),i.setAttribute(n,this.input.getAttribute(n)+e.elementAttributes["+"+n])):i.setAttribute(n,e.elementAttributes[n]);e.group?i.addEventListener("click",this._groupClick.bind(this,e)):i.addEventListener("click",this._itemClick.bind(this,e)),i.addEventListener("mousedown",this._preventBlur.bind(this)),e.element=i}this._styleItem(e),this.listEl.appendChild(i),e.group?e.options.forEach(n=>{this._buildItem(n)}):this.displayItems.push(e)}}_showList(){var e=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&this.input.value===""&&!this.params.listOnEmpty){this.popup&&this.popup.hide(!0);return}this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),e||setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))},10)}}_styleItem(e){e&&e.element&&(e.selected?e.element.classList.add("active"):e.element.classList.remove("active"))}_itemClick(e,i){i.stopPropagation(),this._chooseItem(e)}_groupClick(e,i){i.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach(e=>{e.selected=!1,this._styleItem(e)}),this.currentItems=[],this.focusedItem=null}_chooseItem(e,i){var l;this.typing=!1,this.params.multiselect?(l=this.currentItems.indexOf(e),l>-1?(this.currentItems.splice(l,1),e.selected=!1):(this.currentItems.push(e),e.selected=!0),this.input.value=this.currentItems.map(n=>n.label).join(","),this._styleItem(e)):(this.currentItems=[e],e.selected=!0,this.input.value=e.label,this._styleItem(e),i||this._resolveValue()),this._focusItem(e)}_resolveValue(e){var i,l;if(this.popup&&this.popup.hide(!0),this.params.multiselect)i=this.currentItems.map(n=>n.value);else if(e&&this.params.autocomplete&&this.typing)if(this.params.freetext||this.params.allowEmpty&&this.input.value==="")i=this.input.value;else{this.actions.cancel();return}else this.currentItems[0]?i=this.currentItems[0].value:(l=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues,l===null||typeof l>"u"||l===""?i=l:i=this.params.emptyValue);i===""&&(i=this.params.emptyValue),this.actions.success(i),this.isFilter&&(this.initialValues=i&&!Array.isArray(i)?[i]:i,this.currentItems=[])}};function tv(c,e,i,l,n){var r=new ev(this,c,e,i,l,n);return r.input}function iv(c,e,i,l,n){var r=this,u=c.getElement(),d=c.getValue(),p=u.getElementsByTagName("svg").length||5,m=u.getElementsByTagName("svg")[0]?u.getElementsByTagName("svg")[0].getAttribute("width"):14,g=[],w=document.createElement("div"),y=document.createElementNS("http://www.w3.org/2000/svg","svg");function E(M){g.forEach(function(U,P){P<M?(r.table.browser=="ie"?U.setAttribute("class","tabulator-star-active"):U.classList.replace("tabulator-star-inactive","tabulator-star-active"),U.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):(r.table.browser=="ie"?U.setAttribute("class","tabulator-star-inactive"):U.classList.replace("tabulator-star-active","tabulator-star-inactive"),U.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function T(M){var U=document.createElement("span"),P=y.cloneNode(!0);g.push(P),U.addEventListener("mouseenter",function(K){K.stopPropagation(),K.stopImmediatePropagation(),E(M)}),U.addEventListener("mousemove",function(K){K.stopPropagation(),K.stopImmediatePropagation()}),U.addEventListener("click",function(K){K.stopPropagation(),K.stopImmediatePropagation(),i(M),u.blur()}),U.appendChild(P),w.appendChild(U)}function k(M){d=M,E(M)}if(u.style.whiteSpace="nowrap",u.style.overflow="hidden",u.style.textOverflow="ellipsis",w.style.verticalAlign="middle",w.style.display="inline-block",w.style.padding="4px",y.setAttribute("width",m),y.setAttribute("height",m),y.setAttribute("viewBox","0 0 512 512"),y.setAttribute("xml:space","preserve"),y.style.padding="0 1px",n.elementAttributes&&typeof n.elementAttributes=="object")for(let M in n.elementAttributes)M.charAt(0)=="+"?(M=M.slice(1),w.setAttribute(M,w.getAttribute(M)+n.elementAttributes["+"+M])):w.setAttribute(M,n.elementAttributes[M]);for(var H=1;H<=p;H++)T(H);return d=Math.min(parseInt(d),p),E(d),w.addEventListener("mousemove",function(M){E(0)}),w.addEventListener("click",function(M){i(0)}),u.addEventListener("blur",function(M){l()}),u.addEventListener("keydown",function(M){switch(M.keyCode){case 39:k(d+1);break;case 37:k(d-1);break;case 13:i(d);break;case 27:l();break}}),w}function sv(c,e,i,l,n){var r=c.getElement(),u=typeof n.max>"u"?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("max")||100:n.max,d=typeof n.min>"u"?r.getElementsByTagName("div")[0]&&r.getElementsByTagName("div")[0].getAttribute("min")||0:n.min,p=(u-d)/100,m=c.getValue()||0,g=document.createElement("div"),w=document.createElement("div"),y,E;function T(){var k=window.getComputedStyle(r,null),H=p*Math.round(w.offsetWidth/((r.clientWidth-parseInt(k.getPropertyValue("padding-left"))-parseInt(k.getPropertyValue("padding-right")))/100))+d;i(H),r.setAttribute("aria-valuenow",H),r.setAttribute("aria-label",m)}if(g.style.position="absolute",g.style.right="0",g.style.top="0",g.style.bottom="0",g.style.width="5px",g.classList.add("tabulator-progress-handle"),w.style.display="inline-block",w.style.position="relative",w.style.height="100%",w.style.backgroundColor="#488CE9",w.style.maxWidth="100%",w.style.minWidth="0%",n.elementAttributes&&typeof n.elementAttributes=="object")for(let k in n.elementAttributes)k.charAt(0)=="+"?(k=k.slice(1),w.setAttribute(k,w.getAttribute(k)+n.elementAttributes["+"+k])):w.setAttribute(k,n.elementAttributes[k]);return r.style.padding="4px 4px",m=Math.min(parseFloat(m),u),m=Math.max(parseFloat(m),d),m=Math.round((m-d)/p),w.style.width=m+"%",r.setAttribute("aria-valuemin",d),r.setAttribute("aria-valuemax",u),w.appendChild(g),g.addEventListener("mousedown",function(k){y=k.screenX,E=w.offsetWidth}),g.addEventListener("mouseover",function(){g.style.cursor="ew-resize"}),r.addEventListener("mousemove",function(k){y&&(w.style.width=E+k.screenX-y+"px")}),r.addEventListener("mouseup",function(k){y&&(k.stopPropagation(),k.stopImmediatePropagation(),y=!1,E=!1,T())}),r.addEventListener("keydown",function(k){switch(k.keyCode){case 39:k.preventDefault(),w.style.width=w.clientWidth+r.clientWidth/100+"px";break;case 37:k.preventDefault(),w.style.width=w.clientWidth-r.clientWidth/100+"px";break;case 9:case 13:T();break;case 27:l();break}}),r.addEventListener("blur",function(){l()}),w}function lv(c,e,i,l,n){var r=c.getValue(),u=document.createElement("input"),d=n.tristate,p=typeof n.indeterminateValue>"u"?null:n.indeterminateValue,m=!1,g=Object.keys(n).includes("trueValue"),w=Object.keys(n).includes("falseValue");if(u.setAttribute("type","checkbox"),u.style.marginTop="5px",u.style.boxSizing="border-box",n.elementAttributes&&typeof n.elementAttributes=="object")for(let E in n.elementAttributes)E.charAt(0)=="+"?(E=E.slice(1),u.setAttribute(E,u.getAttribute(E)+n.elementAttributes["+"+E])):u.setAttribute(E,n.elementAttributes[E]);u.value=r,d&&(typeof r>"u"||r===p||r==="")&&(m=!0,u.indeterminate=!0),this.table.browser!="firefox"&&this.table.browser!="safari"&&e(function(){c.getType()==="cell"&&u.focus({preventScroll:!0})}),u.checked=g?r===n.trueValue:r===!0||r==="true"||r==="True"||r===1;function y(E){var T=u.checked;return g&&T?T=n.trueValue:w&&!T&&(T=n.falseValue),d?E?m?p:T:u.checked&&!m?(u.checked=!1,u.indeterminate=!0,m=!0,p):(m=!1,T):T}return u.addEventListener("change",function(E){i(y())}),u.addEventListener("blur",function(E){i(y(!0))}),u.addEventListener("keydown",function(E){E.keyCode==13&&i(y()),E.keyCode==27&&l()}),u}function nv(c,e,i,l,n){var r=c._getSelf().column,u,d,p;function m(g){var w=g.getValue(),y="input";switch(typeof w){case"number":y="number";break;case"boolean":y="tickCross";break;case"string":w.includes(`
`)&&(y="textarea");break}return y}return u=n.editorLookup?n.editorLookup(c):m(c),n.paramsLookup&&(p=typeof n.paramsLookup=="function"?n.paramsLookup(u,c):n.paramsLookup[u]),d=this.table.modules.edit.lookupEditor(u,r),d.call(this,c,e,i,l,p||{})}var av={input:Xb,textarea:Qb,number:Kb,range:Zb,date:Ib,time:Jb,datetime:$b,list:tv,star:iv,progress:sv,tickCross:lv,adaptable:nv};const tn=class tn extends le{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.convertEmptyValues=!1,this.editors=tn.editors,this.registerTableOption("editTriggerEvent","focus"),this.registerTableOption("editorEmptyValue"),this.registerTableOption("editorEmptyValueFunc",this.emptyValueCheck.bind(this)),this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("editorEmptyValue"),this.registerColumnOption("editorEmptyValueFunc"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("clipboard-paste",this.pasteBlocker.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0)),Object.keys(this.table.options).includes("editorEmptyValue")&&(this.convertEmptyValues=!0)}pasteBlocker(e){if(this.currentCell)return!0}keybindingNavigateNext(e){var i=this.currentCell,l=this.options("tabEndNewRow");i&&(this.navigateNext(i,e)||l&&(i.getElement().firstChild.blur(),this.invalidEdit||(l===!0?l=this.table.addRow({}):typeof l=="function"?l=this.table.addRow(l(i.row.getComponent())):l=this.table.addRow(Object.assign({},l)),l.then(()=>{setTimeout(()=>{i.getComponent().navigateNext()})}))))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(i=>{this.table.modules.edit.clearEdited(i._getSelf())})}navigatePrev(e=this.currentCell,i){var l,n;if(e){if(i&&i.preventDefault(),l=this.navigateLeft(),l)return!0;if(n=this.table.rowManager.prevDisplayRow(e.row,!0),n&&(l=this.findPrevEditableCell(n,n.cells.length),l))return l.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,i){var l,n;if(e){if(i&&i.preventDefault(),l=this.navigateRight(),l)return!0;if(n=this.table.rowManager.nextDisplayRow(e.row,!0),n&&(l=this.findNextEditableCell(n,-1),l))return l.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,i){var l,n;return e&&(i&&i.preventDefault(),l=e.getIndex(),n=this.findPrevEditableCell(e.row,l),n)?(n.getComponent().edit(),!0):!1}navigateRight(e=this.currentCell,i){var l,n;return e&&(i&&i.preventDefault(),l=e.getIndex(),n=this.findNextEditableCell(e.row,l),n)?(n.getComponent().edit(),!0):!1}navigateUp(e=this.currentCell,i){var l,n;return e&&(i&&i.preventDefault(),l=e.getIndex(),n=this.table.rowManager.prevDisplayRow(e.row,!0),n)?(n.cells[l].getComponent().edit(),!0):!1}navigateDown(e=this.currentCell,i){var l,n;return e&&(i&&i.preventDefault(),l=e.getIndex(),n=this.table.rowManager.nextDisplayRow(e.row,!0),n)?(n.cells[l].getComponent().edit(),!0):!1}findNextEditableCell(e,i){var l=!1;if(i<e.cells.length-1)for(var n=i+1;n<e.cells.length;n++){let r=e.cells[n];if(r.column.modules.edit&&Se.elVisible(r.getElement())&&this.allowEdit(r)){l=r;break}}return l}findPrevEditableCell(e,i){var l=!1;if(i>0)for(var n=i-1;n>=0;n--){let r=e.cells[n];if(r.column.modules.edit&&Se.elVisible(r.getElement())&&this.allowEdit(r)){l=r;break}}return l}initializeColumnCheck(e){typeof e.definition.editor<"u"&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach(i=>{i.column.modules.edit&&typeof i.column.modules.edit.check=="function"&&this.updateCellClass(i)})}initializeColumn(e){var i=Object.keys(e.definition).includes("editorEmptyValue"),l={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{},convertEmptyValues:i,editorEmptyValue:e.definition.editorEmptyValue,editorEmptyValueFunc:e.definition.editorEmptyValueFunc};l.editor=this.lookupEditor(e.definition.editor,e),l.editor&&(e.modules.edit=l)}lookupEditor(e,i){var l;switch(typeof e){case"string":this.editors[e]?l=this.editors[e]:console.warn("Editor Error - No such editor found: ",e);break;case"function":l=e;break;case"boolean":e===!0&&(typeof i.definition.formatter!="function"?this.editors[i.definition.formatter]?l=this.editors[i.definition.formatter]:l=this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",i.definition.formatter));break}return l}getCurrentCell(){return this.currentCell?this.currentCell.getComponent():!1}clearEditor(e){var i=this.currentCell,l;if(this.invalidEdit=!1,i){for(this.currentCell=!1,l=i.getElement(),this.dispatch("edit-editor-clear",i,e),l.classList.remove("tabulator-editing");l.firstChild;)l.removeChild(l.firstChild);i.row.getElement().classList.remove("tabulator-editing"),i.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,i=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),(e.column.definition.editor=="textarea"||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,i),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",i)}}bindEditor(e){if(e.column.modules.edit){var i=this,l=e.getElement(!0);this.updateCellClass(e),l.setAttribute("tabindex",0),l.addEventListener("mousedown",function(n){n.button===2?n.preventDefault():i.mouseClick=!0}),this.options("editTriggerEvent")==="dblclick"&&l.addEventListener("dblclick",function(n){l.classList.contains("tabulator-editing")||(l.focus({preventScroll:!0}),i.edit(e,n,!1))}),(this.options("editTriggerEvent")==="focus"||this.options("editTriggerEvent")==="click")&&l.addEventListener("click",function(n){l.classList.contains("tabulator-editing")||(l.focus({preventScroll:!0}),i.edit(e,n,!1))}),this.options("editTriggerEvent")==="focus"&&l.addEventListener("focus",function(n){i.recursionBlock||i.edit(e,n,!1)})}}focusCellNoEvent(e,i){this.recursionBlock=!0,i&&this.table.browser==="ie"||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,i){this.focusCellNoEvent(e),this.edit(e,!1,i)}focusScrollAdjust(e){if(this.table.rowManager.getRenderMode()=="virtual"){var i=this.table.rowManager.element.scrollTop,l=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,n=e.row.getElement();n.offsetTop<i?this.table.rowManager.element.scrollTop-=i-n.offsetTop:n.offsetTop+n.offsetHeight>l&&(this.table.rowManager.element.scrollTop+=n.offsetTop+n.offsetHeight-l);var r=this.table.rowManager.element.scrollLeft,u=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,d=e.getElement();this.table.modExists("frozenColumns")&&(r+=parseInt(this.table.modules.frozenColumns.leftMargin||0),u-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),this.table.options.renderHorizontal==="virtual"&&(r-=parseInt(this.table.columnManager.renderer.vDomPadLeft),u-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),d.offsetLeft<r?this.table.rowManager.element.scrollLeft-=r-d.offsetLeft:d.offsetLeft+d.offsetWidth>u&&(this.table.rowManager.element.scrollLeft+=d.offsetLeft+d.offsetWidth-u)}}allowEdit(e){var i=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(i=e.column.modules.edit.check(e.getComponent()));break;case"string":i=!!e.row.data[e.column.modules.edit.check];break;case"boolean":i=e.column.modules.edit.check;break}return i}edit(e,i,l){var n=this,r=!0,u=function(){},d=e.getElement(),p=!1,m,g,w;if(this.currentCell){!this.invalidEdit&&this.currentCell!==e&&this.cancelEdit();return}function y(M){if(n.currentCell===e&&!p){var U=n.chain("edit-success",[e,M],!0,!0);return U===!0||n.table.options.validationMode==="highlight"?(p=!0,n.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,n.editedCells.indexOf(e)==-1&&n.editedCells.push(e),M=n.transformEmptyValues(M,e),e.setValue(M,!0),U===!0):(p=!0,n.invalidEdit=!0,n.focusCellNoEvent(e,!0),u(),setTimeout(()=>{p=!1},10),!1)}}function E(){n.currentCell===e&&!p&&n.cancelEdit()}function T(M){u=M}if(e.column.modules.edit.blocked)return this.mouseClick=!1,this.blur(d),!1;if(i&&i.stopPropagation(),r=this.allowEdit(e),r||l){if(n.cancelEdit(),n.currentCell=e,this.focusScrollAdjust(e),g=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,i,g)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,g),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",g),w=typeof e.column.modules.edit.params=="function"?e.column.modules.edit.params(g):e.column.modules.edit.params,m=e.column.modules.edit.editor.call(n,g,T,y,E,w),this.currentCell&&m!==!1)if(m instanceof Node){for(d.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");d.firstChild;)d.removeChild(d.firstChild);d.appendChild(m),u();for(var k=d.children,H=0;H<k.length;H++)k[H].addEventListener("click",function(M){M.stopPropagation()})}else return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",m),this.blur(d),!1;else return this.blur(d),!1;return!0}else return this.mouseClick=!1,this.blur(d),!1}emptyValueCheck(e){return e===""||e===null||typeof e>"u"}transformEmptyValues(e,i){var l=i.column.modules.edit,n=l.convertEmptyValues||this.convertEmptyValues,r;return n&&(r=l.editorEmptyValueFunc||this.options("editorEmptyValueFunc"),r&&r(e)&&(e=l.convertEmptyValues?l.editorEmptyValue:this.options("editorEmptyValue"))),e}blur(e){this.confirm("edit-blur",[e])||e.blur()}getEditedCells(){var e=[];return this.editedCells.forEach(i=>{e.push(i.getComponent())}),e}clearEdited(e){var i;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),i=this.editedCells.indexOf(e),i>-1&&this.editedCells.splice(i,1)}};G(tn,"moduleName","edit"),G(tn,"editors",av);let vu=tn;class Kf{constructor(e,i,l,n){this.type=e,this.columns=i,this.component=l||!1,this.indent=n||0}}class au{constructor(e,i,l,n,r){this.value=e,this.component=i||!1,this.width=l,this.height=n,this.depth=r}}var rv={},ov={visible:function(){return this.rowManager.getVisibleRows(!1,!0)},all:function(){return this.rowManager.rows},selected:function(){return this.modules.selectRow.selectedRows},active:function(){return this.options.pagination?this.rowManager.getDisplayRows(this.rowManager.displayRows.length-2):this.rowManager.getDisplayRows()}};const _i=class _i extends le{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.colVisPropAttach="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,i,l,n){var r,u,d,p;return this.cloneTableStyle=i,this.config=e||{},this.colVisProp=n,this.colVisPropAttach=this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1),p=_i.columnLookups[l],p&&(d=p.call(this.table),d=d.filter(m=>this.columnVisCheck(m))),r=this.config.columnHeaders!==!1?this.headersToExportRows(this.generateColumnGroupHeaders(d)):[],d&&(d=d.map(m=>m.getComponent())),u=this.bodyToExportRows(this.rowLookup(l),d),r.concat(u)}generateTable(e,i,l,n){var r=this.generateExportList(e,i,l,n);return this.generateTableElement(r)}rowLookup(e){var i=[],l;return typeof e=="function"?e.call(this.table).forEach(n=>{n=this.table.rowManager.findRow(n),n&&i.push(n)}):(l=_i.rowLookups[e]||_i.rowLookups.active,i=l.call(this.table)),Object.assign([],i)}generateColumnGroupHeaders(e){var i=[];return e||(e=this.config.columnGroups!==!1?this.table.columnManager.columns:this.table.columnManager.columnsByIndex),e.forEach(l=>{var n=this.processColumnGroup(l);n&&i.push(n)}),i}processColumnGroup(e){var i=e.columns,l=0,n=e.definition["title"+this.colVisPropAttach]||e.definition.title,r={title:n,column:e,depth:1};if(i.length){if(r.subGroups=[],r.width=0,i.forEach(u=>{var d=this.processColumnGroup(u);d&&(r.width+=d.width,r.subGroups.push(d),d.depth>l&&(l=d.depth))}),r.depth+=l,!r.width)return!1}else if(this.columnVisCheck(e))r.width=1;else return!1;return r}columnVisCheck(e){var i=e.definition[this.colVisProp];return this.config.rowHeaders===!1&&e.isRowHeader?!1:(typeof i=="function"&&(i=i.call(this.table,e.getComponent())),i===!1||i===!0?i:e.visible&&e.field)}headersToExportRows(e){var i=[],l=0,n=[];function r(u,d){var p=l-d;if(typeof i[d]>"u"&&(i[d]=[]),u.height=u.subGroups?1:p-u.depth+1,i[d].push(u),u.height>1)for(let m=1;m<u.height;m++)typeof i[d+m]>"u"&&(i[d+m]=[]),i[d+m].push(!1);if(u.width>1)for(let m=1;m<u.width;m++)i[d].push(!1);u.subGroups&&u.subGroups.forEach(function(m){r(m,d+1)})}return e.forEach(function(u){u.depth>l&&(l=u.depth)}),e.forEach(function(u){r(u,0)}),i.forEach(u=>{var d=[];u.forEach(p=>{if(p){let m=typeof p.title>"u"?"":p.title;d.push(new au(m,p.column.getComponent(),p.width,p.height,p.depth))}else d.push(null)}),n.push(new Kf("header",d))}),n}bodyToExportRows(e,i=[]){var l=[];return i.length===0&&this.table.columnManager.columnsByIndex.forEach(n=>{this.columnVisCheck(n)&&i.push(n.getComponent())}),this.config.columnCalcs!==!1&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),e=e.filter(n=>{switch(n.type){case"group":return this.config.rowGroups!==!1;case"calc":return this.config.columnCalcs!==!1;case"row":return!(this.table.options.dataTree&&this.config.dataTree===!1&&n.modules.dataTree.parent)}return!0}),e.forEach((n,r)=>{var u=n.getData(this.colVisProp),d=[],p=0;switch(n.type){case"group":p=n.level,d.push(new au(n.key,n.getComponent(),i.length,1));break;case"calc":case"row":i.forEach(m=>{d.push(new au(m._column.getFieldValue(u),m,1,1))}),this.table.options.dataTree&&this.config.dataTree!==!1&&(p=n.modules.dataTree.index);break}l.push(new Kf(n.type,d,n.getComponent(),p))}),l}generateTableElement(e){var i=document.createElement("table"),l=document.createElement("thead"),n=document.createElement("tbody"),r=this.lookupTableStyles(),u=this.table.options["rowFormatter"+this.colVisPropAttach],d={};return d.rowFormatter=u!==null?u:this.table.options.rowFormatter,this.table.options.dataTree&&this.config.dataTree!==!1&&this.table.modExists("columnCalcs")&&(d.treeElementField=this.table.modules.dataTree.elementField),d.groupHeader=this.table.options["groupHeader"+this.colVisPropAttach],d.groupHeader&&!Array.isArray(d.groupHeader)&&(d.groupHeader=[d.groupHeader]),i.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),l,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((p,m)=>{let g;switch(p.type){case"header":l.appendChild(this.generateHeaderElement(p,d,r));break;case"group":n.appendChild(this.generateGroupElement(p,d,r));break;case"calc":n.appendChild(this.generateCalcElement(p,d,r));break;case"row":g=this.generateRowElement(p,d,r),this.mapElementStyles(m%2&&r.evenRow?r.evenRow:r.oddRow,g,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),n.appendChild(g);break}}),l.innerHTML&&i.appendChild(l),i.appendChild(n),this.mapElementStyles(this.table.element,i,["border-top","border-left","border-right","border-bottom"]),i}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.styleRowHeader=e.firstRow.getElementsByClassName("tabulator-row-header")[0],e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,i,l){var n=document.createElement("tr");return e.columns.forEach(r=>{if(r){var u=document.createElement("th"),d=r.component._column.definition.cssClass?r.component._column.definition.cssClass.split(" "):[];u.colSpan=r.width,u.rowSpan=r.height,u.innerHTML=r.value,this.cloneTableStyle&&(u.style.boxSizing="border-box"),d.forEach(function(p){u.classList.add(p)}),this.mapElementStyles(r.component.getElement(),u,["text-align","border-left","border-right","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(r.component._column.contentElement,u,["padding-top","padding-left","padding-right","padding-bottom"]),r.component._column.visible?this.mapElementStyles(r.component.getElement(),u,["width"]):r.component._column.definition.width&&(u.style.width=r.component._column.definition.width+"px"),r.component._column.parent&&r.component._column.parent.isGroup?this.mapElementStyles(r.component._column.parent.groupElement,u,["border-top"]):this.mapElementStyles(r.component.getElement(),u,["border-top"]),r.component._column.isGroup?this.mapElementStyles(r.component.getElement(),u,["border-bottom"]):this.mapElementStyles(this.table.columnManager.getElement(),u,["border-bottom"]),n.appendChild(u)}}),n}generateGroupElement(e,i,l){var n=document.createElement("tr"),r=document.createElement("td"),u=e.columns[0];return n.classList.add("tabulator-print-table-row"),i.groupHeader&&i.groupHeader[e.indent]?u.value=i.groupHeader[e.indent](u.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):i.groupHeader!==!1&&(u.value=e.component._group.generator(u.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),r.colSpan=u.width,r.innerHTML=u.value,n.classList.add("tabulator-print-table-group"),n.classList.add("tabulator-group-level-"+e.indent),u.component.isVisible()&&n.classList.add("tabulator-group-visible"),this.mapElementStyles(l.firstGroup,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(l.firstGroup,r,["padding-top","padding-left","padding-right","padding-bottom"]),n.appendChild(r),n}generateCalcElement(e,i,l){var n=this.generateRowElement(e,i,l);return n.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(l.calcRow,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),n}generateRowElement(e,i,l){var n=document.createElement("tr");if(n.classList.add("tabulator-print-table-row"),e.columns.forEach((r,u)=>{if(r){var d=document.createElement("td"),p=r.component._column,m=this.table,g=m.columnManager.findColumnIndex(p),w=r.value,y,E,T={modules:{},getValue:function(){return w},getField:function(){return p.definition.field},getElement:function(){return d},getType:function(){return"cell"},getColumn:function(){return p.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getTable:function(){return m},getComponent:function(){return T},column:p},k=p.definition.cssClass?p.definition.cssClass.split(" "):[];if(k.forEach(function(H){d.classList.add(H)}),this.table.modExists("format")&&this.config.formatCells!==!1)w=this.table.modules.format.formatExportValue(T,this.colVisProp);else switch(typeof w){case"object":w=w!==null?JSON.stringify(w):"";break;case"undefined":w="";break}w instanceof Node?d.appendChild(w):d.innerHTML=w,E=["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"],p.isRowHeader?(y=l.styleRowHeader,E.push("background-color")):y=l.styleCells&&l.styleCells[g]?l.styleCells[g]:l.firstCell,y&&(this.mapElementStyles(y,d,E),p.definition.align&&(d.style.textAlign=p.definition.align)),this.table.options.dataTree&&this.config.dataTree!==!1&&(i.treeElementField&&i.treeElementField==p.field||!i.treeElementField&&u==0)&&(e.component._row.modules.dataTree.controlEl&&d.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),d.firstChild),e.component._row.modules.dataTree.branchEl&&d.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),d.firstChild)),n.appendChild(d),T.modules.format&&T.modules.format.renderedCallback&&T.modules.format.renderedCallback()}}),i.rowFormatter&&e.type==="row"&&this.config.formatCells!==!1){let r=Object.assign(e.component);r.getElement=function(){return n},i.rowFormatter(e.component)}return n}generateHTMLTable(e){var i=document.createElement("div");return i.appendChild(this.generateTableElement(e)),i.innerHTML}getHtml(e,i,l,n){var r=this.generateExportList(l||this.table.options.htmlOutputConfig,i,e,n||"htmlOutput");return this.generateHTMLTable(r)}mapElementStyles(e,i,l){if(this.cloneTableStyle&&e&&i){var n={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var r=window.getComputedStyle(e);l.forEach(function(u){i.style[n[u]]||(i.style[n[u]]=r.getPropertyValue(u))})}}}};G(_i,"moduleName","export"),G(_i,"columnLookups",rv),G(_i,"rowLookups",ov);let yu=_i;var uv={"=":function(c,e,i,l){return e==c},"<":function(c,e,i,l){return e<c},"<=":function(c,e,i,l){return e<=c},">":function(c,e,i,l){return e>c},">=":function(c,e,i,l){return e>=c},"!=":function(c,e,i,l){return e!=c},regex:function(c,e,i,l){return typeof c=="string"&&(c=new RegExp(c)),c.test(e)},like:function(c,e,i,l){return c===null||typeof c>"u"?e===c:typeof e<"u"&&e!==null?String(e).toLowerCase().indexOf(c.toLowerCase())>-1:!1},keywords:function(c,e,i,l){var n=c.toLowerCase().split(typeof l.separator>"u"?" ":l.separator),r=String(e===null||typeof e>"u"?"":e).toLowerCase(),u=[];return n.forEach(d=>{r.includes(d)&&u.push(!0)}),l.matchAll?u.length===n.length:!!u.length},starts:function(c,e,i,l){return c===null||typeof c>"u"?e===c:typeof e<"u"&&e!==null?String(e).toLowerCase().startsWith(c.toLowerCase()):!1},ends:function(c,e,i,l){return c===null||typeof c>"u"?e===c:typeof e<"u"&&e!==null?String(e).toLowerCase().endsWith(c.toLowerCase()):!1},in:function(c,e,i,l){return Array.isArray(c)?c.length?c.indexOf(e)>-1:!0:(console.warn("Filter Error - filter value is not an array:",c),!1)}};const ii=class ii extends le{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),this.table.options.filterMode==="remote"&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var i=this.table.columnManager.findColumn(e.field);if(i)this.setHeaderFilterValue(i,e.value);else return console.warn("Column Filter Error - No matching column found:",e.field),!1}),this.tableInitialized=!0}remoteFilterParams(e,i,l,n){return n.filter=this.getFilters(!0,!0),n}generatePlaceholder(e){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(e,i,l,n){this.setFilter(e,i,l,n),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,i,l,n){this.addFilter(e,i,l,n),this.refreshFilter()}userSetHeaderFilterFocus(e){var i=this.table.columnManager.findColumn(e);if(i)this.setHeaderFilterFocus(i);else return console.warn("Column Filter Focus Error - No matching column found:",e),!1}userGetHeaderFilterValue(e){var i=this.table.columnManager.findColumn(e);if(i)return this.getHeaderFilterValue(i);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,i){var l=this.table.columnManager.findColumn(e);if(l)this.setHeaderFilterValue(l,i);else return console.warn("Column Filter Error - No matching column found:",e),!1}userRemoveFilter(e,i,l){this.removeFilter(e,i,l),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,i,l){return this.search("rows",e,i,l)}searchData(e,i,l){return this.search("data",e,i,l)}initializeColumnHeaderFilter(e){var i=e.definition;i.headerFilter&&this.initializeColumn(e)}initializeColumn(e,i){var l=this,n=e.getField();function r(u){var d=e.modules.filter.tagType=="input"&&e.modules.filter.attrType=="text"||e.modules.filter.tagType=="textarea"?"partial":"match",p="",m="",g;if(typeof e.modules.filter.prevSuccess>"u"||e.modules.filter.prevSuccess!==u){if(e.modules.filter.prevSuccess=u,e.modules.filter.emptyFunc(u))delete l.headerFilters[n];else{switch(e.modules.filter.value=u,typeof e.definition.headerFilterFunc){case"string":ii.filters[e.definition.headerFilterFunc]?(p=e.definition.headerFilterFunc,g=function(w){var y=e.definition.headerFilterFuncParams||{},E=e.getFieldValue(w);return y=typeof y=="function"?y(u,E,w):y,ii.filters[e.definition.headerFilterFunc](u,E,w,y)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":g=function(w){var y=e.definition.headerFilterFuncParams||{},E=e.getFieldValue(w);return y=typeof y=="function"?y(u,E,w):y,e.definition.headerFilterFunc(u,E,w,y)},p=g;break}if(!g)switch(d){case"partial":g=function(w){var y=e.getFieldValue(w);return typeof y<"u"&&y!==null?String(y).toLowerCase().indexOf(String(u).toLowerCase())>-1:!1},p="like";break;default:g=function(w){return e.getFieldValue(w)==u},p="="}l.headerFilters[n]={value:u,func:g,type:p}}e.modules.filter.value=u,m=JSON.stringify(l.headerFilters),l.prevHeaderFilterChangeCheck!==m&&(l.prevHeaderFilterChangeCheck=m,l.trackChanges(),l.refreshFilter())}return!0}e.modules.filter={success:r,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,i,l){var n=this,r=e.modules.filter.success,u=e.getField(),d,p,m,g,w,y,E,T;e.modules.filter.value=i;function k(){}function H(M){T=M}if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),u){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(M){return!M&&M!==0},d=document.createElement("div"),d.classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":n.table.modules.edit.editors[e.definition.headerFilter]?(p=n.table.modules.edit.editors[e.definition.headerFilter],(e.definition.headerFilter==="tick"||e.definition.headerFilter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(M){return M!==!0&&M!==!1})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":p=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?p=e.modules.edit.editor:e.definition.formatter&&n.table.modules.edit.editors[e.definition.formatter]?(p=n.table.modules.edit.editors[e.definition.formatter],(e.definition.formatter==="tick"||e.definition.formatter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(M){return M!==!0&&M!==!1})):p=n.table.modules.edit.editors.input;break}if(p){if(g={getValue:function(){return typeof i<"u"?i:""},getField:function(){return e.definition.field},getElement:function(){return d},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},E=e.definition.headerFilterParams||{},E=typeof E=="function"?E.call(n.table,g):E,m=p.call(this.table.modules.edit,g,H,r,k,E),!m){console.warn("Filter Error - Cannot add filter to "+u+" column, editor returned a value of false");return}if(!(m instanceof Node)){console.warn("Filter Error - Cannot add filter to "+u+" column, editor should return an instance of Node, the editor returned:",m);return}n.langBind("headerFilters|columns|"+e.definition.field,function(M){m.setAttribute("placeholder",typeof M<"u"&&M?M:e.definition.headerFilterPlaceholder||n.langText("headerFilters|default"))}),m.addEventListener("click",function(M){M.stopPropagation(),m.focus()}),m.addEventListener("focus",M=>{var U=this.table.columnManager.contentsElement.scrollLeft,P=this.table.rowManager.element.scrollLeft;U!==P&&(this.table.rowManager.scrollHorizontal(U),this.table.columnManager.scrollHorizontal(U))}),w=!1,y=function(M){w&&clearTimeout(w),w=setTimeout(function(){r(m.value)},n.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=m,e.modules.filter.attrType=m.hasAttribute("type")?m.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=m.tagName.toLowerCase(),e.definition.headerFilterLiveFilter!==!1&&(e.definition.headerFilter==="autocomplete"||e.definition.headerFilter==="tickCross"||(e.definition.editor==="autocomplete"||e.definition.editor==="tickCross")&&e.definition.headerFilter===!0||(m.addEventListener("keyup",y),m.addEventListener("search",y),e.modules.filter.attrType=="number"&&m.addEventListener("change",function(M){r(m.value)}),e.modules.filter.attrType=="text"&&this.table.browser!=="ie"&&m.setAttribute("type","search")),(e.modules.filter.tagType=="input"||e.modules.filter.tagType=="select"||e.modules.filter.tagType=="textarea")&&m.addEventListener("mousedown",function(M){M.stopPropagation()})),d.appendChild(m),e.contentElement.appendChild(d),l||n.headerFilterColumns.push(e),T&&T()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,i){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,i,!0),e.modules.filter.success(i)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&(this.table.options.filterMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,i,l,n){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:i,value:l,params:n}]),this.addFilter(e)}addFilter(e,i,l,n){var r=!1;Array.isArray(e)||(e=[{field:e,type:i,value:l,params:n}]),e.forEach(u=>{u=this.findFilter(u),u&&(this.filterList.push(u),r=!0)}),r&&this.trackChanges()}findFilter(e){var i;if(Array.isArray(e))return this.findSubFilters(e);var l=!1;return typeof e.field=="function"?l=function(n){return e.field(n,e.type||{})}:ii.filters[e.type]?(i=this.table.columnManager.getColumnByField(e.field),i?l=function(n){return ii.filters[e.type](e.value,i.getFieldValue(n),n,e.params||{})}:l=function(n){return ii.filters[e.type](e.value,n[e.field],n,e.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=l,e.func?e:!1}findSubFilters(e){var i=[];return e.forEach(l=>{l=this.findFilter(l),l&&i.push(l)}),i.length?i:!1}getFilters(e,i){var l=[];return e&&(l=this.getHeaderFilters()),i&&l.forEach(function(n){typeof n.type=="function"&&(n.type="function")}),l=l.concat(this.filtersToArray(this.filterList,i)),l}filtersToArray(e,i){var l=[];return e.forEach(n=>{var r;Array.isArray(n)?l.push(this.filtersToArray(n,i)):(r={field:n.field,type:n.type,value:n.value},i&&typeof r.type=="function"&&(r.type="function"),l.push(r))}),l}getHeaderFilters(){var e=[];for(var i in this.headerFilters)e.push({field:i,type:this.headerFilters[i].type,value:this.headerFilters[i].value});return e}removeFilter(e,i,l){Array.isArray(e)||(e=[{field:e,type:i,value:l}]),e.forEach(n=>{var r=-1;typeof n.field=="object"?r=this.filterList.findIndex(u=>n===u):r=this.filterList.findIndex(u=>n.field===u.field&&n.type===u.type&&n.value===u.value),r>-1?this.filterList.splice(r,1):console.warn("Filter Error - No matching filter type found, ignoring: ",n.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{typeof e.modules.filter.value<"u"&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,i,l,n){var r=[],u=[];return Array.isArray(i)||(i=[{field:i,type:l,value:n}]),i.forEach(d=>{d=this.findFilter(d),d&&u.push(d)}),this.table.rowManager.rows.forEach(d=>{var p=!0;u.forEach(m=>{this.filterRecurse(m,d.getData())||(p=!1)}),p&&r.push(e==="data"?d.getData("data"):d.getComponent())}),r}filter(e,i){var l=[],n=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),this.table.options.filterMode!=="remote"&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(r=>{this.filterRow(r)&&l.push(r)}):l=e.slice(0),this.subscribedExternal("dataFiltered")&&(l.forEach(r=>{n.push(r.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(!0),n)),l}filterRow(e,i){var l=!0,n=e.getData();this.filterList.forEach(u=>{this.filterRecurse(u,n)||(l=!1)});for(var r in this.headerFilters)this.headerFilters[r].func(n)||(l=!1);return l}filterRecurse(e,i){var l=!1;return Array.isArray(e)?e.forEach(n=>{this.filterRecurse(n,i)&&(l=!0)}):l=e.func(i),l}};G(ii,"moduleName","filter"),G(ii,"filters",uv);let wu=ii;function hv(c,e,i){return this.emptyToSpace(this.sanitizeHTML(c.getValue()))}function cv(c,e,i){return c.getValue()}function dv(c,e,i){return c.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(c.getValue()))}function fv(c,e,i){var l=parseFloat(c.getValue()),n="",r,u,d,p,m,g=e.decimal||".",w=e.thousand||",",y=e.negativeSign||"-",E=e.symbol||"",T=!!e.symbolAfter,k=typeof e.precision<"u"?e.precision:2;if(isNaN(l))return this.emptyToSpace(this.sanitizeHTML(c.getValue()));if(l<0&&(l=Math.abs(l),n=y),r=k!==!1?l.toFixed(k):l,r=String(r).split("."),u=r[0],d=r.length>1?g+r[1]:"",e.thousand!==!1)for(p=/(\d+)(\d{3})/;p.test(u);)u=u.replace(p,"$1"+w+"$2");return m=u+d,n===!0?(m="("+m+")",T?m+E:E+m):T?n+m+E:n+E+m}function pv(c,e,i){var l=c.getValue(),n=e.urlPrefix||"",r=e.download,u=l,d=document.createElement("a"),p;function m(g,w){var y=g.shift(),E=w[y];return g.length&&typeof E=="object"?m(g,E):E}if(e.labelField&&(p=c.getData(),u=m(e.labelField.split(this.table.options.nestedFieldSeparator),p)),e.label)switch(typeof e.label){case"string":u=e.label;break;case"function":u=e.label(c);break}if(u){if(e.urlField&&(p=c.getData(),l=Se.retrieveNestedData(this.table.options.nestedFieldSeparator,e.urlField,p)),e.url)switch(typeof e.url){case"string":l=e.url;break;case"function":l=e.url(c);break}return d.setAttribute("href",n+l),e.target&&d.setAttribute("target",e.target),e.download&&(typeof r=="function"?r=r(c):r=r===!0?"":r,d.setAttribute("download",r)),d.innerHTML=this.emptyToSpace(this.sanitizeHTML(u)),d}else return"&nbsp;"}function mv(c,e,i){var l=document.createElement("img"),n=c.getValue();switch(e.urlPrefix&&(n=e.urlPrefix+c.getValue()),e.urlSuffix&&(n=n+e.urlSuffix),l.setAttribute("src",n),typeof e.height){case"number":l.style.height=e.height+"px";break;case"string":l.style.height=e.height;break}switch(typeof e.width){case"number":l.style.width=e.width+"px";break;case"string":l.style.width=e.width;break}return l.addEventListener("load",function(){c.getRow().normalizeHeight()}),l}function gv(c,e,i){var l=c.getValue(),n=c.getElement(),r=e.allowEmpty,u=e.allowTruthy,d=Object.keys(e).includes("trueValue"),p=typeof e.tickElement<"u"?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',m=typeof e.crossElement<"u"?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return d&&l===e.trueValue||!d&&(u&&l||l===!0||l==="true"||l==="True"||l===1||l==="1")?(n.setAttribute("aria-checked",!0),p||""):r&&(l==="null"||l===""||l===null||typeof l>"u")?(n.setAttribute("aria-checked","mixed"),""):(n.setAttribute("aria-checked",!1),m||"")}function bv(c,e,i){var l=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),n=e.inputFormat||"yyyy-MM-dd HH:mm:ss",r=e.outputFormat||"dd/MM/yyyy HH:mm:ss",u=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",d=c.getValue();if(typeof l<"u"){var p;return l.isDateTime(d)?p=d:n==="iso"?p=l.fromISO(String(d)):p=l.fromFormat(String(d),n),p.isValid?(e.timezone&&(p=p.setZone(e.timezone)),p.toFormat(r)):u===!0||!d?d:typeof u=="function"?u(d):u}else console.error("Format Error - 'datetime' formatter is dependant on luxon.js")}function vv(c,e,i){var l=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),n=e.inputFormat||"yyyy-MM-dd HH:mm:ss",r=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",u=typeof e.suffix<"u"?e.suffix:!1,d=typeof e.unit<"u"?e.unit:"days",p=typeof e.humanize<"u"?e.humanize:!1,m=typeof e.date<"u"?e.date:l.now(),g=c.getValue();if(typeof l<"u"){var w;return l.isDateTime(g)?w=g:n==="iso"?w=l.fromISO(String(g)):w=l.fromFormat(String(g),n),w.isValid?p?w.diff(m,d).toHuman()+(u?" "+u:""):parseInt(w.diff(m,d)[d])+(u?" "+u:""):r===!0?g:typeof r=="function"?r(g):r}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")}function yv(c,e,i){var l=c.getValue();return typeof e[l]>"u"?(console.warn("Missing display value for "+l),l):e[l]}function wv(c,e,i){var l=c.getValue(),n=c.getElement(),r=e&&e.stars?e.stars:5,u=document.createElement("span"),d=document.createElementNS("http://www.w3.org/2000/svg","svg"),p='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',m='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';u.style.verticalAlign="middle",d.setAttribute("width","14"),d.setAttribute("height","14"),d.setAttribute("viewBox","0 0 512 512"),d.setAttribute("xml:space","preserve"),d.style.padding="0 1px",l=l&&!isNaN(l)?parseInt(l):0,l=Math.max(0,Math.min(l,r));for(var g=1;g<=r;g++){var w=d.cloneNode(!0);w.innerHTML=g<=l?p:m,u.appendChild(w)}return n.style.whiteSpace="nowrap",n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.setAttribute("aria-label",l),u}function Cv(c,e,i){var l=this.sanitizeHTML(c.getValue())||0,n=document.createElement("span"),r=e&&e.max?e.max:100,u=e&&e.min?e.min:0,d=e&&typeof e.color<"u"?e.color:["red","orange","green"],p="#666666",m,g;if(!(isNaN(l)||typeof c.getValue()>"u")){switch(n.classList.add("tabulator-traffic-light"),g=parseFloat(l)<=r?parseFloat(l):r,g=parseFloat(g)>=u?parseFloat(g):u,m=(r-u)/100,g=Math.round((g-u)/m),typeof d){case"string":p=d;break;case"function":p=d(l);break;case"object":if(Array.isArray(d)){var w=100/d.length,y=Math.floor(g/w);y=Math.min(y,d.length-1),y=Math.max(y,0),p=d[y];break}}return n.style.backgroundColor=p,n}}function Ev(c,e={},i){var l=this.sanitizeHTML(c.getValue())||0,n=c.getElement(),r=e.max?e.max:100,u=e.min?e.min:0,d=e.legendAlign?e.legendAlign:"center",p,m,g,w,y;switch(m=parseFloat(l)<=r?parseFloat(l):r,m=parseFloat(m)>=u?parseFloat(m):u,p=(r-u)/100,m=Math.round((m-u)/p),typeof e.color){case"string":g=e.color;break;case"function":g=e.color(l);break;case"object":if(Array.isArray(e.color)){let H=100/e.color.length,M=Math.floor(m/H);M=Math.min(M,e.color.length-1),M=Math.max(M,0),g=e.color[M];break}default:g="#2DC214"}switch(typeof e.legend){case"string":w=e.legend;break;case"function":w=e.legend(l);break;case"boolean":w=l;break;default:w=!1}switch(typeof e.legendColor){case"string":y=e.legendColor;break;case"function":y=e.legendColor(l);break;case"object":if(Array.isArray(e.legendColor)){let H=100/e.legendColor.length,M=Math.floor(m/H);M=Math.min(M,e.legendColor.length-1),M=Math.max(M,0),y=e.legendColor[M]}break;default:y="#000"}n.style.minWidth="30px",n.style.position="relative",n.setAttribute("aria-label",m);var E=document.createElement("div");E.style.display="inline-block",E.style.width=m+"%",E.style.backgroundColor=g,E.style.height="100%",E.setAttribute("data-max",r),E.setAttribute("data-min",u);var T=document.createElement("div");if(T.style.position="relative",T.style.width="100%",T.style.height="100%",w){var k=document.createElement("div");k.style.position="absolute",k.style.top=0,k.style.left=0,k.style.textAlign=d,k.style.width="100%",k.style.color=y,k.innerHTML=w}return i(function(){if(!(c instanceof op)){var H=document.createElement("div");H.style.position="absolute",H.style.top="4px",H.style.bottom="4px",H.style.left="4px",H.style.right="4px",n.appendChild(H),n=H}n.appendChild(T),T.appendChild(E),w&&T.appendChild(k)}),""}function Rv(c,e,i){return c.getElement().style.backgroundColor=this.sanitizeHTML(c.getValue()),""}function Tv(c,e,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'}function Sv(c,e,i){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}function xv(c,e,i){var l=c.getValue(),n=e.size||15,r=n+"px",u,d,p=e.hasOwnProperty("onValue")?e.onValue:!0,m=e.hasOwnProperty("offValue")?e.offValue:!1,g=e.onTruthy?l:l===p;return u=document.createElement("div"),u.classList.add("tabulator-toggle"),g?(u.classList.add("tabulator-toggle-on"),u.style.flexDirection="row-reverse",e.onColor&&(u.style.background=e.onColor)):e.offColor&&(u.style.background=e.offColor),u.style.width=2.5*n+"px",u.style.borderRadius=r,e.clickable&&u.addEventListener("click",w=>{c.setValue(g?m:p)}),d=document.createElement("div"),d.classList.add("tabulator-toggle-switch"),d.style.height=r,d.style.width=r,d.style.borderRadius=r,u.appendChild(d),u}function Mv(c,e,i){var l=document.createElement("span"),n=c.getRow(),r=c.getTable();return n.watchPosition(u=>{e.relativeToPage&&(u+=r.modules.page.getPageSize()*(r.modules.page.getPage()-1)),l.innerText=u}),l}function Dv(c,e,i){return c.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"}function zv(c,e,i){var l,n,r;function u(d){var p=d.getValue(),m="plaintext";switch(typeof p){case"boolean":m="tickCross";break;case"string":p.includes(`
`)&&(m="textarea");break}return m}return l=e.formatterLookup?e.formatterLookup(c):u(c),e.paramsLookup&&(r=typeof e.paramsLookup=="function"?e.paramsLookup(l,c):e.paramsLookup[l]),n=this.table.modules.format.lookupFormatter(l),n.call(this,c,r||{},i)}function Lv(c,e,i){var l=e.delimiter||",",n=c.getValue(),r=this.table,u;return e.valueMap&&(typeof e.valueMap=="string"?u=function(d){return d.map(p=>Se.retrieveNestedData(r.options.nestedFieldSeparator,e.valueMap,p))}:u=e.valueMap),Array.isArray(n)?(u&&(n=u(n)),n.join(l)):n}function kv(c,e,i){var l=e.indent||"	",n=typeof e.multiline>"u"?!0:e.multiline,r=e.replacer||null,u=c.getValue();return n&&(c.getElement().style.whiteSpace="pre-wrap"),JSON.stringify(u,r,l)}var Av={plaintext:hv,html:cv,textarea:dv,money:fv,link:pv,image:mv,tickCross:gv,datetime:bv,datetimediff:vv,lookup:yv,star:wv,traffic:Cv,progress:Ev,color:Rv,buttonTick:Tv,buttonCross:Sv,toggle:xv,rownum:Mv,handle:Dv,adaptable:zv,array:Lv,json:kv};const Bi=class Bi extends le{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupTypeFormatter(e,""),typeof e.definition.formatterPrint<"u"&&(e.modules.format.print=this.lookupTypeFormatter(e,"Print")),typeof e.definition.formatterClipboard<"u"&&(e.modules.format.clipboard=this.lookupTypeFormatter(e,"Clipboard")),typeof e.definition.formatterHtmlOutput<"u"&&(e.modules.format.htmlOutput=this.lookupTypeFormatter(e,"HtmlOutput"))}lookupTypeFormatter(e,i){var l={params:e.definition["formatter"+i+"Params"]||{}},n=e.definition["formatter"+i];return l.formatter=this.lookupFormatter(n),l}lookupFormatter(e){var i;switch(typeof e){case"string":Bi.formatters[e]?i=Bi.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),i=Bi.formatters.plaintext);break;case"function":i=e;break;default:i=Bi.formatters.plaintext;break}return i}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,i,l){var n,r,u,d;return e.definition.titleFormatter?(n=this.lookupFormatter(e.definition.titleFormatter),u=p=>{e.titleFormatterRendered=p},d={getValue:function(){return i},getElement:function(){return l},getType:function(){return"header"},getColumn:function(){return e.getComponent()},getTable:()=>this.table},r=e.definition.titleFormatterParams||{},r=typeof r=="function"?r():r,n.call(this,d,r,u)):i}formatValue(e){var i=e.getComponent(),l=typeof e.column.modules.format.params=="function"?e.column.modules.format.params(i):e.column.modules.format.params;function n(r){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=r,e.modules.format.rendered=!1}return e.column.modules.format.formatter.call(this,i,l,n)}formatExportValue(e,i){var l=e.column.modules.format[i],n;if(l){let u=function(d){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=d,e.modules.format.rendered=!1};var r=u;return n=typeof l.params=="function"?l.params(e.getComponent()):l.params,l.formatter.call(this,e.getComponent(),n,u)}else return this.formatValue(e)}sanitizeHTML(e){if(e){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,function(l){return i[l]})}else return e}emptyToSpace(e){return e===null||typeof e>"u"||e===""?"&nbsp;":e}};G(Bi,"moduleName","format"),G(Bi,"formatters",Av);let Cu=Bi;class dp extends le{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-deleted",this.reinitializeColumns.bind(this)),this.subscribe("column-hide",this.reinitializeColumns.bind(this)),this.subscribe("column-show",this.reinitializeColumns.bind(this)),this.subscribe("columns-loaded",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach(e=>{this.initializeColumn(e)}),this.layout()}initializeColumn(e){var i={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(i.position=this.initializationMode,this.initializationMode=="left"?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=i):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(i=>{i.calcs.top&&this.layoutRow(i.calcs.top),i.calcs.bottom&&this.layoutRow(i.calcs.bottom),i.groupList&&i.groupList.length&&this.layoutGroupCalcs(i.groupList)})}layoutColumnPosition(e){var i=[],l=0,n=0;this.leftColumns.forEach((r,u)=>{if(r.modules.frozen.marginValue=l,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(l+=r.getWidth()),u==this.leftColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup){var d=this.getColGroupParentElement(r);i.includes(d)||(this.layoutElement(d,r),i.push(d)),d.classList.toggle("tabulator-frozen-left",r.modules.frozen.edge&&r.modules.frozen.position==="left"),d.classList.toggle("tabulator-frozen-right",r.modules.frozen.edge&&r.modules.frozen.position==="right")}else this.layoutElement(r.getElement(),r);e&&r.cells.forEach(p=>{this.layoutElement(p.getElement(!0),r)})}),this.rightColumns.forEach((r,u)=>{r.modules.frozen.marginValue=n,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(n+=r.getWidth()),u==this.rightColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup?this.layoutElement(this.getColGroupParentElement(r),r):this.layoutElement(r.getElement(),r),e&&r.cells.forEach(d=>{this.layoutElement(d.getElement(!0),r)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0),i=this.table.rowManager.getRows().filter(l=>!e.includes(l));i.forEach(l=>{l.deinitialize()}),e.forEach(l=>{l.type==="row"&&this.layoutRow(l)})}layoutRow(e){this.table.options.layout==="fitDataFill"&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(i=>{var l=e.getCell(i);l&&this.layoutElement(l.getElement(!0),i)}),this.rightColumns.forEach(i=>{var l=e.getCell(i);l&&this.layoutElement(l.getElement(!0),i)})}layoutElement(e,i){var l;i.modules.frozen&&e&&(e.style.position="sticky",this.table.rtl?l=i.modules.frozen.position==="left"?"right":"left":l=i.modules.frozen.position,e.style[l]=i.modules.frozen.margin,e.classList.add("tabulator-frozen"),e.classList.toggle("tabulator-frozen-left",i.modules.frozen.edge&&i.modules.frozen.position==="left"),e.classList.toggle("tabulator-frozen-right",i.modules.frozen.edge&&i.modules.frozen.position==="right"))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}getFrozenColumns(){return this.leftColumns.concat(this.rightColumns)}_calcSpace(e,i){var l=0;for(let n=0;n<i;n++)e[n].visible&&(l+=e[n].getWidth());return l}}G(dp,"moduleName","frozenColumns");class fp extends le{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){var e=document.createDocumentFragment();this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach(e=>{this.initializeRow(e)})}initializeRow(e){var i=this.table.options.frozenRows,l=typeof i;l==="number"?e.getPosition()&&e.getPosition()+this.rows.length<=i&&this.freezeRow(e):l==="function"?i.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(i)&&i.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){var i=this.rows.indexOf(e);return i>-1}isFrozen(){return!!this.rows.length}visibleRows(e,i){return this.rows.forEach(l=>{i.push(l)}),i}getRows(e){var i=e.slice(0);return this.rows.forEach(function(l){var n=i.indexOf(l);n>-1&&i.splice(n,1)}),i}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var i=this.rows.indexOf(e);if(i>-1){var l=e.getElement();l.parentNode&&l.parentNode.removeChild(l),this.rows.splice(i,1)}}styleRows(e){this.rows.forEach((i,l)=>{this.table.rowManager.styleRow(i,l)})}}G(fp,"moduleName","frozenRows");class Hv{constructor(e){return this._group=e,this.type="GroupComponent",new Proxy(this,{get:function(i,l,n){return typeof i[l]<"u"?i[l]:i._group.groupManager.table.componentFunctionBinder.handle("group",i._group,l)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return this._group.parent?this._group.parent.getComponent():!1}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(e,i){return this._group.groupManager.table.rowManager.scrollToRow(this._group,e,i)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class Xs{constructor(e,i,l,n,r,u,d){this.groupManager=e,this.parent=i,this.key=n,this.level=l,this.field=r,this.hasSubGroups=l<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=d,this.rows=[],this.groups=[],this.groupList=[],this.generator=u,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=d?d.visible:typeof e.startOpen[l]<"u"?e.startOpen[l]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(e){e||(this.groupList.length?this.groupList.forEach(function(i){i.wipe()}):this.rows.forEach(i=>{i.modules&&delete i.modules.group})),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),this.groupManager.table.options.movableRows!==!1&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach(i=>{this._createGroup(i,e)})}addBindings(){var e;this.groupManager.table.options.groupToggleElement&&(e=this.groupManager.table.options.groupToggleElement=="arrow"?this.arrowElement:this.element,e.addEventListener("click",i=>{this.groupManager.table.options.groupToggleElement==="arrow"&&(i.stopPropagation(),i.stopImmediatePropagation()),setTimeout(()=>{this.toggleVisibility()})}))}_createGroup(e,i){var l=i+"_"+e,n=new Xs(this.groupManager,this,i,e,this.groupManager.groupIDLookups[i].field,this.groupManager.headerGenerator[i]||this.groupManager.headerGenerator[0],this.old?this.old.groups[l]:!1);this.groups[l]=n,this.groupList.push(n)}_addRowToGroup(e){var i=this.level+1;if(this.hasSubGroups){var l=this.groupManager.groupIDLookups[i].func(e.getData()),n=i+"_"+l;this.groupManager.allowedValues&&this.groupManager.allowedValues[i]?this.groups[n]&&this.groups[n].addRow(e):(this.groups[n]||this._createGroup(l,i),this.groups[n].addRow(e))}}_addRow(e){this.rows.push(e),e.modules.group=this}insertRow(e,i,l){var n=this.conformRowData({});e.updateData(n);var r=this.rows.indexOf(i);r>-1?l?this.rows.splice(r+1,0,e):this.rows.splice(r,0,e):l?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(e){this.arrowElement&&(this.arrowElement.style.marginLeft=e,this.groupList.forEach(function(i){i.scrollHeader(e)}))}getRowIndex(e){}conformRowData(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}removeRow(e){var i=this.rows.indexOf(e),l=e.getElement();i>-1&&this.rows.splice(i,1),!this.groupManager.table.options.groupValues&&!this.rows.length?(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0)):(l.parentNode&&l.parentNode.removeChild(l),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)))}removeGroup(e){var i=e.level+"_"+e.key,l;this.groups[i]&&(delete this.groups[i],l=this.groupList.indexOf(e),l>-1&&this.groupList.splice(l,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var e=[];return e.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach(function(i){e=e.concat(i.getHeadersAndRows())}):(this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e}getData(e,i){var l=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach(n=>{l.push(n.getData(i||"data"))}),l}getRowCount(){var e=0;return this.groupList.length?this.groupList.forEach(i=>{e+=i.getRowCount()}):e=this.rows.length,e}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination?(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(e=>{var i=e.getHeadersAndRows();i.forEach(l=>{l.detachElement()})}):this.rows.forEach(e=>{var i=e.getElement();i.parentNode.removeChild(i)}),this.groupManager.updateGroupRows(!0)):this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination){this.element.classList.add("tabulator-group-visible");var e=this.generateElement();this.groupList.length?this.groupList.forEach(i=>{var l=i.getHeadersAndRows();l.forEach(n=>{var r=n.getElement();e.parentNode.insertBefore(r,e.nextSibling),n.initialize(),e=r})}):this.rows.forEach(i=>{var l=i.getElement();e.parentNode.insertBefore(l,e.nextSibling),i.initialize(),e=l}),this.groupManager.updateGroupRows(!0)}else this.groupManager.updateGroupRows(!0);this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var e=[];typeof this.visible=="function"&&(this.rows.forEach(function(i){e.push(i.getData())}),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}getRowGroup(e){var i=!1;return this.groupList.length?this.groupList.forEach(function(l){var n=l.getRowGroup(e);n&&(i=n)}):this.rows.find(function(l){return l===e})&&(i=this),i}getSubGroups(e){var i=[];return this.groupList.forEach(function(l){i.push(e?l.getComponent():l)}),i}getRows(e,i){var l=[];return i&&this.groupList.length?this.groupList.forEach(n=>{l=l.concat(n.getRows(e,i))}):this.rows.forEach(function(n){l.push(e?n.getComponent():n)}),l}generateGroupHeaderContents(){var e=[],i=this.getRows(!1,!0);for(i.forEach(function(l){e.push(l.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);typeof this.elementContents=="string"?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(e=[]){return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(e){(!this.initialized||e)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,Se.elVisible(this.element)&&this.initialize(!0)}setHeight(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new Hv(this)),this.component}}class pp extends le{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,i=this.table.options.groupStartOpen,l=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(l)&&e.length>l.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(r,u)=>{this.headerGenerator[0]=(d,p,m)=>(typeof d>"u"?"":d)+"<span>("+p+" "+(p===1?r:u.groups.items)+")</span>"}),this.groupIDLookups=[],e)this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="group"){var n=this.table.columnManager.getRealColumns();n.forEach(r=>{r.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),r.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()})}Array.isArray(e)||(e=[e]),e.forEach((r,u)=>{var d,p;typeof r=="function"?d=r:(p=this.table.columnManager.getColumnByField(r),p?d=function(m){return p.getFieldValue(m)}:d=function(m){return m[r]}),this.groupIDLookups.push({field:typeof r=="function"?!1:r,func:d,values:this.allowedValues?this.allowedValues[u]:!1})}),i&&(Array.isArray(i)||(i=[i]),i.forEach(r=>{}),this.startOpen=i),l&&(this.headerGenerator=Array.isArray(l)?l:[l])}else this.groupList=[],this.groups={}}rowSample(e,i){if(this.table.options.groupBy){var l=this.getGroups(!1)[0];i.push(l.getRows(!1)[0])}return i}virtualRenderFill(){var e=this.table.rowManager.tableElement,i=this.table.rowManager.getVisibleRows();if(this.table.options.groupBy)i=i.filter(l=>l.type!=="group"),e.style.minWidth=i.length?"":this.table.columnManager.getWidth()+"px";else return i}rowAddingIndex(e,i,l){if(this.table.options.groupBy){this.assignRowToGroup(e);var n=e.modules.group.rows;return n.length>1&&(!i||i&&n.indexOf(i)==-1?l?n[0]!==e&&(i=n[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!l)):n[n.length-1]!==e&&(i=n[n.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!l)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,i,!l)),i}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&this.table.options.columnCalcs===!0&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return e.modules.group?e.modules.group.getComponent():!1}rowMoving(e,i,l){if(this.table.options.groupBy){!l&&i instanceof Xs&&(i=this.table.rowManager.prevDisplayRow(e)||i);var n=i instanceof Xs?i:i.modules.group,r=e instanceof Xs?e:e.modules.group;n===r?this.table.rowManager.moveRowInArray(n.rows,e,i,l):(r&&r.removeRow(e),n.insertRow(e,i,l))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var i=[];return this.groupList.forEach(function(l){i.push(e?l.getComponent():l)}),i}getChildGroups(e){var i=[];return e||(e=this),e.groupList.forEach(l=>{l.groupList.length?i=i.concat(this.getChildGroups(l)):i.push(l)}),i}wipe(){this.table.options.groupBy&&(this.groupList.forEach(function(e){e.wipe()}),this.groupList=[],this.groups={})}pullGroupListData(e){var i=[];return e.forEach(l=>{var n={};n.level=0,n.rowCount=0,n.headerContent="";var r=[];l.hasSubGroups?(r=this.pullGroupListData(l.groupList),n.level=l.level,n.rowCount=r.length-l.groupList.length,n.headerContent=l.generator(l.key,n.rowCount,l.rows,l),i.push(n),i=i.concat(r)):(n.level=l.level,n.headerContent=l.generator(l.key,l.rows.length,l.rows,l),n.rowCount=l.getRows().length,i.push(n),l.getRows().forEach(u=>{i.push(u.getData("data"))}))}),i}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var i=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach(l=>{var n=l.getRowGroup(e);n&&(i=n)}),i}countGroups(){return this.groupList.length}generateGroups(e){var i=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(l=>{this.createGroup(l,0,i)}),e.forEach(l=>{this.assignRowToExistingGroup(l,i)})):e.forEach(l=>{this.assignRowToGroup(l,i)}),Object.values(i).forEach(l=>{l.wipe(!0)})}createGroup(e,i,l){var n=i+"_"+e,r;l=l||[],r=new Xs(this,!1,i,e,this.groupIDLookups[0].field,this.headerGenerator[0],l[n]),this.groups[n]=r,this.groupList.push(r)}assignRowToExistingGroup(e,i){var l=this.groupIDLookups[0].func(e.getData()),n="0_"+l;this.groups[n]&&this.groups[n].addRow(e)}assignRowToGroup(e,i){var l=this.groupIDLookups[0].func(e.getData()),n=!this.groups["0_"+l];return n&&this.createGroup(l,0,i),this.groups["0_"+l].addRow(e),!n}reassignRowToGroup(e){if(e.type==="row"){var i=e.modules.group,l=i.getPath(),n=this.getExpectedPath(e),r;r=l.length==n.length&&l.every((u,d)=>u===n[d]),r||(i.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var i=[],l=e.getData();return this.groupIDLookups.forEach(n=>{i.push(n.func(l))}),i}updateGroupRows(e){var i=[];return this.blockRedraw||(this.groupList.forEach(l=>{i=i.concat(l.getHeadersAndRows())}),e&&this.refreshData(!0)),i}scrollHeaders(e){this.table.options.groupBy&&(this.table.options.renderHorizontal==="virtual"&&(e-=this.table.columnManager.renderer.vDomPadLeft),e=e+"px",this.groupList.forEach(i=>{i.scrollHeader(e)}))}removeGroup(e){var i=e.level+"_"+e.key,l;this.groups[i]&&(delete this.groups[i],l=this.groupList.indexOf(e),l>-1&&this.groupList.splice(l,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,i=!0;this.table.rowManager.getDisplayRows().forEach((l,n)=>{this.table.rowManager.styleRow(l,n),e.appendChild(l.getElement()),l.initialize(!0),l.type!=="group"&&(i=!1)}),i?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}}G(pp,"moduleName","groupRows");var Ov={cellEdit:function(c){c.component.setValueProcessData(c.data.oldValue),c.component.cellRendered()},rowAdd:function(c){c.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowDelete:function(c){var e=this.table.rowManager.addRowActual(c.data.data,c.data.pos,c.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(c.component,e),this.table.rowManager.checkPlaceholder()},rowMove:function(c){var e=c.data.posFrom-c.data.posTo>0;this.table.rowManager.moveRowActual(c.component,this.table.rowManager.getRowFromPosition(c.data.posFrom),e),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},_v={cellEdit:function(c){c.component.setValueProcessData(c.data.newValue),c.component.cellRendered()},rowAdd:function(c){var e=this.table.rowManager.addRowActual(c.data.data,c.data.pos,c.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(c.component,e),this.table.rowManager.checkPlaceholder()},rowDelete:function(c){c.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowMove:function(c){this.table.rowManager.moveRowActual(c.component,this.table.rowManager.getRowFromPosition(c.data.posTo),c.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},Bv={undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"]},Nv={undo:function(c){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(c.preventDefault(),this.table.modules.history.undo()))},redo:function(c){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(c.preventDefault(),this.table.modules.history.redo()))}},Fv={keybindings:{bindings:Bv,actions:Nv}};const Ni=class Ni extends le{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,i,l){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:i.getPosition(),to:i,after:l})}rowAdded(e,i,l,n){this.action("rowAdd",e,{data:i,pos:l,index:n})}rowDeleted(e){var i,l;this.table.options.groupBy?(l=e.getComponent().getGroup()._getSelf().rows,i=l.indexOf(e),i&&(i=l[i-1])):(i=e.table.rowManager.getRowIndex(e),i&&(i=e.table.rowManager.rows[i-1])),this.action("rowDelete",e,{data:e.getData(),pos:!i,index:i})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,i,l){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:i,data:l}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var i=this.history.findIndex(function(l){return l.component===e});i>-1&&(this.history.splice(i,1),i<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return Ni.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Undo Error - No more history to undo":"History module not enabled"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return Ni.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Redo Error - No more history to redo":"History module not enabled"),!1}_rebindRow(e,i){this.history.forEach(function(l){if(l.component instanceof Je)l.component===e&&(l.component=i);else if(l.component instanceof on&&l.component.row===e){var n=l.component.column.getField();n&&(l.component=i.getCell(n))}})}};G(Ni,"moduleName","history"),G(Ni,"moduleExtensions",Fv),G(Ni,"undoers",Ov),G(Ni,"redoers",_v);let Eu=Ni;class mp extends le{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&this.table.originalElement.tagName==="TABLE"&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,i=this.table.options,l=e.getElementsByTagName("th"),n=e.getElementsByTagName("tbody")[0],r=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),n=n?n.getElementsByTagName("tr"):[],this._extractOptions(e,i),l.length?this._extractHeaders(l,n):this._generateBlankHeaders(l,n);for(var u=0;u<n.length;u++){var d=n[u],p=d.getElementsByTagName("td"),m={};this.hasIndex||(m[i.index]=u);for(var g=0;g<p.length;g++){var w=p[g];typeof this.fieldIndex[g]<"u"&&(m[this.fieldIndex[g]]=w.innerHTML)}r.push(m)}i.data=r,this.dispatchExternal("htmlImported")}_extractOptions(e,i,l){var n=e.attributes,r=Object.keys(l||i),u={};r.forEach(g=>{u[g.toLowerCase()]=g});for(var d in n){var p=n[d],m;p&&typeof p=="object"&&p.name&&p.name.indexOf("tabulator-")===0&&(m=p.name.replace("tabulator-",""),typeof u[m]<"u"&&(i[u[m]]=this._attribValue(p.value)))}}_attribValue(e){return e==="true"?!0:e==="false"?!1:e}_findCol(e){var i=this.table.options.columns.find(l=>l.title===e);return i||!1}_extractHeaders(e,i){for(var l=0;l<e.length;l++){var n=e[l],r=!1,u=this._findCol(n.textContent),d;u?r=!0:u={title:n.textContent.trim()},u.field||(u.field=n.textContent.trim().toLowerCase().replaceAll(" ","_")),d=n.getAttribute("width"),d&&!u.width&&(u.width=d),this._extractOptions(n,u,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[l]=u.field,u.field==this.table.options.index&&(this.hasIndex=!0),r||this.table.options.columns.push(u)}}_generateBlankHeaders(e,i){for(var l=0;l<e.length;l++){var n=e[l],r={title:"",field:"col"+l};this.fieldIndex[l]=r.field;var u=n.getAttribute("width");u&&(r.width=u),this.table.options.columns.push(r)}}}G(mp,"moduleName","htmlTableImport");function Vv(c){var e=[],i=0,l=0,n=!1;for(let r=0;r<c.length;r++){let u=c[r],d=c[r+1];if(e[i]||(e[i]=[]),e[i][l]||(e[i][l]=""),u=='"'&&n&&d=='"'){e[i][l]+=u,r++;continue}if(u=='"'){n=!n;continue}if(u==","&&!n){l++;continue}if(u=="\r"&&d==`
`&&!n){l=0,i++,r++;continue}if((u=="\r"||u==`
`)&&!n){l=0,i++;continue}e[i][l]+=u}return e}function Uv(c){try{return JSON.parse(c)}catch(e){return console.warn("JSON Import Error - File contents is invalid JSON",e),Promise.reject()}}function Gv(c){return c}function jv(c){var e=this.dependencyRegistry.lookup("XLSX"),i=e.read(c),l=i.Sheets[i.SheetNames[0]];return e.utils.sheet_to_json(l,{header:1})}var Pv={csv:Vv,json:Uv,array:Gv,xlsx:jv};const sn=class sn extends le{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text"),this.registerTableOption("importHeaderTransform"),this.registerTableOption("importValueTransform"),this.registerTableOption("importDataValidator"),this.registerTableOption("importFileValidator")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&(typeof e=="string"||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,i,l,n,r){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(u=>(console.error("Import Error:",u||"Unable to import data"),Promise.reject(u)))}lookupImporter(e){var i;return e||(e=this.table.options.importFormat),typeof e=="string"?i=sn.importers[e]:i=e,i||console.error("Import Error - Importer not found:",e),i}importFromFile(e,i,l){var n=this.lookupImporter(e);if(n)return this.pickFile(i,l).then(this.importData.bind(this,n)).then(this.structureData.bind(this)).then(this.mutateData.bind(this)).then(this.validateData.bind(this)).then(this.setData.bind(this)).catch(r=>(this.dispatch("import-error",r),this.dispatchExternal("importError",r),console.error("Import Error:",r||"Unable to import file"),this.table.dataLoader.alertError(),setTimeout(()=>{this.table.dataLoader.clearAlert()},3e3),Promise.reject(r)))}pickFile(e,i){return new Promise((l,n)=>{var r=document.createElement("input");r.type="file",r.accept=e,r.addEventListener("change",u=>{var d=r.files[0],p=new FileReader,m=this.validateFile(d);if(m===!0){switch(this.dispatch("import-importing",r.files),this.dispatchExternal("importImporting",r.files),i||this.table.options.importReader){case"buffer":p.readAsArrayBuffer(d);break;case"binary":p.readAsBinaryString(d);break;case"url":p.readAsDataURL(d);break;case"text":default:p.readAsText(d)}p.onload=g=>{l(p.result)},p.onerror=g=>{console.warn("File Load Error - Unable to read file"),n(g)}}else n(m)}),this.dispatch("import-choose"),this.dispatchExternal("importChoose"),r.click()})}importData(e,i){var l;return this.table.dataLoader.alertLoader(),new Promise((n,r)=>{setTimeout(()=>{l=e.call(this.table,i),l instanceof Promise||l?n(l):r()},10)})}structureData(e){var i=[];return Array.isArray(e)&&e.length&&Array.isArray(e[0])?(this.table.options.autoColumns?i=this.structureArrayToObject(e):i=this.structureArrayToColumns(e),i):e}mutateData(e){var i=[];return Array.isArray(e)?e.forEach(l=>{i.push(this.table.modules.mutator.transformRow(l,"import"))}):i=e,i}transformHeader(e){var i=[];if(this.table.options.importHeaderTransform)e.forEach(l=>{i.push(this.table.options.importHeaderTransform.call(this.table,l,e))});else return e;return i}transformData(e){var i=[];if(this.table.options.importValueTransform)e.forEach(l=>{i.push(this.table.options.importValueTransform.call(this.table,l,e))});else return e;return i}structureArrayToObject(e){var i=this.transformHeader(e.shift()),l=e.map(n=>{var r={};return n=this.transformData(n),i.forEach((u,d)=>{r[u]=n[d]}),r});return l}structureArrayToColumns(e){var i=[],l=this.transformHeader(e[0]),n=this.table.getColumns();return n[0]&&l[0]&&n[0].getDefinition().title===l[0]&&e.shift(),e.forEach(r=>{var u={};r=this.transformData(r),r.forEach((d,p)=>{var m=n[p];m&&(u[m.getField()]=d)}),i.push(u)}),i}validateFile(e){return this.table.options.importFileValidator?this.table.options.importFileValidator.call(this.table,e):!0}validateData(e){var i;return this.table.options.importDataValidator?(i=this.table.options.importDataValidator.call(this.table,e),i===!0?e:Promise.reject(i)):e}setData(e){return this.dispatch("import-imported",e),this.dispatchExternal("importImported",e),this.table.dataLoader.clearAlert(),this.table.setData(e)}};G(sn,"moduleName","import"),G(sn,"importers",Pv);let Ru=sn;class gp extends le{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){var e=Object.values(this.touchWatchers);e.forEach(i=>{for(let l in i)i[l]=null})}cellContentsSelectionFixer(e,i){var l;if(!(this.table.modExists("edit")&&this.table.modules.edit.currentCell===i)){e.preventDefault();try{document.selection?(l=document.body.createTextRange(),l.moveToElementText(i.getElement()),l.select()):window.getSelection&&(l=document.createRange(),l.selectNode(i.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(l))}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,i){i?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var i=this.eventMap[e];this.touchSubscribers[i+"-touchstart"]||(this.touchSubscribers[i+"-touchstart"]=this.handleTouch.bind(this,i,"start"),this.touchSubscribers[i+"-touchend"]=this.handleTouch.bind(this,i,"end"),this.subscribe(i+"-touchstart",this.touchSubscribers[i+"-touchstart"]),this.subscribe(i+"-touchend",this.touchSubscribers[i+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var i=!0,l=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let n in this.eventMap)this.eventMap[n]===l&&this.subscribers[n]&&(i=!1);i&&(this.unsubscribe(l+"-touchstart",this.touchSubscribers[l+"-touchstart"]),this.unsubscribe(l+"-touchend",this.touchSubscribers[l+"-touchend"]),delete this.touchSubscribers[l+"-touchstart"],delete this.touchSubscribers[l+"-touchend"])}}initializeColumn(e){var i=e.definition;for(let l in this.eventMap)i[l]&&(this.subscriptionChanged(l,!0),this.columnSubscribers[l]||(this.columnSubscribers[l]=[]),this.columnSubscribers[l].push(e))}handle(e,i,l){this.dispatchEvent(e,i,l)}handleTouch(e,i,l,n){var r=this.touchWatchers[e];switch(e==="column"&&(e="header"),i){case"start":r.tap=!0,clearTimeout(r.tapHold),r.tapHold=setTimeout(()=>{clearTimeout(r.tapHold),r.tapHold=null,r.tap=null,clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"TapHold",l,n)},1e3);break;case"end":r.tap&&(r.tap=null,this.dispatchEvent(e+"Tap",l,n)),r.tapDbl?(clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"DblTap",l,n)):r.tapDbl=setTimeout(()=>{clearTimeout(r.tapDbl),r.tapDbl=null},300),clearTimeout(r.tapHold),r.tapHold=null;break}}dispatchEvent(e,i,l){var n=l.getComponent(),r;this.columnSubscribers[e]&&(l instanceof on?r=l.column.definition[e]:l instanceof as&&(r=l.definition[e]),r&&r(i,n)),this.dispatchExternal(e,i,n)}}G(gp,"moduleName","interaction");var Wv={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,navLeft:37,navRight:39,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35},qv={keyBlock:function(c){c.stopPropagation(),c.preventDefault()},scrollPageUp:function(c){var e=this.table.rowManager,i=e.scrollTop-e.element.clientHeight;c.preventDefault(),e.displayRowsCount&&(i>=0?e.element.scrollTop=i:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(c){var e=this.table.rowManager,i=e.scrollTop+e.element.clientHeight,l=e.element.scrollHeight;c.preventDefault(),e.displayRowsCount&&(i<=l?e.element.scrollTop=i:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(c){var e=this.table.rowManager;c.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(c){var e=this.table.rowManager;c.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(c){this.dispatch("keybinding-nav-prev",c)},navNext:function(c){this.dispatch("keybinding-nav-next",c)},navLeft:function(c){this.dispatch("keybinding-nav-left",c)},navRight:function(c){this.dispatch("keybinding-nav-right",c)},navUp:function(c){this.dispatch("keybinding-nav-up",c)},navDown:function(c){this.dispatch("keybinding-nav-down",c)}};const Fi=class Fi extends le{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,i={};this.watchKeys={},this.pressedKeys=[],e!==!1&&(Object.assign(i,Fi.bindings),Object.assign(i,e),this.mapBindings(i),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let i in e)Fi.actions[i]?e[i]&&(typeof e[i]!="object"&&(e[i]=[e[i]]),e[i].forEach(l=>{var n=Array.isArray(l)?l:[l];n.forEach(r=>{this.mapBinding(i,r)})})):console.warn("Key Binding Error - no such action:",i)}mapBinding(e,i){var l={action:Fi.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1},n=i.toString().toLowerCase().split(" ").join("").split("+");n.forEach(r=>{switch(r){case"ctrl":l.ctrl=!0;break;case"shift":l.shift=!0;break;case"meta":l.meta=!0;break;default:r=isNaN(r)?r.toUpperCase().charCodeAt(0):parseInt(r),l.keys.push(r),this.watchKeys[r]||(this.watchKeys[r]=[]),this.watchKeys[r].push(l)}})}bindEvents(){var e=this;this.keyupBinding=function(i){var l=i.keyCode,n=e.watchKeys[l];n&&(e.pressedKeys.push(l),n.forEach(function(r){e.checkBinding(i,r)}))},this.keydownBinding=function(i){var l=i.keyCode,n=e.watchKeys[l];if(n){var r=e.pressedKeys.indexOf(l);r>-1&&e.pressedKeys.splice(r,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,i){var l=!0;return e.ctrlKey==i.ctrl&&e.shiftKey==i.shift&&e.metaKey==i.meta?(i.keys.forEach(n=>{var r=this.pressedKeys.indexOf(n);r==-1&&(l=!1)}),l&&i.action.call(this,e),!0):!1}};G(Fi,"moduleName","keybindings"),G(Fi,"bindings",Wv),G(Fi,"actions",qv);let Tu=Fi;class bp extends le{constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var i=e.definition;i.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),i.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),i.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),i.headerMenu&&this.initializeColumnHeaderMenu(e),i.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),i.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),i.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var i=e.definition.headerMenuIcon,l;l=document.createElement("span"),l.classList.add("tabulator-header-popup-button"),i?(typeof i=="function"&&(i=i(e.getComponent())),i instanceof HTMLElement?l.appendChild(i):l.innerHTML=i):l.innerHTML="&vellip;",l.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,n,e)}),e.titleElement.insertBefore(l,e.titleElement.firstChild)}loadMenuTableCellEvent(e,i,l){l._cell&&(l=l._cell),l.column.definition[e]&&this.loadMenuEvent(l.column.definition[e],i,l)}loadMenuTableColumnEvent(e,i,l){l._column&&(l=l._column),l.definition[e]&&this.loadMenuEvent(l.definition[e],i,l)}loadMenuEvent(e,i,l){l._group?l=l._group:l._row&&(l=l._row),e=typeof e=="function"?e.call(this.table,i,l.getComponent()):e,this.loadMenu(i,l,e)}loadMenu(e,i,l,n,r){var u=!(e instanceof MouseEvent),d=document.createElement("div"),p;if(d.classList.add("tabulator-menu"),u||e.preventDefault(),!(!l||!l.length)){if(n)p=r.child(d);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=p=this.popup(d)}l.forEach(m=>{var g=document.createElement("div"),w=m.label,y=m.disabled;m.separator?g.classList.add("tabulator-menu-separator"):(g.classList.add("tabulator-menu-item"),typeof w=="function"&&(w=w.call(this.table,i.getComponent())),w instanceof Node?g.appendChild(w):g.innerHTML=w,typeof y=="function"&&(y=y.call(this.table,i.getComponent())),y?(g.classList.add("tabulator-menu-item-disabled"),g.addEventListener("click",E=>{E.stopPropagation()})):m.menu&&m.menu.length?g.addEventListener("click",E=>{E.stopPropagation(),this.loadMenu(E,i,m.menu,g,p)}):m.action&&g.addEventListener("click",E=>{m.action(E,i.getComponent())}),m.menu&&m.menu.length&&g.classList.add("tabulator-menu-item-submenu")),d.appendChild(g)}),d.addEventListener("click",m=>{this.rootPopup&&this.rootPopup.hide()}),p.show(n||e),p===this.rootPopup&&(this.rootPopup.hideOnBlur(()=>{this.rootPopup=null,this.currentComponent&&(this.dispatch("menu-closed",l,p),this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}),this.currentComponent=i,this.dispatch("menu-opened",l,p),this.dispatchExternal("menuOpened",i.getComponent()))}}}G(bp,"moduleName","menu");class vp extends le{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&(this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("alert-show",this.abortMove.bind(this)))}abortMove(){clearTimeout(this.checkTimeout)}initializeColumn(e){var i=this,l={},n;!e.modules.frozen&&!e.isGroup&&!e.isRowHeader&&(n=e.getElement(),l.mousemove=(function(r){e.parent===i.moving.parent&&((i.touchMove?r.touches[0].pageX:r.pageX)-Se.elOffset(n).left+i.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?(i.toCol!==e||!i.toColAfter)&&(n.parentNode.insertBefore(i.placeholderElement,n.nextSibling),i.moveColumn(e,!0)):(i.toCol!==e||i.toColAfter)&&(n.parentNode.insertBefore(i.placeholderElement,n),i.moveColumn(e,!1)))}).bind(i),n.addEventListener("mousedown",function(r){i.touchMove=!1,r.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(r,e)},i.checkPeriod))}),n.addEventListener("mouseup",function(r){r.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),i.bindTouchEvents(e)),e.modules.moveColumn=l}bindTouchEvents(e){var i=e.getElement(),l=!1,n,r,u,d,p,m;i.addEventListener("touchstart",g=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,n=e.nextColumn(),u=n?n.getWidth()/2:0,r=e.prevColumn(),d=r?r.getWidth()/2:0,p=0,m=0,l=!1,this.startMove(g,e)},this.checkPeriod)},{passive:!0}),i.addEventListener("touchmove",g=>{var w,y;this.moving&&(this.moveHover(g),l||(l=g.touches[0].pageX),w=g.touches[0].pageX-l,w>0?n&&w-p>u&&(y=n,y!==e&&(l=g.touches[0].pageX,y.getElement().parentNode.insertBefore(this.placeholderElement,y.getElement().nextSibling),this.moveColumn(y,!0))):r&&-w-m>d&&(y=r,y!==e&&(l=g.touches[0].pageX,y.getElement().parentNode.insertBefore(this.placeholderElement,y.getElement()),this.moveColumn(y,!1))),y&&(n=y.nextColumn(),p=u,u=n?n.getWidth()/2:0,r=y.prevColumn(),m=d,d=r?r.getWidth()/2:0))},{passive:!0}),i.addEventListener("touchend",g=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(g)})}startMove(e,i){var l=i.getElement(),n=this.table.columnManager.getContentsElement(),r=this.table.columnManager.getHeadersElement();this.table.modules.selectRange&&this.table.modules.selectRange.columnSelection&&this.table.modules.selectRange.mousedown&&this.table.modules.selectRange.selecting==="column"||(this.moving=i,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-Se.elOffset(l).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=i.getWidth()+"px",this.placeholderElement.style.height=i.getHeight()+"px",l.parentNode.insertBefore(this.placeholderElement,l),l.parentNode.removeChild(l),this.hoverElement=l.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),n.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=n.clientHeight-r.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e),this.dispatch("column-moving",e,this.moving))}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,i){var l=this.moving.getCells();this.toCol=e,this.toColAfter=i,i?e.getCells().forEach(function(n,r){var u=n.getElement(!0);u.parentNode&&l[r]&&u.parentNode.insertBefore(l[r].getElement(),u.nextSibling)}):e.getCells().forEach(function(n,r){var u=n.getElement(!0);u.parentNode&&l[r]&&u.parentNode.insertBefore(l[r].getElement(),u)})}endMove(e){(e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var i=this.table.columnManager.getContentsElement(),l=i.scrollLeft,n=(this.touchMove?e.touches[0].pageX:e.pageX)-Se.elOffset(i).left+l,r;this.hoverElement.style.left=n-this.startX+"px",n-l<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.max(0,l-5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1))),l+i.clientWidth-n<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{r=Math.min(i.clientWidth,l+5),this.table.rowManager.getElement().scrollLeft=r,this.autoScrollTimeout=!1},1)))}}G(vp,"moduleName","moveColumn");var Yv={delete:function(c,e,i){c.delete()}},Xv={insert:function(c,e,i){return this.table.addRow(c.getData(),void 0,e),!0},add:function(c,e,i){return this.table.addRow(c.getData()),!0},update:function(c,e,i){return e?(e.update(c.getData()),!0):!1},replace:function(c,e,i){return e?(this.table.addRow(c.getData(),void 0,e),e.delete(),!0):!1}};const ls=class ls extends le{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var i=this,l={};l.mouseup=(function(n){i.tableRowDrop(n,e)}).bind(i),l.mousemove=(function(n){var r;n.pageY-Se.elOffset(e.element).top+i.table.rowManager.element.scrollTop>e.getHeight()/2?(i.toRow!==e||!i.toRowAfter)&&(r=e.getElement(),r.parentNode.insertBefore(i.placeholderElement,r.nextSibling),i.moveRow(e,!0)):(i.toRow!==e||i.toRowAfter)&&(r=e.getElement(),r.previousSibling&&(r.parentNode.insertBefore(i.placeholderElement,r),i.moveRow(e,!1)))}).bind(i),e.modules.moveRow=l}initializeRow(e){var i=this,l={},n;l.mouseup=(function(r){i.tableRowDrop(r,e)}).bind(i),l.mousemove=(function(r){var u=e.getElement();r.pageY-Se.elOffset(u).top+i.table.rowManager.element.scrollTop>e.getHeight()/2?(i.toRow!==e||!i.toRowAfter)&&(u.parentNode.insertBefore(i.placeholderElement,u.nextSibling),i.moveRow(e,!0)):(i.toRow!==e||i.toRowAfter)&&(u.parentNode.insertBefore(i.placeholderElement,u),i.moveRow(e,!1))}).bind(i),this.hasHandle||(n=e.getElement(),n.addEventListener("mousedown",function(r){r.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(r,e)},i.checkPeriod))}),n.addEventListener("mouseup",function(r){r.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=l}initializeColumn(e){e.definition.rowHandle&&this.table.options.movableRows!==!1&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&this.table.options.movableRows!==!1){var i=this,l=e.getElement(!0);l.addEventListener("mousedown",function(n){n.which===1&&(i.checkTimeout=setTimeout(function(){i.startMove(n,e.row)},i.checkPeriod))}),l.addEventListener("mouseup",function(n){n.which===1&&i.checkTimeout&&clearTimeout(i.checkTimeout)}),this.bindTouchEvents(e.row,l)}}bindTouchEvents(e,i){var l=!1,n,r,u,d,p,m;i.addEventListener("touchstart",g=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,n=e.nextRow(),u=n?n.getHeight()/2:0,r=e.prevRow(),d=r?r.getHeight()/2:0,p=0,m=0,l=!1,this.startMove(g,e)},this.checkPeriod)},{passive:!0}),this.moving,this.toRow,this.toRowAfter,i.addEventListener("touchmove",g=>{var w,y;this.moving&&(g.preventDefault(),this.moveHover(g),l||(l=g.touches[0].pageY),w=g.touches[0].pageY-l,w>0?n&&w-p>u&&(y=n,y!==e&&(l=g.touches[0].pageY,y.getElement().parentNode.insertBefore(this.placeholderElement,y.getElement().nextSibling),this.moveRow(y,!0))):r&&-w-m>d&&(y=r,y!==e&&(l=g.touches[0].pageY,y.getElement().parentNode.insertBefore(this.placeholderElement,y.getElement()),this.moveRow(y,!1))),y&&(n=y.nextRow(),p=u,u=n?n.getHeight()/2:0,r=y.prevRow(),m=d,d=r?r.getHeight()/2:0))}),i.addEventListener("touchend",g=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(g),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})}startMove(e,i){var l=i.getElement();this.setStartPosition(e,i),this.moving=i,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=i.getWidth()+"px",this.placeholderElement.style.height=i.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(i)):(l.parentNode.insertBefore(this.placeholderElement,l),l.parentNode.removeChild(l)),this.hoverElement=l.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",i.getComponent()),this.moveHover(e)}setStartPosition(e,i){var l=this.touchMove?e.touches[0].pageX:e.pageX,n=this.touchMove?e.touches[0].pageY:e.pageY,r,u;r=i.getElement(),this.connection?(u=r.getBoundingClientRect(),this.startX=u.left-l+window.pageXOffset,this.startY=u.top-n+window.pageYOffset):this.startY=n-r.getBoundingClientRect().top}endMove(e){(!e||e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,i){this.toRow=e,this.toRowAfter=i}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var i=this.table.rowManager.getElement(),l=i.scrollTop,n=(this.touchMove?e.touches[0].pageY:e.pageY)-i.getBoundingClientRect().top+l;this.hoverElement.style.top=Math.min(n-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,i,l){this.dispatchExternal("movableRowsElementDrop",e,i,l?l.getComponent():!1)}connectToTables(e){var i;this.connectionSelectorsTables&&(i=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",i),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(l=>{typeof l=="string"?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(l))):this.connectionElements.push(l)}),this.connectionElements.forEach(l=>{var n=r=>{this.elementRowDrop(r,l,this.moving)};l.addEventListener("mouseup",n),l.tabulatorElementDropEvent=n,l.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(i=>{i.classList.remove("tabulator-movingrow-receiving"),i.removeEventListener("mouseup",i.tabulatorElementDropEvent),delete i.tabulatorElementDropEvent})}connect(e,i){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=i,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(l=>{l.type==="row"&&l.modules.moveRow&&l.modules.moveRow.mouseup&&l.getElement().addEventListener("mouseup",l.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",i,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(i=>{i.type==="row"&&i.modules.moveRow&&i.modules.moveRow.mouseup&&i.getElement().removeEventListener("mouseup",i.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,i,l){var n=!1;if(l){switch(typeof this.table.options.movableRowsSender){case"string":n=ls.senders[this.table.options.movableRowsSender];break;case"function":n=this.table.options.movableRowsSender;break}n?n.call(this,this.moving?this.moving.getComponent():void 0,i?i.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),i?i.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),i?i.getComponent():void 0,e);this.endMove()}tableRowDrop(e,i){var l=!1,n=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":l=ls.receivers[this.table.options.movableRowsReceiver];break;case"function":l=this.table.options.movableRowsReceiver;break}l?n=l.call(this,this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),n?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),i?i.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:i,success:n})}commsReceived(e,i,l){switch(i){case"connect":return this.connect(e,l.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,l.row,l.success)}}};G(ls,"moduleName","moveRow"),G(ls,"senders",Yv),G(ls,"receivers",Xv);let Su=ls;var Qv={};const Zs=class Zs extends le{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard","import"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutatorImport"),this.registerColumnOption("mutatorImportParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,i,l){return this.transformRow(i,"data",l)}initializeColumn(e){var i=!1,l={};this.allowedTypes.forEach(n=>{var r="mutator"+(n.charAt(0).toUpperCase()+n.slice(1)),u;e.definition[r]&&(u=this.lookupMutator(e.definition[r]),u&&(i=!0,l[r]={mutator:u,params:e.definition[r+"Params"]||{}}))}),i&&(e.modules.mutate=l)}lookupMutator(e){var i=!1;switch(typeof e){case"string":Zs.mutators[e]?i=Zs.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":i=e;break}return i}transformRow(e,i,l){var n="mutator"+(i.charAt(0).toUpperCase()+i.slice(1)),r;return this.enabled&&this.table.columnManager.traverse(u=>{var d,p,m;u.modules.mutate&&(d=u.modules.mutate[n]||u.modules.mutate.mutator||!1,d&&(r=u.getFieldValue(typeof l<"u"?l:e),(i=="data"&&!l||typeof r<"u")&&(m=u.getComponent(),p=typeof d.params=="function"?d.params(r,e,i,m):d.params,u.setFieldValue(e,d.mutator(r,e,i,p,m)))))}),e}transformCell(e,i){if(e.column.modules.mutate){var l=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,n={};if(l)return n=Object.assign(n,e.row.getData()),e.column.setFieldValue(n,i),l.mutator(i,n,"edit",l.params,e.getComponent())}return i}mutateLink(e){var i=e.column.definition.mutateLink;i&&(Array.isArray(i)||(i=[i]),i.forEach(l=>{var n=e.row.getCell(l);n&&n.setValue(n.getValue(),!0,!0)}))}enable(){this.enabled=!0}disable(){this.enabled=!1}};G(Zs,"moduleName","mutator"),G(Zs,"mutators",Qv);let xu=Zs;function Kv(c,e,i,l,n){var r=document.createElement("span"),u=document.createElement("span"),d=document.createElement("span"),p=document.createElement("span"),m=document.createElement("span"),g=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",w=>{u.innerHTML=w}),this.table.modules.localize.langBind("pagination|counter|of",w=>{p.innerHTML=w}),this.table.modules.localize.langBind("pagination|counter|rows",w=>{g.innerHTML=w}),l?(d.innerHTML=" "+e+"-"+Math.min(e+c-1,l)+" ",m.innerHTML=" "+l+" ",r.appendChild(u),r.appendChild(d),r.appendChild(p),r.appendChild(m),r.appendChild(g)):(d.innerHTML=" 0 ",r.appendChild(u),r.appendChild(d),r.appendChild(g)),r}function Zv(c,e,i,l,n){var r=document.createElement("span"),u=document.createElement("span"),d=document.createElement("span"),p=document.createElement("span"),m=document.createElement("span"),g=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",w=>{u.innerHTML=w}),d.innerHTML=" "+i+" ",this.table.modules.localize.langBind("pagination|counter|of",w=>{p.innerHTML=w}),m.innerHTML=" "+n+" ",this.table.modules.localize.langBind("pagination|counter|pages",w=>{g.innerHTML=w}),r.appendChild(u),r.appendChild(d),r.appendChild(p),r.appendChild(m),r.appendChild(g),r}var Iv={rows:Kv,pages:Zv};const ln=class ln extends le{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("paginationOutOfRange",!1),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),this.table.options.paginationAddRow=="page"&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.table.options.paginationMode==="remote"&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),this.table.options.progressiveLoad==="scroll"&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,i){var l=this.table.rowManager,n=l.getDisplayRows(),r;return i?n.length?r=n[0]:l.activeRows.length&&(r=l.activeRows[l.activeRows.length-1],i=!1):n.length&&(r=n[n.length-1],i=!(n.length<this.size)),{index:r,top:i}}calculatePageSizes(){var e,i;this.table.options.paginationSize?this.size=this.table.options.paginationSize:(e=document.createElement("div"),e.classList.add("tabulator-row"),e.style.visibility="hidden",i=document.createElement("div"),i.classList.add("tabulator-cell"),i.innerHTML="Page Row Test",e.appendChild(i),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,i,l,n){return this.initialLoad||(this.progressiveLoad&&!l||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),n.page=this.page,this.size&&(n.size=this.size),n}userSetPageToRow(e){return this.table.options.pagination&&(e=this.table.rowManager.findRow(e),e)?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return this.table.options.pagination?(this.setPageSize(e),this.setPage(1)):!1}scrollVertical(e,i){var l,n,r;!i&&!this.table.dataLoader.loading&&(l=this.table.rowManager.getElement(),n=l.scrollHeight-l.clientHeight-e,r=this.table.options.progressiveLoadScrollMargin||l.clientHeight*2,n<r&&this.nextPage().catch(()=>{}))}restOnRenderBefore(e,i){return i||this.mode==="local"&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),e=document.createElement("button"),e.classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,this.pageSizes.indexOf(this.size)==-1&&e.unshift(this.size);else if(this.pageSizes.indexOf(this.size)==-1){e=[];for(let i=1;i<5;i++)e.push(this.size*i);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(i=>{var l=document.createElement("option");l.value=i,i===!0?this.langBind("pagination|all",function(n){l.innerHTML=n}):l.innerHTML=i,this.pageSizeSelect.appendChild(l)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,i=null;e&&(typeof e=="function"?i=e:i=ln.pageCounters[e],i?(this.pageCounter=i,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var i,l;e||(this.langBind("pagination|first",n=>{this.firstBut.innerHTML=n}),this.langBind("pagination|first_title",n=>{this.firstBut.setAttribute("aria-label",n),this.firstBut.setAttribute("title",n)}),this.langBind("pagination|prev",n=>{this.prevBut.innerHTML=n}),this.langBind("pagination|prev_title",n=>{this.prevBut.setAttribute("aria-label",n),this.prevBut.setAttribute("title",n)}),this.langBind("pagination|next",n=>{this.nextBut.innerHTML=n}),this.langBind("pagination|next_title",n=>{this.nextBut.setAttribute("aria-label",n),this.nextBut.setAttribute("title",n)}),this.langBind("pagination|last",n=>{this.lastBut.innerHTML=n}),this.langBind("pagination|last_title",n=>{this.lastBut.setAttribute("aria-label",n),this.lastBut.setAttribute("title",n)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(i=document.createElement("label"),this.langBind("pagination|page_size",n=>{this.pageSizeSelect.setAttribute("aria-label",n),this.pageSizeSelect.setAttribute("title",n),i.innerHTML=n}),this.element.appendChild(i),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",n=>{this.setPageSize(this.pageSizeSelect.value=="true"?!0:this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):typeof this.table.options.paginationCounterElement=="string"&&(l=document.querySelector(this.table.options.paginationCounterElement),l?l.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){e?this.max=this.size===!0?1:Math.ceil(e/this.size):this.max=1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||(this.mode=="local"||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return e=parseInt(e),e>0&&e<=this.max||this.mode!=="local"?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var i=this.displayRows(-1),l=i.indexOf(e);if(l>-1){var n=this.size===!0?1:Math.ceil((l+1)/this.size);return this.setPage(n)}else return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){e!==!0&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,i,l){var n;if(this.pageCounter)switch(this.mode==="remote"&&(i=this.size,l=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),n=this.pageCounter.call(this,i,l,this.page,e,this.max),typeof n){case"object":if(n instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(n)}else this.pageCounterElement.innerHTML="",n!=null&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",n);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=n}}_setPageButtons(){let e=Math.floor((this.count-1)/2),i=Math.ceil((this.count-1)/2),l=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),n=this.page<=i?Math.min(this.count,this.max):Math.min(this.page+i,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);this.page==1?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let r=l;r<=n;r++)r>0&&r<=this.max&&this.pagesElement.appendChild(this._generatePageButton(r));this.footerRedraw()}_generatePageButton(e){var i=document.createElement("button");return i.classList.add("tabulator-page"),e==this.page&&i.classList.add("active"),i.setAttribute("type","button"),i.setAttribute("role","button"),this.langBind("pagination|page_title",l=>{i.setAttribute("aria-label",l+" "+e),i.setAttribute("title",l+" "+e)}),i.setAttribute("data-page",e),i.textContent=e,i.addEventListener("click",l=>{this.setPage(e)}),i}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var i=0,l,n,r,u,d=e.filter(p=>p.type==="row");if(this.mode=="local"){l=[],this.setMaxRows(e.length),this.size===!0?(n=0,r=e.length):(n=this.size*(this.page-1),r=n+parseInt(this.size)),this._setPageButtons();for(let p=n;p<r;p++){let m=e[p];m&&(l.push(m),m.type==="row"&&(u||(u=m),i++))}return this._setPageCounter(d.length,i,u?d.indexOf(u)+1:0),l}else return this._setPageButtons(),this._setPageCounter(d.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var i,l;if(typeof e.last_page>"u"&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data)if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate=typeof e.last_row<"u"?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":this.page==1?this.table.rowManager.setData(e.data,!1,this.page==1):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=this.page===1?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,this.page!==1,this.page==1),i=this.table.options.progressiveLoadScrollMargin||this.table.rowManager.element.clientHeight*2,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+i&&this.page<this.max&&setTimeout(()=>{this.nextPage()});break}return!1}else{if(this.page>this.max&&(console.warn("Remote Pagination Error - Server returned last page value lower than the current page"),l=this.options("paginationOutOfRange"),l))return this.setPage(typeof l=="function"?l.call(this,this.page,this.max):l);this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}};G(ln,"moduleName","page"),G(ln,"pageCounters",Iv);let Mu=ln;var Jv={local:function(c,e){var i=localStorage.getItem(c+"-"+e);return i?JSON.parse(i):!1},cookie:function(c,e){var i=document.cookie,l=c+"-"+e,n=i.indexOf(l+"="),r,u;return n>-1&&(i=i.slice(n),r=i.indexOf(";"),r>-1&&(i=i.slice(0,r)),u=i.replace(l+"=","")),u?JSON.parse(u):!1}},$v={local:function(c,e,i){localStorage.setItem(c+"-"+e,JSON.stringify(i))},cookie:function(c,e,i){var l=new Date;l.setDate(l.getDate()+1e4),document.cookie=c+"-"+e+"="+JSON.stringify(i)+"; expires="+l.toUTCString()}};const at=class at extends le{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var e=this.table.options.persistenceMode,i=this.table.options.persistenceID,l;this.mode=e!==!0?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?typeof this.table.options.persistenceReaderFunc=="function"?this.readFunc=this.table.options.persistenceReaderFunc:at.readers[this.table.options.persistenceReaderFunc]?this.readFunc=at.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):at.readers[this.mode]?this.readFunc=at.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?typeof this.table.options.persistenceWriterFunc=="function"?this.writeFunc=this.table.options.persistenceWriterFunc:at.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=at.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):at.writers[this.mode]?this.writeFunc=at.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(i||this.table.element.getAttribute("id")||""),this.config={sort:this.table.options.persistence===!0||this.table.options.persistence.sort,filter:this.table.options.persistence===!0||this.table.options.persistence.filter,headerFilter:this.table.options.persistence===!0||this.table.options.persistence.headerFilter,group:this.table.options.persistence===!0||this.table.options.persistence.group,page:this.table.options.persistence===!0||this.table.options.persistence.page,columns:this.table.options.persistence===!0?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(l=this.retrieveData("page"),l&&(typeof l.paginationSize<"u"&&(this.config.page===!0||this.config.page.size)&&(this.table.options.paginationSize=l.paginationSize),typeof l.paginationInitialPage<"u"&&(this.config.page===!0||this.config.page.page)&&(this.table.options.paginationInitialPage=l.paginationInitialPage))),this.config.group&&(l=this.retrieveData("group"),l&&(typeof l.groupBy<"u"&&(this.config.group===!0||this.config.group.groupBy)&&(this.table.options.groupBy=l.groupBy),typeof l.groupStartOpen<"u"&&(this.config.group===!0||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=l.groupStartOpen),typeof l.groupHeader<"u"&&(this.config.group===!0||this.config.group.groupHeader)&&(this.table.options.groupHeader=l.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,i,l;this.config.sort&&(e=this.load("sort"),e&&(this.table.options.initialSort=e)),this.config.filter&&(i=this.load("filter"),i&&(this.table.options.initialFilter=i)),this.config.headerFilter&&(l=this.load("headerFilter"),l&&(this.table.options.initialHeaderFilter=l))}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e,!0)),!0}initializeColumn(e){var i,l;this.config.columns&&(this.defWatcherBlock=!0,i=e.getDefinition(),l=this.config.columns===!0?Object.keys(i):this.config.columns,l.forEach(n=>{var r=Object.getOwnPropertyDescriptor(i,n),u=i[n];r&&Object.defineProperty(i,n,{set:d=>{u=d,this.defWatcherBlock||this.save("columns"),r.set&&r.set(d)},get:()=>(r.get&&r.get(),u)})}),this.defWatcherBlock=!1)}load(e,i){var l=this.retrieveData(e);return i&&(l=l?this.mergeDefinition(i,l):i),l}retrieveData(e){return this.readFunc?this.readFunc(this.id,e):!1}mergeDefinition(e,i,l){var n=[];return i=i||[],i.forEach((r,u)=>{var d=this._findColumn(e,r),p;d&&(l?p=Object.keys(r):this.config.columns===!0||this.config.columns==null?(p=Object.keys(d),p.push("width")):p=this.config.columns,p.forEach(m=>{m!=="columns"&&typeof r[m]<"u"&&(d[m]=r[m])}),d.columns&&(d.columns=this.mergeDefinition(d.columns,r.columns)),n.push(d))}),e.forEach((r,u)=>{var d=this._findColumn(i,r);d||(n.length>u?n.splice(u,0,r):n.push(r))}),n}_findColumn(e,i){var l=i.columns?"group":i.field?"field":"object";return e.find(function(n){switch(l){case"group":return n.title===i.title&&n.columns.length===i.columns.length;case"field":return n.field===i.field;case"object":return n===i}})}save(e){var i={};switch(e){case"columns":i=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":i=this.table.modules.filter.getFilters();break;case"headerFilter":i=this.table.modules.filter.getHeaderFilters();break;case"sort":i=this.validateSorters(this.table.modules.sort.getSort());break;case"group":i=this.getGroupConfig();break;case"page":i=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,e,i)}validateSorters(e){return e.forEach(function(i){i.column=i.field,delete i.field}),e}getGroupConfig(){var e={};return this.config.group&&((this.config.group===!0||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(this.config.group===!0||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(this.config.group===!0||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((this.config.page===!0||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(this.config.page===!0||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var i=[],l=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(n=>{var r={},u=n.getDefinition(),d;n.isGroup?(r.title=u.title,r.columns=this.parseColumns(n.getColumns())):(r.field=n.getField(),this.config.columns===!0||this.config.columns==null?(d=Object.keys(u),d.push("width"),d.push("visible")):d=this.config.columns,d.forEach(p=>{switch(p){case"width":r.width=n.getWidth();break;case"visible":r.visible=n.visible;break;default:typeof u[p]!="function"&&l.indexOf(p)===-1&&(r[p]=u[p])}})),i.push(r)}),i}};G(at,"moduleName","persistence"),G(at,"moduleInitOrder",-10),G(at,"readers",Jv),G(at,"writers",$v);let Du=at;class yp extends le{constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,i,l){this.loadPopupEvent(i,null,e,l)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var i=e.definition;i.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),i.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),i.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),i.headerPopup&&this.initializeColumnHeaderPopup(e),i.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),i.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),i.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var i=e.definition.headerPopupIcon,l;l=document.createElement("span"),l.classList.add("tabulator-header-popup-button"),i?(typeof i=="function"&&(i=i(e.getComponent())),i instanceof HTMLElement?l.appendChild(i):l.innerHTML=i):l.innerHTML="&vellip;",l.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,n,e)}),e.titleElement.insertBefore(l,e.titleElement.firstChild)}loadPopupTableCellEvent(e,i,l){l._cell&&(l=l._cell),l.column.definition[e]&&this.loadPopupEvent(l.column.definition[e],i,l)}loadPopupTableColumnEvent(e,i,l){l._column&&(l=l._column),l.definition[e]&&this.loadPopupEvent(l.definition[e],i,l)}loadPopupEvent(e,i,l,n){var r;function u(d){r=d}l._group?l=l._group:l._row&&(l=l._row),e=typeof e=="function"?e.call(this.table,i,l.getComponent(),u):e,this.loadPopup(i,l,e,r,n)}loadPopup(e,i,l,n,r){var u=!(e instanceof MouseEvent),d,p;l instanceof HTMLElement?d=l:(d=document.createElement("div"),d.innerHTML=l),d.classList.add("tabulator-popup"),d.addEventListener("click",m=>{m.stopPropagation()}),u||e.preventDefault(),p=this.popup(d),typeof n=="function"&&p.renderCallback(n),e?p.show(e):p.show(i.getElement(),r||"center"),p.hideOnBlur(()=>{this.dispatchExternal("popupClosed",i.getComponent())}),this.dispatchExternal("popupOpened",i.getComponent())}}G(yp,"moduleName","popup");class wp extends le{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,i,l){var n=window.scrollX,r=window.scrollY,u=document.createElement("div"),d=document.createElement("div"),p=this.table.modules.export.generateTable(typeof l<"u"?l:this.table.options.printConfig,typeof i<"u"?i:this.table.options.printStyled,e||this.table.options.printRowRange,"print"),m,g;this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(u.classList.add("tabulator-print-header"),m=typeof this.table.options.printHeader=="function"?this.table.options.printHeader.call(this.table):this.table.options.printHeader,typeof m=="string"?u.innerHTML=m:u.appendChild(m),this.element.appendChild(u)),this.element.appendChild(p),this.table.options.printFooter&&(d.classList.add("tabulator-print-footer"),g=typeof this.table.options.printFooter=="function"?this.table.options.printFooter.call(this.table):this.table.options.printFooter,typeof g=="string"?d.innerHTML=g:d.appendChild(g),this.element.appendChild(d)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,p),window.print(),this.cleanup(),window.scrollTo(n,r),this.manualBlock=!1}}G(wp,"moduleName","print");class Cp extends le{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var i=this,l;this.currentVersion++,l=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments),r;return!i.blocked&&l===i.currentVersion&&(i.block("data-push"),n.forEach(u=>{i.table.rowManager.addRowActual(u,!1)}),r=i.origFuncs.push.apply(e,arguments),i.unblock("data-push")),r}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments),r;return!i.blocked&&l===i.currentVersion&&(i.block("data-unshift"),n.forEach(u=>{i.table.rowManager.addRowActual(u,!0)}),r=i.origFuncs.unshift.apply(e,arguments),i.unblock("data-unshift")),r}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var n,r;return!i.blocked&&l===i.currentVersion&&(i.block("data-shift"),i.data.length&&(n=i.table.rowManager.getRowFromDataObject(i.data[0]),n&&n.deleteActual()),r=i.origFuncs.shift.call(e),i.unblock("data-shift")),r}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var n,r;return!i.blocked&&l===i.currentVersion&&(i.block("data-pop"),i.data.length&&(n=i.table.rowManager.getRowFromDataObject(i.data[i.data.length-1]),n&&n.deleteActual()),r=i.origFuncs.pop.call(e),i.unblock("data-pop")),r}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments),r=n[0]<0?e.length+n[0]:n[0],u=n[1],d=n[2]?n.slice(2):!1,p,m;if(!i.blocked&&l===i.currentVersion){if(i.block("data-splice"),d&&(p=e[r]?i.table.rowManager.getRowFromDataObject(e[r]):!1,p?d.forEach(w=>{i.table.rowManager.addRowActual(w,!0,p,!0)}):(d=d.slice().reverse(),d.forEach(w=>{i.table.rowManager.addRowActual(w,!0,!1,!0)}))),u!==0){var g=e.slice(r,typeof n[1]>"u"?n[1]:r+u);g.forEach((w,y)=>{var E=i.table.rowManager.getRowFromDataObject(w);E&&E.deleteActual(y!==g.length-1)})}(d||u!==0)&&i.table.rowManager.reRenderInPosition(),m=i.origFuncs.splice.apply(e,arguments),i.unblock("data-splice")}return m}})}unwatchData(){if(this.data!==!1)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var i=e.getData();for(var l in i)this.watchKey(e,i,l);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var i=this,l=e.getData()[this.table.options.dataTreeChildField],n={};l&&(n.push=l.push,Object.defineProperty(l,"push",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-push");var r=n.push.apply(l,arguments);this.rebuildTree(e),i.unblock("tree-push")}return r}}),n.unshift=l.unshift,Object.defineProperty(l,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-unshift");var r=n.unshift.apply(l,arguments);this.rebuildTree(e),i.unblock("tree-unshift")}return r}}),n.shift=l.shift,Object.defineProperty(l,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-shift");var r=n.shift.call(l);this.rebuildTree(e),i.unblock("tree-shift")}return r}}),n.pop=l.pop,Object.defineProperty(l,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-pop");var r=n.pop.call(l);this.rebuildTree(e),i.unblock("tree-pop")}return r}}),n.splice=l.splice,Object.defineProperty(l,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!i.blocked){i.block("tree-splice");var r=n.splice.apply(l,arguments);this.rebuildTree(e),i.unblock("tree-splice")}return r}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,i,l){var n=this,r=Object.getOwnPropertyDescriptor(i,l),u=i[l],d=this.currentVersion;Object.defineProperty(i,l,{set:p=>{if(u=p,!n.blocked&&d===n.currentVersion){n.block("key");var m={};m[l]=p,e.updateData(m),n.unblock("key")}r.set&&r.set(p)},get:()=>(r.get&&r.get(),u)})}unwatchRow(e){var i=e.getData();for(var l in i)Object.defineProperty(i,l,{value:i[l]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}}G(Cp,"moduleName","reactiveData");class Ep extends le{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1),this.registerTableOption("resizableColumnGuide",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){e.row.type==="row"&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var i=e.prevColumn();this.reinitializeColumn(e),i&&this.reinitializeColumn(i)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach(i=>{this.reinitializeColumn(i)}):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach(i=>{this.reinitializeColumn(i)}))}frozenColumnOffset(e){var i=!1;return e.modules.frozen&&(i=e.modules.frozen.marginValue,e.modules.frozen.position==="left"?i+=e.getWidth()-3:i&&(i-=3)),i!==!1?i+"px":!1}reinitializeColumn(e){var i=this.frozenColumnOffset(e);e.cells.forEach(l=>{l.modules.resize&&l.modules.resize.handleEl&&(i&&(l.modules.resize.handleEl.style[e.modules.frozen.position]=i,l.modules.resize.handleEl.style["z-index"]=11),l.element.after(l.modules.resize.handleEl))}),e.modules.resize&&e.modules.resize.handleEl&&(i&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=i),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,i,l,n){var r=this,u=!1,d=l.definition.resizable,p={},m=l.getLastColumn();if(e==="header"&&(u=l.definition.formatter=="textarea"||l.definition.variableHeight,p={variableHeight:u}),(d===!0||d==e)&&this._checkResizability(m)){var g=document.createElement("span");g.className="tabulator-col-resize-handle",g.addEventListener("click",function(y){y.stopPropagation()});var w=function(y){r.startColumn=l,r.initialNextColumn=r.nextColumn=m.nextColumn(),r._mouseDown(y,m,g)};g.addEventListener("mousedown",w),g.addEventListener("touchstart",w,{passive:!0}),g.addEventListener("dblclick",y=>{var E=m.getWidth();y.stopPropagation(),m.reinitializeWidth(!0),E!==m.getWidth()&&(r.dispatch("column-resized",m),r.dispatchExternal("columnResized",m.getComponent()))}),l.modules.frozen&&(g.style.position="sticky",g.style[l.modules.frozen.position]=this.frozenColumnOffset(l)),p.handleEl=g,n.parentNode&&l.visible&&n.after(g)}i.modules.resize=p}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach(i=>{this.deInitializeComponent(i)})}deInitializeComponent(e){var i;e.modules.resize&&(i=e.modules.resize.handleEl,i&&i.parentElement&&i.parentElement.removeChild(i))}resizeHandle(e,i){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=i)}resize(e,i){var l=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,n=l-this.startX,r=l-this.latestX,u,d;if(this.latestX=l,this.table.rtl&&(n=-n,r=-r),u=i.width==i.minWidth||i.width==i.maxWidth,i.setWidth(this.startWidth+n),d=i.width==i.minWidth||i.width==i.maxWidth,r<0&&(this.nextColumn=this.initialNextColumn),this.table.options.resizableColumnFit&&this.nextColumn&&!(u&&d)){let p=this.nextColumn.getWidth();r>0&&p<=this.nextColumn.minWidth&&(this.nextColumn=this.nextColumn.nextColumn()),this.nextColumn&&this.nextColumn.setWidth(this.nextColumn.getWidth()-r)}this.table.columnManager.rerenderColumns(!0),!this.table.browserSlow&&i.modules.resize&&i.modules.resize.variableHeight&&i.checkCellHeights()}calcGuidePosition(e,i,l){var n=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,r=l.getBoundingClientRect().x-this.table.element.getBoundingClientRect().x,u=this.table.element.getBoundingClientRect().x,d=i.element.getBoundingClientRect().left-u,p=n-this.startX,m=Math.max(r+p,d+i.minWidth);return i.maxWidth&&(m=Math.min(m,d+i.maxWidth)),m}_checkResizability(e){return e.definition.resizable}_mouseDown(e,i,l){var n=this,r;this.dispatchExternal("columnResizing",i.getComponent()),n.table.options.resizableColumnGuide&&(r=document.createElement("span"),r.classList.add("tabulator-col-resize-guide"),n.table.element.appendChild(r),setTimeout(()=>{r.style.left=n.calcGuidePosition(e,i,l)+"px"})),n.table.element.classList.add("tabulator-block-select");function u(p){n.table.options.resizableColumnGuide?r.style.left=n.calcGuidePosition(p,i,l)+"px":n.resize(p,i)}function d(p){n.table.options.resizableColumnGuide&&(n.resize(p,i),r.remove()),n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!1),n.table.browserSlow&&i.modules.resize&&i.modules.resize.variableHeight&&i.checkCellHeights(),document.body.removeEventListener("mouseup",d),document.body.removeEventListener("mousemove",u),l.removeEventListener("touchmove",u),l.removeEventListener("touchend",d),n.table.element.classList.remove("tabulator-block-select"),n.startWidth!==i.getWidth()&&(n.table.columnManager.verticalAlignHeaders(),n.dispatch("column-resized",i),n.dispatchExternal("columnResized",i.getComponent()))}e.stopPropagation(),n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!0),n.startX=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,n.latestX=n.startX,n.startWidth=i.getWidth(),document.body.addEventListener("mousemove",u),document.body.addEventListener("mouseup",d),l.addEventListener("touchmove",u,{passive:!0}),l.addEventListener("touchend",d)}}G(Ep,"moduleName","resizeColumns");class Rp extends le{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1),this.registerTableOption("resizableRowGuide",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var i=this,l=e.getElement(),n=document.createElement("div");n.className="tabulator-row-resize-handle";var r=document.createElement("div");r.className="tabulator-row-resize-handle prev",n.addEventListener("click",function(p){p.stopPropagation()});var u=function(p){i.startRow=e,i._mouseDown(p,e,n)};n.addEventListener("mousedown",u),n.addEventListener("touchstart",u,{passive:!0}),r.addEventListener("click",function(p){p.stopPropagation()});var d=function(p){var m=i.table.rowManager.prevDisplayRow(e);m&&(i.startRow=m,i._mouseDown(p,m,r))};r.addEventListener("mousedown",d),r.addEventListener("touchstart",d,{passive:!0}),l.appendChild(n),l.appendChild(r)}resize(e,i){i.setHeight(this.startHeight+((typeof e.screenY>"u"?e.touches[0].screenY:e.screenY)-this.startY))}calcGuidePosition(e,i,l){var n=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,r=l.getBoundingClientRect().y-this.table.element.getBoundingClientRect().y,u=this.table.element.getBoundingClientRect().y,d=i.element.getBoundingClientRect().top-u,p=n-this.startY;return Math.max(r+p,d)}_mouseDown(e,i,l){var n=this,r;n.dispatchExternal("rowResizing",i.getComponent()),n.table.options.resizableRowGuide&&(r=document.createElement("span"),r.classList.add("tabulator-row-resize-guide"),n.table.element.appendChild(r),setTimeout(()=>{r.style.top=n.calcGuidePosition(e,i,l)+"px"})),n.table.element.classList.add("tabulator-block-select");function u(p){n.table.options.resizableRowGuide?r.style.top=n.calcGuidePosition(p,i,l)+"px":n.resize(p,i)}function d(p){n.table.options.resizableRowGuide&&(n.resize(p,i),r.remove()),document.body.removeEventListener("mouseup",u),document.body.removeEventListener("mousemove",u),l.removeEventListener("touchmove",u),l.removeEventListener("touchend",d),n.table.element.classList.remove("tabulator-block-select"),n.dispatchExternal("rowResized",i.getComponent())}e.stopPropagation(),n.startY=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,n.startHeight=i.getHeight(),document.body.addEventListener("mousemove",u),document.body.addEventListener("mouseup",d),l.addEventListener("touchmove",u,{passive:!0}),l.addEventListener("touchend",d)}}G(Rp,"moduleName","resizeRows");class Tp extends le{constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var e=this.table,i;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),typeof IntersectionObserver<"u"&&typeof ResizeObserver<"u"&&e.rowManager.getRenderMode()==="virtual"?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver(l=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var n=Math.floor(l[0].contentRect.height),r=Math.floor(l[0].contentRect.width);(this.tableHeight!=n||this.tableWidth!=r)&&(this.tableHeight=n,this.tableWidth=r,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.redrawTable())}}),this.resizeObserver.observe(e.element),i=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(i.getPropertyValue("max-height")||i.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(l=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var n=Math.floor(l[0].contentRect.height),r=Math.floor(l[0].contentRect.width);(this.containerHeight!=n||this.containerWidth!=r)&&(this.containerHeight=n,this.containerWidth=r,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),this.redrawTable()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell))&&(e.columnManager.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)}),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}G(Tp,"moduleName","resizeTable");function ey(c,e,i){var l=document.createElement("div"),n=c.getRow()._row.modules.responsiveLayout;l.classList.add("tabulator-responsive-collapse-toggle"),l.innerHTML=`<svg class='tabulator-responsive-collapse-toggle-open' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />
  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />
</svg>

<svg class='tabulator-responsive-collapse-toggle-close' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />
</svg>`,c.getElement().classList.add("tabulator-row-handle");function r(u){var d=n.element;n.open=u,d&&(n.open?(l.classList.add("open"),d.style.display=""):(l.classList.remove("open"),d.style.display="none"))}return l.addEventListener("click",function(u){u.stopImmediatePropagation(),r(!n.open),c.getTable().rowManager.adjustTableSize()}),r(n.open),l}var ty={format:{formatters:{responsiveCollapse:ey}}};class zu extends le{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),this.table.options.responsiveLayout==="collapse"&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){["fitColumns","fitDataStretch"].indexOf(this.layoutMode())===-1&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.collapseFormatter&&(this.collapseFormatter=this.collapseFormatter.bind(this.table)),this.table.columnManager.columnsByIndex.forEach((i,l)=>{i.modules.responsive&&i.modules.responsive.order&&i.modules.responsive.visible&&(i.modules.responsive.index=l,e.push(i),!i.visible&&this.mode==="collapse"&&this.hiddenColumns.push(i))}),e=e.reverse(),e=e.sort((i,l)=>{var n=l.modules.responsive.order-i.modules.responsive.order;return n||l.modules.responsive.index-i.modules.responsive.index}),this.columns=e,this.mode==="collapse"&&this.generateCollapsedContent();for(let i of this.table.columnManager.columnsByIndex)if(i.definition.formatter=="responsiveCollapse"){this.collapseHandleColumn=i;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var i=e.getDefinition();e.modules.responsive={order:typeof i.responsive>"u"?1:i.responsive,visible:i.visible!==!1}}initializeRow(e){var i;e.type!=="calc"&&(i=document.createElement("div"),i.classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:i,open:this.collapseStartOpen},this.collapseStartOpen||(i.style.display="none"))}layoutRow(e){var i=e.getElement();e.modules.responsiveLayout&&(i.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,i){!i&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var i=this.hiddenColumns.length;e.hide(!1,!0),this.mode==="collapse"&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!i&&this.collapseHandleColumn.show())}showColumn(e){var i;e.show(!1,!0),e.setWidth(e.getWidth()),this.mode==="collapse"&&(i=this.hiddenColumns.indexOf(e),i>-1&&this.hiddenColumns.splice(i,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=!0;e;){let i=this.table.modules.layout.getMode()=="fitColumns"?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),l=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-i;if(l<0){let n=this.columns[this.index];n?(this.hideColumn(n),this.index++):e=!1}else{let n=this.columns[this.index-1];n&&l>0&&l>=n.getWidth()?(this.showColumn(n),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this.table.rowManager.getDisplayRows();e.forEach(i=>{this.generateCollapsedRowContent(i)})}generateCollapsedRowContent(e){var i,l;if(e.modules.responsiveLayout){for(i=e.modules.responsiveLayout.element;i.firstChild;)i.removeChild(i.firstChild);l=this.collapseFormatter(this.generateCollapsedRowData(e)),l&&i.appendChild(l),e.calcHeight(!0)}}generateCollapsedRowData(e){var i=e.getData(),l=[],n;return this.hiddenColumns.forEach(r=>{var u=r.getFieldValue(i);if(r.definition.title&&r.field)if(r.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){let p=function(m){m()};var d=p;n={value:!1,data:{},getValue:function(){return u},getData:function(){return i},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return r.getComponent()},getTable:()=>this.table},l.push({field:r.field,title:r.definition.title,value:r.modules.format.formatter.call(this.table.modules.format,n,r.modules.format.params,p)})}else l.push({field:r.field,title:r.definition.title,value:u})}),l}formatCollapsedData(e){var i=document.createElement("table");return e.forEach(l=>{var n=document.createElement("tr"),r=document.createElement("td"),u=document.createElement("td"),d,p=document.createElement("strong");r.appendChild(p),this.modules.localize.bind("columns|"+l.field,function(m){p.innerHTML=m||l.title}),l.value instanceof Node?(d=document.createElement("div"),d.appendChild(l.value),u.appendChild(d)):u.innerHTML=l.value,n.appendChild(r),n.appendChild(u),i.appendChild(n)}),Object.keys(e).length?i:""}}G(zu,"moduleName","responsiveLayout"),G(zu,"moduleExtensions",ty);function iy(c,e,i){var l=document.createElement("input"),n=!1;if(l.type="checkbox",l.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(l.addEventListener("click",u=>{u.stopPropagation()}),typeof c.getRow=="function"){var r=c.getRow();r instanceof Aa?(l.addEventListener("change",u=>{this.table.options.selectableRowsRangeMode==="click"&&n?n=!1:r.toggleSelect()}),this.table.options.selectableRowsRangeMode==="click"&&l.addEventListener("click",u=>{n=!0,this.table.modules.selectRow.handleComplexRowClick(r._row,u)}),l.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,l)):l=""}else l.addEventListener("change",u=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(e.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(l);return l}var sy={format:{formatters:{rowSelection:iy}}};class Lu extends le{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectableRows","highlight"),this.registerTableOption("selectableRowsRangeMode","drag"),this.registerTableOption("selectableRowsRollingSelection",!0),this.registerTableOption("selectableRowsPersistence",!0),this.registerTableOption("selectableRowsCheck",function(i,l){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.deprecatedOptionsCheck(),this.table.options.selectableRows==="highlight"&&this.table.options.selectableRange&&(this.table.options.selectableRows=!1),this.table.options.selectableRows!==!1&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectableRows&&!this.table.options.selectableRowsPersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}deprecatedOptionsCheck(){}rowRetrieve(e,i){return e==="selected"?this.selectedRows:i}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var i=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],i&&e!==!0&&this._rowSelectionChanged()}initializeRow(e){var i=this,l=i.checkRowSelectability(e),n=e.getElement(),r=function(){setTimeout(function(){i.selecting=!1},50),document.body.removeEventListener("mouseup",r)};e.modules.select={selected:!1},n.classList.toggle("tabulator-selectable",l),n.classList.toggle("tabulator-unselectable",!l),i.checkRowSelectability(e)&&i.table.options.selectableRows&&i.table.options.selectableRows!="highlight"&&(i.table.options.selectableRowsRangeMode==="click"?n.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(n.addEventListener("click",function(u){(!i.table.modExists("edit")||!i.table.modules.edit.getCurrentCell())&&i.table._clearSelection(),i.selecting||i.toggleRow(e)}),n.addEventListener("mousedown",function(u){if(u.shiftKey)return i.table._clearSelection(),i.selecting=!0,i.selectPrev=[],document.body.addEventListener("mouseup",r),document.body.addEventListener("keyup",r),i.toggleRow(e),!1}),n.addEventListener("mouseenter",function(u){i.selecting&&(i.table._clearSelection(),i.toggleRow(e),i.selectPrev[1]==e&&i.toggleRow(i.selectPrev[0]))}),n.addEventListener("mouseout",function(u){i.selecting&&(i.table._clearSelection(),i.selectPrev.unshift(e))})))}handleComplexRowClick(e,i){if(i.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var l=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),n=this.table.rowManager.getDisplayRowIndex(e),r=l<=n?l:n,u=l>=n?l:n,d=this.table.rowManager.getDisplayRows().slice(0),p=d.splice(r,u-r+1);i.ctrlKey||i.metaKey?(p.forEach(m=>{m!==this.lastClickedRow&&(this.table.options.selectableRows!==!0&&!this.isRowSelected(e)?this.selectedRows.length<this.table.options.selectableRows&&this.toggleRow(m):this.toggleRow(m))}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.table.options.selectableRows!==!0&&p.length>this.table.options.selectableRows&&(p=p.slice(0,this.table.options.selectableRows)),this.selectRows(p)),this.table._clearSelection()}else i.ctrlKey||i.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return e&&e.type==="row"?this.table.options.selectableRowsCheck.call(this.table,e.getComponent()):!1}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var i=[],l,n;switch(typeof e){case"undefined":l=this.table.rowManager.rows;break;case"number":l=this.table.rowManager.findRow(e);break;case"string":l=this.table.rowManager.findRow(e),l||(l=this.table.rowManager.getRows(e));break;default:l=e;break}Array.isArray(l)?l.length&&(l.forEach(r=>{n=this._selectRow(r,!0,!0),n&&i.push(n)}),this._rowSelectionChanged(!1,i)):l&&this._selectRow(l,!1,!0)}_selectRow(e,i,l){if(!isNaN(this.table.options.selectableRows)&&this.table.options.selectableRows!==!0&&!l&&this.selectedRows.length>=this.table.options.selectableRows)if(this.table.options.selectableRowsRollingSelection)this._deselectRow(this.selectedRows[0]);else return!1;var n=this.table.rowManager.findRow(e);if(n){if(this.selectedRows.indexOf(n)==-1)return n.getElement().classList.add("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!0,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!0),this.selectedRows.push(n),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!0),this.dispatchExternal("rowSelected",n.getComponent()),this._rowSelectionChanged(i,n),n}else i||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return this.selectedRows.indexOf(e)!==-1}deselectRows(e,i){var l=[],n,r;switch(typeof e){case"undefined":n=Object.assign([],this.selectedRows);break;case"number":n=this.table.rowManager.findRow(e);break;case"string":n=this.table.rowManager.findRow(e),n||(n=this.table.rowManager.getRows(e));break;default:n=e;break}Array.isArray(n)?n.length&&(n.forEach(u=>{r=this._deselectRow(u,!0,!0),r&&l.push(r)}),this._rowSelectionChanged(i,[],l)):n&&this._deselectRow(n,i,!0)}_deselectRow(e,i){var l=this,n=l.table.rowManager.findRow(e),r,u;if(n){if(r=l.selectedRows.findIndex(function(d){return d==n}),r>-1)return u=n.getElement(),u&&u.classList.remove("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!1,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!1),l.selectedRows.splice(r,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!1),this.dispatchExternal("rowDeselected",n.getComponent()),l._rowSelectionChanged(i,void 0,n),n}else i||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(i){e.push(i.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(i){e.push(i.getComponent())}),e}_rowSelectionChanged(e,i=[],l=[]){this.headerCheckboxElement&&(this.selectedRows.length===0?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||(Array.isArray(i)||(i=[i]),i=i.map(n=>n.getComponent()),Array.isArray(l)||(l=[l]),l=l.map(n=>n.getComponent()),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),i,l))}registerRowSelectCheckbox(e,i){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=i}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,i){var l=this.table.modules.dataTree.getChildren(e,!0,!0);if(i)for(let n of l)this._selectRow(n,!0);else for(let n of l)this._deselectRow(n,!0)}}G(Lu,"moduleName","selectRow"),G(Lu,"moduleExtensions",sy);class ly{constructor(e){return this._range=e,new Proxy(this,{get:function(i,l,n){return typeof i[l]<"u"?i[l]:i._range.table.componentFunctionBinder.handle("range",i._range,l)}})}getElement(){return this._range.element}getData(){return this._range.getData()}getCells(){return this._range.getCells(!0,!0)}getStructuredCells(){return this._range.getStructuredCells()}getRows(){return this._range.getRows().map(e=>e.getComponent())}getColumns(){return this._range.getColumns().map(e=>e.getComponent())}getBounds(){return this._range.getBounds()}getTopEdge(){return this._range.top}getBottomEdge(){return this._range.bottom}getLeftEdge(){return this._range.left}getRightEdge(){return this._range.right}setBounds(e,i){this._range.destroyedGuard("setBounds")&&this._range.setBounds(e&&e._cell,i&&i._cell)}setStartBound(e){this._range.destroyedGuard("setStartBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}setEndBound(e){this._range.destroyedGuard("setEndBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}clearValues(){this._range.destroyedGuard("clearValues")&&this._range.clearValues()}remove(){this._range.destroyedGuard("remove")&&this._range.destroy(!0)}}class ny extends Xe{constructor(e,i,l,n){super(e),this.rangeManager=i,this.element=null,this.initialized=!1,this.initializing={start:!1,end:!1},this.destroyed=!1,this.top=0,this.bottom=0,this.left=0,this.right=0,this.table=e,this.start={row:0,col:0},this.end={row:0,col:0},this.rangeManager.rowHeader&&(this.left=1,this.right=1,this.start.col=1,this.end.col=1),this.initElement(),setTimeout(()=>{this.initBounds(l,n)})}initElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-range")}initBounds(e,i){this._updateMinMax(),e&&this.setBounds(e,i||e)}setStart(e,i){(this.start.row!==e||this.start.col!==i)&&(this.start.row=e,this.start.col=i,this.initializing.start=!0,this._updateMinMax())}setEnd(e,i){(this.end.row!==e||this.end.col!==i)&&(this.end.row=e,this.end.col=i,this.initializing.end=!0,this._updateMinMax())}setBounds(e,i,l){e&&this.setStartBound(e),this.setEndBound(i||e),this.rangeManager.layoutElement(l)}setStartBound(e){var i,l;e.type==="column"?this.rangeManager.columnSelection&&this.setStart(0,e.getPosition()-1):(i=e.row.position-1,l=e.column.getPosition()-1,e.column===this.rangeManager.rowHeader?this.setStart(i,1):this.setStart(i,l))}setEndBound(e){var i=this._getTableRows().length,l,n,r;e.type==="column"?this.rangeManager.columnSelection&&(this.rangeManager.selecting==="column"?this.setEnd(i-1,e.getPosition()-1):this.rangeManager.selecting==="cell"&&this.setEnd(0,e.getPosition()-1)):(l=e.row.position-1,n=e.column.getPosition()-1,r=e.column===this.rangeManager.rowHeader,this.rangeManager.selecting==="row"?this.setEnd(l,this._getTableColumns().length-1):this.rangeManager.selecting!=="row"&&r?this.setEnd(l,0):this.rangeManager.selecting==="column"?this.setEnd(i-1,n):this.setEnd(l,n))}_updateMinMax(){this.top=Math.min(this.start.row,this.end.row),this.bottom=Math.max(this.start.row,this.end.row),this.left=Math.min(this.start.col,this.end.col),this.right=Math.max(this.start.col,this.end.col),this.initialized?this.dispatchExternal("rangeChanged",this.getComponent()):this.initializing.start&&this.initializing.end&&(this.initialized=!0,this.dispatchExternal("rangeAdded",this.getComponent()))}_getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}_getTableRows(){return this.table.rowManager.getDisplayRows().filter(e=>e.type==="row")}layout(){var e=this.table.rowManager.renderer.vDomTop,i=this.table.rowManager.renderer.vDomBottom,l=this.table.columnManager.renderer.leftCol,n=this.table.columnManager.renderer.rightCol,r,u,d,p,m,g,w,y,E,T;this.table.options.renderHorizontal==="virtual"&&this.rangeManager.rowHeader&&(n+=1),e==null&&(e=0),i==null&&(i=1/0),l==null&&(l=0),n==null&&(n=1/0),this.overlaps(l,e,n,i)&&(r=Math.max(this.top,e),u=Math.min(this.bottom,i),d=Math.max(this.left,l),p=Math.min(this.right,n),m=this.rangeManager.getCell(r,d),g=this.rangeManager.getCell(u,p),w=m.getElement(),y=g.getElement(),E=m.row.getElement(),T=g.row.getElement(),this.element.classList.add("tabulator-range-active"),this.table.rtl?(this.element.style.right=E.offsetWidth-w.offsetLeft-w.offsetWidth+"px",this.element.style.width=w.offsetLeft+w.offsetWidth-y.offsetLeft+"px"):(this.element.style.left=E.offsetLeft+w.offsetLeft+"px",this.element.style.width=y.offsetLeft+y.offsetWidth-w.offsetLeft+"px"),this.element.style.top=E.offsetTop+"px",this.element.style.height=T.offsetTop+T.offsetHeight-E.offsetTop+"px")}atTopLeft(e){return e.row.position-1===this.top&&e.column.getPosition()-1===this.left}atBottomRight(e){return e.row.position-1===this.bottom&&e.column.getPosition()-1===this.right}occupies(e){return this.occupiesRow(e.row)&&this.occupiesColumn(e.column)}occupiesRow(e){return this.top<=e.position-1&&e.position-1<=this.bottom}occupiesColumn(e){return this.left<=e.getPosition()-1&&e.getPosition()-1<=this.right}overlaps(e,i,l,n){return!(this.left>l||e>this.right||this.top>n||i>this.bottom)}getData(){var e=[],i=this.getRows(),l=this.getColumns();return i.forEach(n=>{var r=n.getData(),u={};l.forEach(d=>{u[d.field]=r[d.field]}),e.push(u)}),e}getCells(e,i){var l=[],n=this.getRows(),r=this.getColumns();return e?l=n.map(u=>{var d=[];return u.getCells().forEach(p=>{r.includes(p.column)&&d.push(i?p.getComponent():p)}),d}):n.forEach(u=>{u.getCells().forEach(d=>{r.includes(d.column)&&l.push(i?d.getComponent():d)})}),l}getStructuredCells(){return this.getCells(!0,!0)}getRows(){return this._getTableRows().slice(this.top,this.bottom+1)}getColumns(){return this._getTableColumns().slice(this.left,this.right+1)}clearValues(){var e=this.getCells(),i=this.table.options.selectableRangeClearCellsValue;this.table.blockRedraw(),e.forEach(l=>{l.setValue(i)}),this.table.restoreRedraw()}getBounds(e){var i=this.getCells(!1,e),l={start:null,end:null};return i.length?(l.start=i[0],l.end=i[i.length-1]):console.warn("No bounds defined on range"),l}getComponent(){return this.component||(this.component=new ly(this)),this.component}destroy(e){this.destroyed=!0,this.element.remove(),e&&this.rangeManager.rangeRemoved(this),this.initialized&&this.dispatchExternal("rangeRemoved",this.getComponent())}destroyedGuard(e){return this.destroyed&&console.warn("You cannot call the "+e+" function on a destroyed range"),!this.destroyed}}var ay={rangeJumpUp:["ctrl + 38","meta + 38"],rangeJumpDown:["ctrl + 40","meta + 40"],rangeJumpLeft:["ctrl + 37","meta + 37"],rangeJumpRight:["ctrl + 39","meta + 39"],rangeExpandUp:"shift + 38",rangeExpandDown:"shift + 40",rangeExpandLeft:"shift + 37",rangeExpandRight:"shift + 39",rangeExpandJumpUp:["ctrl + shift + 38","meta + shift + 38"],rangeExpandJumpDown:["ctrl + shift + 40","meta + shift + 40"],rangeExpandJumpLeft:["ctrl + shift + 37","meta + shift + 37"],rangeExpandJumpRight:["ctrl + shift + 39","meta + shift + 39"]},ry={rangeJumpLeft:function(c){this.dispatch("keybinding-nav-range",c,"left",!0,!1)},rangeJumpRight:function(c){this.dispatch("keybinding-nav-range",c,"right",!0,!1)},rangeJumpUp:function(c){this.dispatch("keybinding-nav-range",c,"up",!0,!1)},rangeJumpDown:function(c){this.dispatch("keybinding-nav-range",c,"down",!0,!1)},rangeExpandLeft:function(c){this.dispatch("keybinding-nav-range",c,"left",!1,!0)},rangeExpandRight:function(c){this.dispatch("keybinding-nav-range",c,"right",!1,!0)},rangeExpandUp:function(c){this.dispatch("keybinding-nav-range",c,"up",!1,!0)},rangeExpandDown:function(c){this.dispatch("keybinding-nav-range",c,"down",!1,!0)},rangeExpandJumpLeft:function(c){this.dispatch("keybinding-nav-range",c,"left",!0,!0)},rangeExpandJumpRight:function(c){this.dispatch("keybinding-nav-range",c,"right",!0,!0)},rangeExpandJumpUp:function(c){this.dispatch("keybinding-nav-range",c,"up",!0,!0)},rangeExpandJumpDown:function(c){this.dispatch("keybinding-nav-range",c,"down",!0,!0)}},oy={range:function(c){var e=[],i=this.table.modules.selectRange.activeRange,l=!1,n,r,u,d,p;return p=c.length,i&&(n=i.getBounds(),r=n.start,n.start===n.end&&(l=!0),r&&(e=this.table.rowManager.activeRows.slice(),u=e.indexOf(r.row),l?d=c.length:d=e.indexOf(n.end.row)-u+1,u>-1&&(this.table.blockRedraw(),e=e.slice(u,u+d),e.forEach((m,g)=>{m.updateData(c[g%p])}),this.table.restoreRedraw()))),e}},uy={range:function(c){var e=[],i=[],l=this.table.modules.selectRange.activeRange,n=!1,r,u,d,p,m;return l&&(r=l.getBounds(),u=r.start,r.start===r.end&&(n=!0),u&&(c=c.split(`
`),c.forEach(function(g){e.push(g.split("	"))}),e.length&&(p=this.table.columnManager.getVisibleColumnsByIndex(),m=p.indexOf(u.column),m>-1)))?(n?d=e[0].length:d=p.indexOf(r.end.column)-m+1,p=p.slice(m,m+d),e.forEach(g=>{var w={},y=g.length;p.forEach(function(E,T){w[E.field]=g[T%y]}),i.push(w)}),i):!1}},hy={range:function(){var c=this.modules.selectRange.selectedColumns();return this.columnManager.rowHeader&&c.unshift(this.columnManager.rowHeader),c}},cy={range:function(){return this.modules.selectRange.selectedRows()}},dy={keybindings:{bindings:ay,actions:ry},clipboard:{pasteActions:oy,pasteParsers:uy},export:{columnLookups:hy,rowLookups:cy}};class Da extends le{constructor(e){super(e),this.selecting="cell",this.mousedown=!1,this.ranges=[],this.overlay=null,this.rowHeader=null,this.layoutChangeTimeout=null,this.columnSelection=!1,this.rowSelection=!1,this.maxRanges=0,this.activeRange=!1,this.blockKeydown=!1,this.keyDownEvent=this._handleKeyDown.bind(this),this.mouseUpEvent=this._handleMouseUp.bind(this),this.registerTableOption("selectableRange",!1),this.registerTableOption("selectableRangeColumns",!1),this.registerTableOption("selectableRangeRows",!1),this.registerTableOption("selectableRangeClearCells",!1),this.registerTableOption("selectableRangeClearCellsValue",void 0),this.registerTableOption("selectableRangeAutoFocus",!0),this.registerTableFunction("getRangesData",this.getRangesData.bind(this)),this.registerTableFunction("getRanges",this.getRanges.bind(this)),this.registerTableFunction("addRange",this.addRangeFromComponent.bind(this)),this.registerComponentFunction("cell","getRanges",this.cellGetRanges.bind(this)),this.registerComponentFunction("row","getRanges",this.rowGetRanges.bind(this)),this.registerComponentFunction("column","getRanges",this.colGetRanges.bind(this))}initialize(){this.options("selectableRange")&&(this.options("selectableRows")?console.warn("SelectRange functionality cannot be used in conjunction with row selection"):(this.maxRanges=this.options("selectableRange"),this.initializeTable(),this.initializeWatchers()),this.options("columns").findIndex(e=>e.frozen)>0&&console.warn("Having frozen column in arbitrary position with selectRange option may result in unpredictable behavior."),this.options("columns").filter(e=>e.frozen)>1&&console.warn("Having multiple frozen columns with selectRange option may result in unpredictable behavior."))}initializeTable(){this.overlay=document.createElement("div"),this.overlay.classList.add("tabulator-range-overlay"),this.rangeContainer=document.createElement("div"),this.rangeContainer.classList.add("tabulator-range-container"),this.activeRangeCellElement=document.createElement("div"),this.activeRangeCellElement.classList.add("tabulator-range-cell-active"),this.overlay.appendChild(this.rangeContainer),this.overlay.appendChild(this.activeRangeCellElement),this.table.rowManager.element.addEventListener("keydown",this.keyDownEvent),this.resetRanges(),this.table.rowManager.element.appendChild(this.overlay),this.table.columnManager.element.setAttribute("tabindex",0),this.table.element.classList.add("tabulator-ranges")}initializeWatchers(){this.columnSelection=this.options("selectableRangeColumns"),this.rowSelection=this.options("selectableRangeRows"),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-mousedown",this.handleColumnMouseDown.bind(this)),this.subscribe("column-mousemove",this.handleColumnMouseMove.bind(this)),this.subscribe("column-resized",this.handleColumnResized.bind(this)),this.subscribe("column-moving",this.handleColumnMoving.bind(this)),this.subscribe("column-moved",this.handleColumnMoved.bind(this)),this.subscribe("column-width",this.layoutChange.bind(this)),this.subscribe("column-height",this.layoutChange.bind(this)),this.subscribe("column-resized",this.layoutChange.bind(this)),this.subscribe("columns-loaded",this.updateHeaderColumn.bind(this)),this.subscribe("cell-height",this.layoutChange.bind(this)),this.subscribe("cell-rendered",this.renderCell.bind(this)),this.subscribe("cell-mousedown",this.handleCellMouseDown.bind(this)),this.subscribe("cell-mousemove",this.handleCellMouseMove.bind(this)),this.subscribe("cell-click",this.handleCellClick.bind(this)),this.subscribe("cell-editing",this.handleEditingCell.bind(this)),this.subscribe("page-changed",this.redraw.bind(this)),this.subscribe("scroll-vertical",this.layoutChange.bind(this)),this.subscribe("scroll-horizontal",this.layoutChange.bind(this)),this.subscribe("data-destroy",this.tableDestroyed.bind(this)),this.subscribe("data-processed",this.resetRanges.bind(this)),this.subscribe("table-layout",this.layoutElement.bind(this)),this.subscribe("table-redraw",this.redraw.bind(this)),this.subscribe("table-destroy",this.tableDestroyed.bind(this)),this.subscribe("edit-editor-clear",this.finishEditingCell.bind(this)),this.subscribe("edit-blur",this.restoreFocus.bind(this)),this.subscribe("keybinding-nav-prev",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-next",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-left",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-right",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-up",this.keyNavigate.bind(this,"up")),this.subscribe("keybinding-nav-down",this.keyNavigate.bind(this,"down")),this.subscribe("keybinding-nav-range",this.keyNavigateRange.bind(this))}initializeColumn(e){this.columnSelection&&e.definition.headerSort&&this.options("headerSortClickElement")!=="icon"&&console.warn("Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'."),e.modules.edit}updateHeaderColumn(){var e;this.rowSelection&&(this.rowHeader=this.table.columnManager.getVisibleColumnsByIndex()[0],this.rowHeader&&(this.rowHeader.definition.cssClass=this.rowHeader.definition.cssClass+" tabulator-range-row-header",this.rowHeader.definition.headerSort&&console.warn("Using column headerSort with selectableRangeRows option may result in unpredictable behavior"),this.rowHeader.definition.editor&&console.warn("Using column editor with selectableRangeRows option may result in unpredictable behavior"))),this.table.modules.frozenColumns&&this.table.modules.frozenColumns.active&&(e=this.table.modules.frozenColumns.getFrozenColumns(),(e.length>1||e.length===1&&e[0]!==this.rowHeader)&&console.warn("Using frozen columns that are not the range header in combination with the selectRange option may result in unpredictable behavior"))}getRanges(){return this.ranges.map(e=>e.getComponent())}getRangesData(){return this.ranges.map(e=>e.getData())}addRangeFromComponent(e,i){return e=e?e._cell:null,i=i?i._cell:null,this.addRange(e,i)}cellGetRanges(e){var i=[];return e.column===this.rowHeader?i=this.ranges.filter(l=>l.occupiesRow(e.row)):i=this.ranges.filter(l=>l.occupies(e)),i.map(l=>l.getComponent())}rowGetRanges(e){var i=this.ranges.filter(l=>l.occupiesRow(e));return i.map(l=>l.getComponent())}colGetRanges(e){var i=this.ranges.filter(l=>l.occupiesColumn(e));return i.map(l=>l.getComponent())}_handleMouseUp(e){this.mousedown=!1,document.removeEventListener("mouseup",this.mouseUpEvent)}_handleKeyDown(e){if(!this.blockKeydown&&(!this.table.modules.edit||this.table.modules.edit&&!this.table.modules.edit.currentCell)){if(e.key==="Enter"){if(this.table.modules.edit&&this.table.modules.edit.currentCell)return;this.table.modules.edit.editCell(this.getActiveCell()),e.preventDefault()}(e.key==="Backspace"||e.key==="Delete")&&this.options("selectableRangeClearCells")&&this.activeRange&&this.activeRange.clearValues()}}initializeFocus(e){var i;this.restoreFocus();try{document.selection?(i=document.body.createTextRange(),i.moveToElementText(e.getElement()),i.select()):window.getSelection&&(i=document.createRange(),i.selectNode(e.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(i))}catch{}}restoreFocus(e){return this.table.rowManager.element.focus(),!0}handleColumnResized(e){var i;this.selecting!=="column"&&this.selecting!=="all"||(i=this.ranges.some(l=>l.occupiesColumn(e)),i&&this.ranges.forEach(l=>{var n=l.getColumns(!0);n.forEach(r=>{r!==e&&r.setWidth(e.width)})}))}handleColumnMoving(e,i){this.resetRanges().setBounds(i),this.overlay.style.visibility="hidden"}handleColumnMoved(e,i,l){this.activeRange.setBounds(e),this.layoutElement()}handleColumnMouseDown(e,i){e.button===2&&(this.selecting==="column"||this.selecting==="all")&&this.activeRange.occupiesColumn(i)||this.table.options.movableColumns&&this.selecting==="column"&&this.activeRange.occupiesColumn(i)||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,i))}handleColumnMouseMove(e,i){i===this.rowHeader||!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,i,!0)}renderCell(e){var i=e.getElement(),l=this.ranges.findIndex(n=>n.occupies(e));i.classList.toggle("tabulator-range-selected",l!==-1),i.classList.toggle("tabulator-range-only-cell-selected",this.ranges.length===1&&this.ranges[0].atTopLeft(e)&&this.ranges[0].atBottomRight(e)),i.dataset.range=l}handleCellMouseDown(e,i){e.button===2&&(this.activeRange.occupies(i)||(this.selecting==="row"||this.selecting==="all")&&this.activeRange.occupiesRow(i.row))||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,i))}handleCellMouseMove(e,i){!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,i,!0)}handleCellClick(e,i){this.initializeFocus(i)}handleEditingCell(e){this.activeRange&&this.activeRange.setBounds(e)}finishEditingCell(){this.blockKeydown=!0,this.table.rowManager.element.focus(),setTimeout(()=>{this.blockKeydown=!1},10)}keyNavigate(e,i){this.navigate(!1,!1,e),i.preventDefault()}keyNavigateRange(e,i,l,n){this.navigate(l,n,i),e.preventDefault()}navigate(e,i,l){var n=!1,r,u,d,p,m,g,w,y,E,T,k;if(this.table.modules.edit&&this.table.modules.edit.currentCell)return!1;if(this.ranges.length>1&&(this.ranges=this.ranges.filter(H=>H===this.activeRange?(H.setEnd(H.start.row,H.start.col),!0):(H.destroy(),!1))),r=this.activeRange,d={top:r.top,bottom:r.bottom,left:r.left,right:r.right},u=i?r.end:r.start,p=u.row,m=u.col,e)switch(l){case"left":m=this.findJumpCellLeft(r.start.row,u.col);break;case"right":m=this.findJumpCellRight(r.start.row,u.col);break;case"up":p=this.findJumpCellUp(u.row,r.start.col);break;case"down":p=this.findJumpCellDown(u.row,r.start.col);break}else{if(i&&(this.selecting==="row"&&(l==="left"||l==="right")||this.selecting==="column"&&(l==="up"||l==="down")))return;switch(l){case"left":m=Math.max(m-1,0);break;case"right":m=Math.min(m+1,this.getTableColumns().length-1);break;case"up":p=Math.max(p-1,0);break;case"down":p=Math.min(p+1,this.getTableRows().length-1);break}}if(this.rowHeader&&m===0&&(m=1),i||r.setStart(p,m),r.setEnd(p,m),i||(this.selecting="cell"),n=d.top!==r.top||d.bottom!==r.bottom||d.left!==r.left||d.right!==r.right,n)return g=this.getRowByRangePos(r.end.row),w=this.getColumnByRangePos(r.end.col),y=g.getElement().getBoundingClientRect(),T=w.getElement().getBoundingClientRect(),E=this.table.rowManager.getElement().getBoundingClientRect(),k=this.table.columnManager.getElement().getBoundingClientRect(),y.top>=E.top&&y.bottom<=E.bottom||(g.getElement().parentNode&&w.getElement().parentNode?this.autoScroll(r,g.getElement(),w.getElement()):g.getComponent().scrollTo(void 0,!1)),T.left>=k.left+this.getRowHeaderWidth()&&T.right<=k.right||(g.getElement().parentNode&&w.getElement().parentNode?this.autoScroll(r,g.getElement(),w.getElement()):w.getComponent().scrollTo(void 0,!1)),this.layoutElement(),!0}rangeRemoved(e){this.ranges=this.ranges.filter(i=>i!==e),this.activeRange===e&&(this.ranges.length?this.activeRange=this.ranges[this.ranges.length-1]:this.addRange()),this.layoutElement()}findJumpRow(e,i,l,n,r){return l&&(i=i.reverse()),this.findJumpItem(n,r,i,function(u){return u.getData()[e.getField()]})}findJumpCol(e,i,l,n,r){return l&&(i=i.reverse()),this.findJumpItem(n,r,i,function(u){return e.getData()[u.getField()]})}findJumpItem(e,i,l,n){var r;for(let u of l){let d=n(u);if(e){if(r=u,d)break}else if(i){if(r=u,d)break}else if(d)r=u;else break}return r}findJumpCellLeft(e,i){var l=this.getRowByRangePos(e),n=this.getTableColumns(),r=this.isEmpty(l.getData()[n[i].getField()]),u=n[i-1]?this.isEmpty(l.getData()[n[i-1].getField()]):!1,d=this.rowHeader?n.slice(1,i):n.slice(0,i),p=this.findJumpCol(l,d,!0,r,u);return p?p.getPosition()-1:i}findJumpCellRight(e,i){var l=this.getRowByRangePos(e),n=this.getTableColumns(),r=this.isEmpty(l.getData()[n[i].getField()]),u=n[i+1]?this.isEmpty(l.getData()[n[i+1].getField()]):!1,d=this.findJumpCol(l,n.slice(i+1,n.length),!1,r,u);return d?d.getPosition()-1:i}findJumpCellUp(e,i){var l=this.getColumnByRangePos(i),n=this.getTableRows(),r=this.isEmpty(n[e].getData()[l.getField()]),u=n[e-1]?this.isEmpty(n[e-1].getData()[l.getField()]):!1,d=this.findJumpRow(l,n.slice(0,e),!0,r,u);return d?d.position-1:e}findJumpCellDown(e,i){var l=this.getColumnByRangePos(i),n=this.getTableRows(),r=this.isEmpty(n[e].getData()[l.getField()]),u=n[e+1]?this.isEmpty(n[e+1].getData()[l.getField()]):!1,d=this.findJumpRow(l,n.slice(e+1,n.length),!1,r,u);return d?d.position-1:e}newSelection(e,i){var l;if(i.type==="column"){if(!this.columnSelection)return;if(i===this.rowHeader){l=this.resetRanges(),this.selecting="all";var n,r=this.getCell(-1,-1);this.rowHeader?n=this.getCell(0,1):n=this.getCell(0,0),l.setBounds(n,r);return}else this.selecting="column"}else i.column===this.rowHeader?this.selecting="row":this.selecting="cell";e.shiftKey?this.activeRange.setBounds(!1,i):e.ctrlKey?this.addRange().setBounds(i):this.resetRanges().setBounds(i)}autoScroll(e,i,l){var n=this.table.rowManager.element,r,u,d,p;typeof i>"u"&&(i=this.getRowByRangePos(e.end.row).getElement()),typeof l>"u"&&(l=this.getColumnByRangePos(e.end.col).getElement()),r={left:l.offsetLeft,right:l.offsetLeft+l.offsetWidth,top:i.offsetTop,bottom:i.offsetTop+i.offsetHeight},u={left:n.scrollLeft+this.getRowHeaderWidth(),right:Math.ceil(n.scrollLeft+n.clientWidth),top:n.scrollTop,bottom:n.scrollTop+n.offsetHeight-this.table.rowManager.scrollbarWidth},d=u.left<r.left&&r.left<u.right&&u.left<r.right&&r.right<u.right,p=u.top<r.top&&r.top<u.bottom&&u.top<r.bottom&&r.bottom<u.bottom,d||(r.left<u.left?n.scrollLeft=r.left-this.getRowHeaderWidth():r.right>u.right&&(n.scrollLeft=Math.min(r.right-n.clientWidth,r.left-this.getRowHeaderWidth()))),p||(r.top<u.top?n.scrollTop=r.top:r.bottom>u.bottom&&(n.scrollTop=r.bottom-n.clientHeight))}layoutChange(){this.overlay.style.visibility="hidden",clearTimeout(this.layoutChangeTimeout),this.layoutChangeTimeout=setTimeout(this.layoutRanges.bind(this),200)}redraw(e){e&&(this.selecting="cell",this.resetRanges(),this.layoutElement())}layoutElement(e){var i;e?i=this.table.rowManager.getVisibleRows(!0):i=this.table.rowManager.getRows(),i.forEach(l=>{l.type==="row"&&(this.layoutRow(l),l.cells.forEach(n=>this.renderCell(n)))}),this.getTableColumns().forEach(l=>{this.layoutColumn(l)}),this.layoutRanges()}layoutRow(e){var i=e.getElement(),l=!1,n=this.ranges.some(r=>r.occupiesRow(e));this.selecting==="row"?l=n:this.selecting==="all"&&(l=!0),i.classList.toggle("tabulator-range-selected",l),i.classList.toggle("tabulator-range-highlight",n)}layoutColumn(e){var i=e.getElement(),l=!1,n=this.ranges.some(r=>r.occupiesColumn(e));this.selecting==="column"?l=n:this.selecting==="all"&&(l=!0),i.classList.toggle("tabulator-range-selected",l),i.classList.toggle("tabulator-range-highlight",n)}layoutRanges(){var e,i,l;this.table.initialized&&(e=this.getActiveCell(),e&&(i=e.getElement(),l=e.row.getElement(),this.table.rtl?this.activeRangeCellElement.style.right=l.offsetWidth-i.offsetLeft-i.offsetWidth+"px":this.activeRangeCellElement.style.left=l.offsetLeft+i.offsetLeft+"px",this.activeRangeCellElement.style.top=l.offsetTop+"px",this.activeRangeCellElement.style.width=i.offsetWidth+"px",this.activeRangeCellElement.style.height=l.offsetHeight+"px",this.ranges.forEach(n=>n.layout()),this.overlay.style.visibility="visible"))}getCell(e,i){var l;return i<0&&(i=this.getTableColumns().length+i,i<0)?null:(e<0&&(e=this.getTableRows().length+e),l=this.table.rowManager.getRowFromPosition(e+1),l?l.getCells(!1,!0).filter(n=>n.column.visible)[i]:null)}getActiveCell(){return this.getCell(this.activeRange.start.row,this.activeRange.start.col)}getRowByRangePos(e){return this.getTableRows()[e]}getColumnByRangePos(e){return this.getTableColumns()[e]}getTableRows(){return this.table.rowManager.getDisplayRows().filter(e=>e.type==="row")}getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}addRange(e,i){var l;return this.maxRanges!==!0&&this.ranges.length>=this.maxRanges&&this.ranges.shift().destroy(),l=new ny(this.table,this,e,i),this.activeRange=l,this.ranges.push(l),this.rangeContainer.appendChild(l.element),l}resetRanges(){var e,i,l;return this.ranges.forEach(n=>n.destroy()),this.ranges=[],e=this.addRange(),this.table.rowManager.activeRows.length&&(l=this.table.rowManager.activeRows[0].cells.filter(n=>n.column.visible),i=l[this.rowHeader?1:0],i&&(e.setBounds(i),this.options("selectableRangeAutoFocus")&&this.initializeFocus(i))),e}tableDestroyed(){document.removeEventListener("mouseup",this.mouseUpEvent),this.table.rowManager.element.removeEventListener("keydown",this.keyDownEvent)}selectedRows(e){return e?this.activeRange.getRows().map(i=>i.getComponent()):this.activeRange.getRows()}selectedColumns(e){return e?this.activeRange.getColumns().map(i=>i.getComponent()):this.activeRange.getColumns()}getRowHeaderWidth(){return this.rowHeader?this.rowHeader.getElement().offsetWidth:0}isEmpty(e){return e==null||e===""}}G(Da,"moduleName","selectRange"),G(Da,"moduleInitOrder",1),G(Da,"moduleExtensions",dy);function fy(c,e,i,l,n,r,u){var d=u.alignEmptyValues,p=u.decimalSeparator,m=u.thousandSeparator,g=0;if(c=String(c),e=String(e),m&&(c=c.split(m).join(""),e=e.split(m).join("")),p&&(c=c.split(p).join("."),e=e.split(p).join(".")),c=parseFloat(c),e=parseFloat(e),isNaN(c))g=isNaN(e)?0:-1;else if(isNaN(e))g=1;else return c-e;return(d==="top"&&r==="desc"||d==="bottom"&&r==="asc")&&(g*=-1),g}function py(c,e,i,l,n,r,u){var d=u.alignEmptyValues,p=0,m;if(!c)p=e?-1:0;else if(!e)p=1;else{switch(typeof u.locale){case"boolean":u.locale&&(m=this.langLocale());break;case"string":m=u.locale;break}return String(c).toLowerCase().localeCompare(String(e).toLowerCase(),m)}return(d==="top"&&r==="desc"||d==="bottom"&&r==="asc")&&(p*=-1),p}function Uu(c,e,i,l,n,r,u){var d=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),p=u.format||"dd/MM/yyyy HH:mm:ss",m=u.alignEmptyValues,g=0;if(typeof d<"u"){if(d.isDateTime(c)||(p==="iso"?c=d.fromISO(String(c)):c=d.fromFormat(String(c),p)),d.isDateTime(e)||(p==="iso"?e=d.fromISO(String(e)):e=d.fromFormat(String(e),p)),!c.isValid)g=e.isValid?-1:0;else if(!e.isValid)g=1;else return c-e;return(m==="top"&&r==="desc"||m==="bottom"&&r==="asc")&&(g*=-1),g}else console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}function my(c,e,i,l,n,r,u){return u.format||(u.format="dd/MM/yyyy"),Uu.call(this,c,e,i,l,n,r,u)}function gy(c,e,i,l,n,r,u){return u.format||(u.format="HH:mm"),Uu.call(this,c,e,i,l,n,r,u)}function by(c,e,i,l,n,r,u){var d=c===!0||c==="true"||c==="True"||c===1?1:0,p=e===!0||e==="true"||e==="True"||e===1?1:0;return d-p}function vy(c,e,i,l,n,r,u){var d=u.type||"length",p=u.alignEmptyValues,m=0,g=this.table,w;u.valueMap&&(typeof u.valueMap=="string"?w=function(E){return E.map(T=>Se.retrieveNestedData(g.options.nestedFieldSeparator,u.valueMap,T))}:w=u.valueMap);function y(E){var T;switch(w&&(E=w(E)),d){case"length":T=E.length;break;case"sum":T=E.reduce(function(k,H){return k+H});break;case"max":T=Math.max.apply(null,E);break;case"min":T=Math.min.apply(null,E);break;case"avg":T=E.reduce(function(k,H){return k+H})/E.length;break;case"string":T=E.join("");break}return T}if(!Array.isArray(c))m=Array.isArray(e)?-1:0;else if(!Array.isArray(e))m=1;else return d==="string"?String(y(c)).toLowerCase().localeCompare(String(y(e)).toLowerCase()):y(e)-y(c);return(p==="top"&&r==="desc"||p==="bottom"&&r==="asc")&&(m*=-1),m}function yy(c,e,i,l,n,r,u){var d=typeof c>"u"?0:1,p=typeof e>"u"?0:1;return d-p}function wy(c,e,i,l,n,r,u){var d,p,m,g,w=0,y,E=/(\d+)|(\D+)/g,T=/\d/,k=u.alignEmptyValues,H=0;if(!c&&c!==0)H=!e&&e!==0?0:-1;else if(!e&&e!==0)H=1;else{if(isFinite(c)&&isFinite(e))return c-e;if(d=String(c).toLowerCase(),p=String(e).toLowerCase(),d===p)return 0;if(!(T.test(d)&&T.test(p)))return d>p?1:-1;for(d=d.match(E),p=p.match(E),y=d.length>p.length?p.length:d.length;w<y;)if(m=d[w],g=p[w++],m!==g)return isFinite(m)&&isFinite(g)?(m.charAt(0)==="0"&&(m="."+m),g.charAt(0)==="0"&&(g="."+g),m-g):m>g?1:-1;return d.length>p.length}return(k==="top"&&r==="desc"||k==="bottom"&&r==="asc")&&(H*=-1),H}var Cy={number:fy,string:py,date:my,time:gy,datetime:Uu,boolean:by,array:vy,exists:yy,alphanum:wy};const ns=class ns extends le{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),this.table.options.sortMode==="remote"&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,i,l,n){var r=this.getSort();return r.forEach(u=>{delete u.column}),n.sort=r,n}userSetSort(e,i){this.setSort(e,i),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var i=!1,l,n;switch(typeof e.definition.sorter){case"string":ns.sorters[e.definition.sorter]?i=ns.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":i=e.definition.sorter;break}if(e.modules.sort={sorter:i,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},e.definition.headerSort!==!1){switch(l=e.getElement(),l.classList.add("tabulator-sortable"),n=document.createElement("div"),n.classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement){case"icon":n.classList.add("tabulator-col-sorter-element");break;case"header":l.classList.add("tabulator-col-sorter-element");break;default:l.classList.add("tabulator-col-sorter-element");break}switch(this.table.options.headerSortElement){case"function":break;case"object":n.appendChild(this.table.options.headerSortElement);break;default:n.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(n),e.modules.sort.element=n,this.setColumnHeaderSortIcon(e,"none"),this.table.options.headerSortClickElement==="icon"&&n.addEventListener("mousedown",r=>{r.stopPropagation()}),(this.table.options.headerSortClickElement==="icon"?n:l).addEventListener("click",r=>{var u="",d=[],p=!1;if(e.modules.sort){if(e.modules.sort.tristate)e.modules.sort.dir=="none"?u=e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?u=e.modules.sort.dir=="asc"?"desc":"asc":u="none";else switch(e.modules.sort.dir){case"asc":u="desc";break;case"desc":u="asc";break;default:u=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(r.shiftKey||r.ctrlKey)?(d=this.getSort(),p=d.findIndex(m=>m.field===e.getField()),p>-1?(d[p].dir=u,p=d.splice(p,1)[0],u!="none"&&d.push(p)):u!="none"&&d.push({column:e,dir:u}),this.setSort(d)):u=="none"?this.clear():this.setSort(e,u),this.refreshSort()}})}}refreshSort(){this.table.options.sortMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var e=this,i=[];return e.sortList.forEach(function(l){l.column&&i.push({column:l.column.getComponent(),field:l.column.getField(),dir:l.dir})}),i}setSort(e,i){var l=this,n=[];Array.isArray(e)||(e=[{column:e,dir:i}]),e.forEach(function(r){var u;u=l.table.columnManager.findColumn(r.column),u?(r.column=u,n.push(r),l.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",r.column)}),l.sortList=n,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var i=this.table.rowManager.activeRows[0],l="string",n,r;if(i&&(i=i.getData(),n=e.getField(),n))switch(r=e.getFieldValue(i),typeof r){case"undefined":l="string";break;case"boolean":l="boolean";break;default:!isNaN(r)&&r!==""?l="number":r.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(l="alphanum");break}return ns.sorters[l]}sort(e,i){var l=this,n=this.table.options.sortOrderReverse?l.sortList.slice().reverse():l.sortList,r=[],u=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",l.getSort()),i||l.clearColumnHeaders(),this.table.options.sortMode!=="remote"?(n.forEach(function(d,p){var m;d.column&&(m=d.column.modules.sort,m&&(m.sorter||(m.sorter=l.findSorter(d.column)),d.params=typeof m.params=="function"?m.params(d.column.getComponent(),d.dir):m.params,r.push(d)),i||l.setColumnHeader(d.column,d.dir))}),r.length&&l._sortItems(e,r)):i||n.forEach(function(d,p){l.setColumnHeader(d.column,d.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(d=>{u.push(d.getComponent())}),this.dispatchExternal("dataSorted",l.getSort(),u)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))})}setColumnHeader(e,i){e.modules.sort.dir=i,e.getElement().setAttribute("aria-sort",i==="asc"?"ascending":"descending"),this.setColumnHeaderSortIcon(e,i)}setColumnHeaderSortIcon(e,i){var l=e.modules.sort.element,n;if(e.definition.headerSort&&typeof this.table.options.headerSortElement=="function"){for(;l.firstChild;)l.removeChild(l.firstChild);n=this.table.options.headerSortElement.call(this.table,e.getComponent(),i),typeof n=="object"?l.appendChild(n):l.innerHTML=n}}_sortItems(e,i){var l=i.length-1;e.sort((n,r)=>{for(var u,d=l;d>=0;d--){let p=i[d];if(u=this._sortRow(n,r,p.column,p.dir,p.params),u!==0)break}return u})}_sortRow(e,i,l,n,r){var u,d,p=n=="asc"?e:i,m=n=="asc"?i:e;return e=l.getFieldValue(p.getData()),i=l.getFieldValue(m.getData()),e=typeof e<"u"?e:"",i=typeof i<"u"?i:"",u=p.getComponent(),d=m.getComponent(),l.modules.sort.sorter.call(this,e,i,u,d,l.getComponent(),n,r)}};G(ns,"moduleName","sort"),G(ns,"sorters",Cy);let ku=ns;class Ey{constructor(e,i){this.columnCount=e,this.rowCount=i,this.columnString=[],this.columns=[],this.rows=[]}genColumns(e){var i=Math.max(this.columnCount,Math.max(...e.map(l=>l.length)));this.columnString=[],this.columns=[];for(let l=1;l<=i;l++)this.incrementChar(this.columnString.length-1),this.columns.push(this.columnString.join(""));return this.columns}genRows(e){var i=Math.max(this.rowCount,e.length);this.rows=[];for(let l=1;l<=i;l++)this.rows.push(l);return this.rows}incrementChar(e){let i=this.columnString[e];i?i!=="Z"?this.columnString[e]=String.fromCharCode(this.columnString[e].charCodeAt(0)+1):(this.columnString[e]="A",e?this.incrementChar(e-1):this.columnString.push("A")):this.columnString.push("A")}setRowCount(e){this.rowCount=e}setColumnCount(e){this.columnCount=e}}class Sp{constructor(e){return this._sheet=e,new Proxy(this,{get:function(i,l,n){return typeof i[l]<"u"?i[l]:i._sheet.table.componentFunctionBinder.handle("sheet",i._sheet,l)}})}getTitle(){return this._sheet.title}getKey(){return this._sheet.key}getDefinition(){return this._sheet.getDefinition()}getData(){return this._sheet.getData()}setData(e){return this._sheet.setData(e)}clear(){return this._sheet.clear()}remove(){return this._sheet.remove()}active(){return this._sheet.active()}setTitle(e){return this._sheet.setTitle(e)}setRows(e){return this._sheet.setRows(e)}setColumns(e){return this._sheet.setColumns(e)}}class Zf extends Xe{constructor(e,i){super(e.table),this.spreadsheetManager=e,this.definition=i,this.title=this.definition.title||"",this.key=this.definition.key||this.definition.title,this.rowCount=this.definition.rows,this.columnCount=this.definition.columns,this.data=this.definition.data||[],this.element=null,this.isActive=!1,this.grid=new Ey(this.columnCount,this.rowCount),this.defaultColumnDefinition={width:100,headerHozAlign:"center",headerSort:!1},this.columnDefinition=Object.assign(this.defaultColumnDefinition,this.options("spreadsheetColumnDefinition")),this.columnDefs=[],this.rowDefs=[],this.columnFields=[],this.columns=[],this.rows=[],this.scrollTop=null,this.scrollLeft=null,this.initialize(),this.dispatchExternal("sheetAdded",this.getComponent())}initialize(){this.initializeElement(),this.initializeColumns(),this.initializeRows()}reinitialize(){this.initializeColumns(),this.initializeRows()}initializeElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tab"),this.element.innerText=this.title,this.element.addEventListener("click",()=>{this.spreadsheetManager.loadSheet(this)})}initializeColumns(){this.grid.setColumnCount(this.columnCount),this.columnFields=this.grid.genColumns(this.data),this.columnDefs=[],this.columnFields.forEach(e=>{var i=Object.assign({},this.columnDefinition);i.field=e,i.title=e,this.columnDefs.push(i)})}initializeRows(){var e;this.grid.setRowCount(this.rowCount),e=this.grid.genRows(this.data),this.rowDefs=[],e.forEach((i,l)=>{var n={_id:i},r=this.data[l];r&&r.forEach((u,d)=>{var p=this.columnFields[d];p&&(n[p]=u)}),this.rowDefs.push(n)})}unload(){this.isActive=!1,this.scrollTop=this.table.rowManager.scrollTop,this.scrollLeft=this.table.rowManager.scrollLeft,this.data=this.getData(!0),this.element.classList.remove("tabulator-spreadsheet-tab-active")}load(){var e=!this.isActive;this.isActive=!0,this.table.blockRedraw(),this.table.setData([]),this.table.setColumns(this.columnDefs),this.table.setData(this.rowDefs),this.table.restoreRedraw(),e&&this.scrollTop!==null&&(this.table.rowManager.element.scrollLeft=this.scrollLeft,this.table.rowManager.element.scrollTop=this.scrollTop),this.element.classList.add("tabulator-spreadsheet-tab-active"),this.dispatchExternal("sheetLoaded",this.getComponent())}getComponent(){return new Sp(this)}getDefinition(){return{title:this.title,key:this.key,rows:this.rowCount,columns:this.columnCount,data:this.getData()}}getData(e){var i=[],l,n,r;return this.rowDefs.forEach(u=>{var d=[];this.columnFields.forEach(p=>{d.push(u[p])}),i.push(d)}),!e&&!this.options("spreadsheetOutputFull")&&(l=i.map(u=>u.findLastIndex(d=>typeof d<"u")+1),n=Math.max(...l),r=l.findLastIndex(u=>u>0)+1,i=i.slice(0,r),i=i.map(u=>u.slice(0,n))),i}setData(e){this.data=e,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}clear(){this.setData([])}setTitle(e){this.title=e,this.element.innerText=e,this.dispatchExternal("sheetUpdated",this.getComponent())}setRows(e){this.rowCount=e,this.initializeRows(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}setColumns(e){this.columnCount=e,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}remove(){this.spreadsheetManager.removeSheet(this)}destroy(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.dispatchExternal("sheetRemoved",this.getComponent())}active(){this.spreadsheetManager.loadSheet(this)}}class xp extends le{constructor(e){super(e),this.sheets=[],this.element=null,this.registerTableOption("spreadsheet",!1),this.registerTableOption("spreadsheetRows",50),this.registerTableOption("spreadsheetColumns",50),this.registerTableOption("spreadsheetColumnDefinition",{}),this.registerTableOption("spreadsheetOutputFull",!1),this.registerTableOption("spreadsheetData",!1),this.registerTableOption("spreadsheetSheets",!1),this.registerTableOption("spreadsheetSheetTabs",!1),this.registerTableOption("spreadsheetSheetTabsElement",!1),this.registerTableFunction("setSheets",this.setSheets.bind(this)),this.registerTableFunction("addSheet",this.addSheet.bind(this)),this.registerTableFunction("getSheets",this.getSheets.bind(this)),this.registerTableFunction("getSheetDefinitions",this.getSheetDefinitions.bind(this)),this.registerTableFunction("setSheetData",this.setSheetData.bind(this)),this.registerTableFunction("getSheet",this.getSheet.bind(this)),this.registerTableFunction("getSheetData",this.getSheetData.bind(this)),this.registerTableFunction("clearSheet",this.clearSheet.bind(this)),this.registerTableFunction("removeSheet",this.removeSheetFunc.bind(this)),this.registerTableFunction("activeSheet",this.activeSheetFunc.bind(this))}initialize(){this.options("spreadsheet")&&(this.subscribe("table-initialized",this.tableInitialized.bind(this)),this.subscribe("data-loaded",this.loadRemoteData.bind(this)),this.table.options.index="_id",this.options("spreadsheetData")&&this.options("spreadsheetSheets")&&(console.warn("You cannot use spreadsheetData and spreadsheetSheets at the same time, ignoring spreadsheetData"),this.table.options.spreadsheetData=!1),this.compatibilityCheck(),this.options("spreadsheetSheetTabs")&&this.initializeTabset())}compatibilityCheck(){this.options("data")&&console.warn("Do not use the data option when working with spreadsheets, use either spreadsheetData or spreadsheetSheets to pass data into the table"),this.options("pagination")&&console.warn("The spreadsheet module is not compatible with the pagination module"),this.options("groupBy")&&console.warn("The spreadsheet module is not compatible with the row grouping module"),this.options("responsiveCollapse")&&console.warn("The spreadsheet module is not compatible with the responsive collapse module")}initializeTabset(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tabs");var e=this.options("spreadsheetSheetTabsElement");e&&!(e instanceof HTMLElement)&&(e=document.querySelector(e),e||console.warn("Unable to find element matching spreadsheetSheetTabsElement selector:",this.options("spreadsheetSheetTabsElement"))),e?e.appendChild(this.element):this.footerAppend(this.element)}tableInitialized(){this.sheets.length?this.loadSheet(this.sheets[0]):this.options("spreadsheetSheets")?this.loadSheets(this.options("spreadsheetSheets")):this.options("spreadsheetData")&&this.loadData(this.options("spreadsheetData"))}loadRemoteData(e,i,l){return console.log("data",e,i,l),Array.isArray(e)?(this.table.dataLoader.clearAlert(),this.dispatchExternal("dataLoaded",e),!e.length||Array.isArray(e[0])?this.loadData(e):this.loadSheets(e)):console.error(`Spreadsheet Loading Error - Unable to process remote data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e),!1}loadData(e){var i={data:e};this.loadSheet(this.newSheet(i))}destroySheets(){this.sheets.forEach(e=>{e.destroy()}),this.sheets=[],this.activeSheet=null}loadSheets(e){Array.isArray(e)||(e=[]),this.destroySheets(),e.forEach(i=>{this.newSheet(i)}),this.loadSheet(this.sheets[0])}loadSheet(e){this.activeSheet!==e&&(this.activeSheet&&this.activeSheet.unload(),this.activeSheet=e,e.load())}newSheet(e={}){var i;return e.rows||(e.rows=this.options("spreadsheetRows")),e.columns||(e.columns=this.options("spreadsheetColumns")),i=new Zf(this,e),this.sheets.push(i),this.element&&this.element.appendChild(i.element),i}removeSheet(e){var i=this.sheets.indexOf(e),l;this.sheets.length>1?i>-1&&(this.sheets.splice(i,1),e.destroy(),this.activeSheet===e&&(l=this.sheets[i-1]||this.sheets[0],l?this.loadSheet(l):this.activeSheet=null)):console.warn("Unable to remove sheet, at least one sheet must be active")}lookupSheet(e){return e?e instanceof Zf?e:e instanceof Sp?e._sheet:this.sheets.find(i=>i.key===e)||!1:this.activeSheet}setSheets(e){return this.loadSheets(e),this.getSheets()}addSheet(e){return this.newSheet(e).getComponent()}getSheetDefinitions(){return this.sheets.map(e=>e.getDefinition())}getSheets(){return this.sheets.map(e=>e.getComponent())}getSheet(e){var i=this.lookupSheet(e);return i?i.getComponent():!1}setSheetData(e,i){e&&!i&&(i=e,e=!1);var l=this.lookupSheet(e);return l?l.setData(i):!1}getSheetData(e){var i=this.lookupSheet(e);return i?i.getData():!1}clearSheet(e){var i=this.lookupSheet(e);return i?i.clear():!1}removeSheetFunc(e){var i=this.lookupSheet(e);i&&this.removeSheet(i)}activeSheetFunc(e){var i=this.lookupSheet(e);return i?this.loadSheet(i):!1}}G(xp,"moduleName","spreadsheet");class Mp extends le{constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,i,l){var n=e==="tooltip"?l.column.definition.tooltip:l.definition.headerTooltip;n&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,i,l,n),this.table.options.tooltipDelay))}mouseoutCheck(e,i,l){this.popupInstance||this.clearPopup()}clearPopup(e,i,l){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,i,l){var n,r,u;function d(p){r=p}typeof l=="function"&&(l=l(e,i.getComponent(),d)),l instanceof HTMLElement?n=l:(n=document.createElement("div"),l===!0&&(i instanceof on?l=i.value:i.definition.field?this.langBind("columns|"+i.definition.field,p=>{n.innerHTML=l=p||i.definition.title}):l=i.definition.title),n.innerHTML=l),(l||l===0||l===!1)&&(n.classList.add("tabulator-tooltip"),n.addEventListener("mousemove",p=>p.preventDefault()),this.popupInstance=this.popup(n),typeof r=="function"&&this.popupInstance.renderCallback(r),u=this.popupInstance.containerEventCoords(e),this.popupInstance.show(u.x+15,u.y+15).hideOnBlur(()=>{this.dispatchExternal("TooltipClosed",i.getComponent()),this.popupInstance=null}),this.dispatchExternal("TooltipOpened",i.getComponent()))}}G(Mp,"moduleName","tooltip");var Ry={integer:function(c,e,i){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&Math.floor(e)===e)},float:function(c,e,i){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&e%1!==0)},numeric:function(c,e,i){return e===""||e===null||typeof e>"u"?!0:!isNaN(e)},string:function(c,e,i){return e===""||e===null||typeof e>"u"?!0:isNaN(e)},alphanumeric:function(c,e,i){if(e===""||e===null||typeof e>"u")return!0;var l=new RegExp(/^[a-z0-9]+$/i);return l.test(e)},max:function(c,e,i){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)<=i},min:function(c,e,i){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)>=i},starts:function(c,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().startsWith(String(i).toLowerCase())},ends:function(c,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().endsWith(String(i).toLowerCase())},minLength:function(c,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).length>=i},maxLength:function(c,e,i){return e===""||e===null||typeof e>"u"?!0:String(e).length<=i},in:function(c,e,i){return e===""||e===null||typeof e>"u"?!0:(typeof i=="string"&&(i=i.split("|")),i.indexOf(e)>-1)},regex:function(c,e,i){if(e===""||e===null||typeof e>"u")return!0;var l=new RegExp(i);return l.test(e)},unique:function(c,e,i){if(e===""||e===null||typeof e>"u")return!0;var l=!0,n=c.getData(),r=c.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(u){var d=u.getData();d!==n&&e==r.getFieldValue(d)&&(l=!1)}),l},required:function(c,e,i){return e!==""&&e!==null&&typeof e<"u"}};const nn=class nn extends le{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,i,l){var n=this.table.options.validationMode!=="manual"?this.validate(e.column.modules.validate,e,i):!0;return n!==!0&&setTimeout(()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),i,n)}),n}editorClear(e,i){i&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var i=[];return e.cells.forEach(l=>{this.cellValidate(l)!==!0&&i.push(l.getComponent())}),i.length?i:!0}rowValidate(e){var i=[];return e.cells.forEach(l=>{this.cellValidate(l)!==!0&&i.push(l.getComponent())}),i.length?i:!0}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(i=>{this.clearValidation(i._getSelf())})}userValidate(e){var i=[];return this.table.rowManager.rows.forEach(l=>{l=l.getComponent();var n=l.validate();n!==!0&&(i=i.concat(n))}),i.length?i:!0}initializeColumnCheck(e){typeof e.definition.validator<"u"&&this.initializeColumn(e)}initializeColumn(e){var i=this,l=[],n;e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(r=>{n=i._extractValidator(r),n&&l.push(n)}):(n=this._extractValidator(e.definition.validator),n&&l.push(n)),e.modules.validate=l.length?l:!1)}_extractValidator(e){var i,l,n;switch(typeof e){case"string":return n=e.indexOf(":"),n>-1?(i=e.substring(0,n),l=e.substring(n+1)):i=e,this._buildValidator(i,l);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,i){var l=typeof e=="function"?e:nn.validators[e];return l?{type:typeof e=="function"?"function":e,func:l,params:i}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,i,l){var n=this,r=[],u=this.invalidCells.indexOf(i);return e&&e.forEach(d=>{d.func.call(n,i.getComponent(),l,d.params)||r.push({type:d.type,parameters:d.params})}),i.modules.validate||(i.modules.validate={}),r.length?(i.modules.validate.invalid=r,this.table.options.validationMode!=="manual"&&i.getElement().classList.add("tabulator-validation-fail"),u==-1&&this.invalidCells.push(i)):(i.modules.validate.invalid=!1,i.getElement().classList.remove("tabulator-validation-fail"),u>-1&&this.invalidCells.splice(u,1)),r.length?r:!0}getInvalidCells(){var e=[];return this.invalidCells.forEach(i=>{e.push(i.getComponent())}),e}clearValidation(e){var i;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,i=this.invalidCells.indexOf(e),i>-1&&this.invalidCells.splice(i,1))}};G(nn,"moduleName","validate"),G(nn,"validators",Ry);let Au=nn;var ru=Object.freeze({__proto__:null,AccessorModule:cu,AjaxModule:pu,ClipboardModule:mu,ColumnCalcsModule:gu,DataTreeModule:cp,DownloadModule:bu,EditModule:vu,ExportModule:yu,FilterModule:wu,FormatModule:Cu,FrozenColumnsModule:dp,FrozenRowsModule:fp,GroupRowsModule:pp,HistoryModule:Eu,HtmlTableImportModule:mp,ImportModule:Ru,InteractionModule:gp,KeybindingsModule:Tu,MenuModule:bp,MoveColumnsModule:vp,MoveRowsModule:Su,MutatorModule:xu,PageModule:Mu,PersistenceModule:Du,PopupModule:yp,PrintModule:wp,ReactiveDataModule:Cp,ResizeColumnsModule:Ep,ResizeRowsModule:Rp,ResizeTableModule:Tp,ResponsiveLayoutModule:zu,SelectRangeModule:Da,SelectRowModule:Lu,SortModule:ku,SpreadsheetModule:xp,TooltipModule:Mp,ValidateModule:Au}),Ty={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},rowHeader:!1,data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{},dependencies:{}};class Dp{constructor(e,i,l={}){this.table=e,this.msgType=i,this.registeredDefaults=Object.assign({},l)}register(e,i){this.registeredDefaults[e]=i}generate(e,i={}){var l=Object.assign({},this.registeredDefaults),n=this.table.options.debugInvalidOptions||i.debugInvalidOptions===!0;Object.assign(l,e);for(let r in i)l.hasOwnProperty(r)||(n&&console.warn("Invalid "+this.msgType+" option:",r),l[r]=i.key);for(let r in l)r in i?l[r]=i[r]:Array.isArray(l[r])?l[r]=Object.assign([],l[r]):typeof l[r]=="object"&&l[r]!==null?l[r]=Object.assign({},l[r]):typeof l[r]>"u"&&delete l[r];return l}}class Oa extends Xe{constructor(e){super(e),this.elementVertical=e.rowManager.element,this.elementHorizontal=e.columnManager.element,this.tableElement=e.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(e){}renderRows(){}renderColumns(){}rerenderRows(e){e&&e()}rerenderColumns(e,i){}renderRowCells(e){}rerenderRowCells(e,i){}scrollColumns(e,i){}scrollRows(e,i){}resize(){}scrollToRow(e){}scrollToRowNearestTop(e){}visibleRows(e){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(e,i){var l=e.getElement();i%2?(l.classList.add("tabulator-row-even"),l.classList.remove("tabulator-row-odd")):(l.classList.add("tabulator-row-odd"),l.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(e){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(e,i,l){var n=this.rows().indexOf(e),r=e.getElement(),u=0;return new Promise((d,p)=>{if(n>-1){if(typeof l>"u"&&(l=this.table.options.scrollToRowIfVisible),!l&&Se.elVisible(r)&&(u=Se.elOffset(r).top-Se.elOffset(this.elementVertical).top,u>0&&u<this.elementVertical.clientHeight-r.offsetHeight))return d(),!1;switch(typeof i>"u"&&(i=this.table.options.scrollToRowPosition),i==="nearest"&&(i=this.scrollToRowNearestTop(e)?"top":"bottom"),this.scrollToRow(e),i){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(r.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-r.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-r.offsetTop)+r.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+r.offsetHeight;break;case"top":this.elementVertical.scrollTop=r.offsetTop;break}d()}else console.warn("Scroll Error - Row not visible"),p("Scroll Error - Row not visible")})}}class Sy extends Oa{constructor(e){super(e)}renderRowCells(e,i){const l=document.createDocumentFragment();e.cells.forEach(n=>{l.appendChild(n.getElement())}),e.element.appendChild(l),i||e.cells.forEach(n=>{n.cellRendered()})}reinitializeColumnWidths(e){e.forEach(function(i){i.reinitializeWidth()})}}class xy extends Oa{constructor(e){super(e),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){this.options("layout")=="fitDataTable"&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(e,i){this.dataChange()}scrollColumns(e,i){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var e=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(i=>{if(i.visible){var l=i.getWidth();l>e&&(e=l)}}),this.windowBuffer=e*2}rerenderColumns(e,i){var l={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},n=0;e&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach(r=>{var u={},d;r.visible&&(r.modules.frozen||(d=r.getWidth(),u.leftPos=n,u.rightPos=n+d,u.width=d,this.isFitData&&(u.fitDataCheck=r.modules.vdomHoz?r.modules.vdomHoz.fitDataCheck:!0),n+d>this.vDomScrollPosLeft&&n<this.vDomScrollPosRight?(this.leftCol==-1&&(this.leftCol=this.columns.length,this.vDomPadLeft=n),this.rightCol=this.columns.length):this.leftCol!==-1&&(this.vDomPadRight+=d),this.columns.push(r),r.modules.vdomHoz=u,n+=d))}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,i||(!e||this.reinitChanged(l))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(e){if(this.initialized)this.initializeRow(e);else{const i=document.createDocumentFragment();e.cells.forEach(l=>{i.appendChild(l.getElement())}),e.element.appendChild(i),e.cells.forEach(l=>{l.cellRendered()})}}rerenderRowCells(e,i){this.reinitializeRow(e,i)}reinitializeColumnWidths(e){for(let i=this.leftCol;i<=this.rightCol;i++){let l=this.columns[i];l&&l.reinitializeWidth()}}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e=!1,i,l;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach(n=>{!n.definition.width&&n.visible&&(e=!0)}),e&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,i=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows())[0],i)){l=i.getElement(),i.generateCells(),this.tableElement.appendChild(l);for(let n=0;n<i.cells.length;n++){let r=i.cells[n];l.appendChild(r.getElement()),r.column.reinitializeWidth()}l.parentNode.removeChild(l),this.rerenderColumns(!1,!0)}}else this.options("layout")==="fitColumns"&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(e){var i=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol?!0:(e.cols.forEach((l,n)=>{l!==this.columns[n]&&(i=!1)}),!i)}reinitializeRows(){var e=this.getVisibleRows(),i=this.table.rowManager.getRows().filter(l=>!e.includes(l));e.forEach(l=>{this.reinitializeRow(l,!0)}),i.forEach(l=>{l.deinitialize()})}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,Math.abs(e)>this.windowBuffer/2?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(e,i,l){for(let n=e;n<i;n++){let r=this.columns[n];r.modules.vdomHoz.leftPos+=l,r.modules.vdomHoz.rightPos+=l}}addColRight(){for(var e=!1,i=!0;i;){let l=this.columns[this.rightCol+1];l&&l.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(n=>{if(n.type!=="group"){var r=n.getCell(l);n.getElement().insertBefore(r.getElement(),n.getCell(this.columns[this.rightCol]).getElement().nextSibling),r.cellRendered()}}),this.fitDataColActualWidthCheck(l),this.rightCol++,this.getVisibleRows().forEach(n=>{n.type!=="group"&&(n.modules.vdomHoz.rightCol=this.rightCol)}),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=l.getWidth()):i=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var e=!1,i=!0;i;){let l=this.columns[this.leftCol-1];if(l)if(l.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var u=r.getCell(l);r.getElement().insertBefore(u.getElement(),r.getCell(this.columns[this.leftCol]).getElement()),u.cellRendered()}}),this.leftCol--,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.leftCol=this.leftCol)}),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=l.getWidth();let n=this.fitDataColActualWidthCheck(l);n&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+n,this.vDomPadRight-=n)}else i=!1;else i=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var e=!1,i=!0;i;){let l=this.columns[this.rightCol];l&&l.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(n=>{if(n.type!=="group"){var r=n.getCell(l);try{n.getElement().removeChild(r.getElement())}catch(u){console.warn("Could not removeColRight",u.message)}}}),this.vDomPadRight+=l.getWidth(),this.rightCol--,this.getVisibleRows().forEach(n=>{n.type!=="group"&&(n.modules.vdomHoz.rightCol=this.rightCol)})):i=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var e=!1,i=!0;i;){let l=this.columns[this.leftCol];l&&l.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(e=!0,this.getVisibleRows().forEach(n=>{if(n.type!=="group"){var r=n.getCell(l);try{n.getElement().removeChild(r.getElement())}catch(u){console.warn("Could not removeColLeft",u.message)}}}),this.vDomPadLeft+=l.getWidth(),this.leftCol++,this.getVisibleRows().forEach(n=>{n.type!=="group"&&(n.modules.vdomHoz.leftCol=this.leftCol)})):i=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(e){var i,l;return e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),i=e.getWidth(),l=i-e.modules.vdomHoz.width,l&&(e.modules.vdomHoz.rightPos+=l,e.modules.vdomHoz.width=i,this.colPositionAdjust(this.columns.indexOf(e)+1,this.columns.length,l)),e.modules.vdomHoz.fitDataCheck=!1),l}initializeRow(e){if(e.type!=="group"){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach(i=>{this.appendCell(e,i)});for(let i=this.leftCol;i<=this.rightCol;i++)this.appendCell(e,this.columns[i]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach(i=>{this.appendCell(e,i)})}}appendCell(e,i){if(i&&i.visible){let l=e.getCell(i);e.getElement().appendChild(l.getElement()),l.cellRendered()}}reinitializeRow(e,i){if(e.type!=="group"&&(i||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var l=e.getElement();l.firstChild;)l.removeChild(l.firstChild);this.initializeRow(e)}}}class My extends Xe{constructor(e){super(e),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.rowHeader=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new Dp(this.table,"column definition",hp),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(e){this.table.rtl?this.headersElement.style.marginLeft=e+"px":this.headersElement.style.marginRight=e+"px"}initializeRenderer(){var e,i={virtual:xy,basic:Sy};typeof this.table.options.renderHorizontal=="string"?e=i[this.table.options.renderHorizontal]:e=this.table.options.renderHorizontal,e?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}createHeaderContentsElement(){var e=document.createElement("div");return e.classList.add("tabulator-header-contents"),e.setAttribute("role","rowgroup"),e}createHeaderElement(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(e){this.contentsElement.scrollLeft=e,this.scrollLeft=e,this.renderer.scrollColumns(e)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",e=>{var i;e.deltaX&&(i=this.contentsElement.scrollLeft+e.deltaX,this.table.rowManager.scrollHorizontal(i),this.table.columnManager.scrollHorizontal(i))})}generateColumnsFromRowData(e){var i=[],l={},n=this.table.options.autoColumns==="full"?e:[e[0]],r=this.table.options.autoColumnsDefinitions;if(e&&e.length){if(n.forEach(u=>{Object.keys(u).forEach((d,p)=>{let m=u[d],g;l[d]?l[d]!==!0&&typeof m<"u"&&(l[d].sorter=this.calculateSorterFromValue(m),l[d]=!0):(g={field:d,title:d,sorter:this.calculateSorterFromValue(m)},i.splice(p,0,g),l[d]=typeof m>"u"?g:!0)})}),r)switch(typeof r){case"function":this.table.options.columns=r.call(this.table,i);break;case"object":Array.isArray(r)?i.forEach(u=>{var d=r.find(p=>p.field===u.field);d&&Object.assign(u,d)}):i.forEach(u=>{r[u.field]&&Object.assign(u,r[u.field])}),this.table.options.columns=i;break}else this.table.options.columns=i;this.setColumns(this.table.options.columns)}}calculateSorterFromValue(e){var i;switch(typeof e){case"undefined":i="string";break;case"boolean":i="boolean";break;case"number":i="number";break;case"object":Array.isArray(e)?i="array":i="string";break;default:!isNaN(e)&&e!==""?i="number":e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?i="alphanum":i="string";break}return i}setColumns(e,i){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),this.dispatchExternal("columnsLoading"),this.table.options.rowHeader&&(this.rowHeader=new as(this.table.options.rowHeader===!0?{}:this.table.options.rowHeader,this,!0),this.columns.push(this.rowHeader),this.headersElement.appendChild(this.rowHeader.getElement()),this.rowHeader.columnRendered()),e.forEach((l,n)=>{this._addColumn(l)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.subscribedExternal("columnsLoaded")&&this.dispatchExternal("columnsLoaded",this.getComponents()),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(e,i,l){var n=new as(e,this),r=n.getElement(),u=l&&this.findColumnIndex(l);if(i&&this.rowHeader&&(!l||l===this.rowHeader)&&(i=!1,l=this.rowHeader,u=0),l&&u>-1){var d=l.getTopColumn(),p=this.columns.indexOf(d),m=d.getElement();i?(this.columns.splice(p,0,n),m.parentNode.insertBefore(r,m)):(this.columns.splice(p+1,0,n),m.parentNode.insertBefore(r,m.nextSibling))}else i?(this.columns.unshift(n),this.headersElement.insertBefore(n.getElement(),this.headersElement.firstChild)):(this.columns.push(n),this.headersElement.appendChild(n.getElement()));return n.columnRendered(),n}registerColumnField(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}registerColumnPosition(e){this.columnsByIndex.push(e)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(e){e.reRegisterPosition()})}verticalAlignHeaders(){var e=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach(i=>{i.clearVerticalAlign()}),this.columns.forEach(i=>{var l=i.getHeight();l>e&&(e=l)}),this.headersElement.style.height=e+"px",this.columns.forEach(i=>{i.verticalAlign(this.table.options.columnHeaderVertAlign,e)}),this.table.rowManager.adjustTableSize())}findColumn(e){var i;if(typeof e=="object"){if(e instanceof as)return e;if(e instanceof up)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return i=[],this.columns.forEach(n=>{i.push(n),i=i.concat(n.getColumns(!0))}),i.find(n=>n.element===e)||!1}else return this.columnsByField[e]||!1;return!1}getColumnByField(e){return this.columnsByField[e]}getColumnsByFieldRoot(e){var i=[];return Object.keys(this.columnsByField).forEach(l=>{var n=this.table.options.nestedFieldSeparator?l.split(this.table.options.nestedFieldSeparator)[0]:l;n===e&&i.push(this.columnsByField[l])}),i}getColumnByIndex(e){return this.columnsByIndex[e]}getFirstVisibleColumn(){var e=this.columnsByIndex.findIndex(i=>i.visible);return e>-1?this.columnsByIndex[e]:!1}getVisibleColumnsByIndex(){return this.columnsByIndex.filter(e=>e.visible)}getColumns(){return this.columns}findColumnIndex(e){return this.columnsByIndex.findIndex(i=>e===i)}getRealColumns(){return this.columnsByIndex}traverse(e){this.columnsByIndex.forEach((i,l)=>{e(i,l)})}getDefinitions(e){var i=[];return this.columnsByIndex.forEach(l=>{(!e||e&&l.visible)&&i.push(l.getDefinition())}),i}getDefinitionTree(){var e=[];return this.columns.forEach(i=>{e.push(i.getDefinition(!0))}),e}getComponents(e){var i=[],l=e?this.columns:this.columnsByIndex;return l.forEach(n=>{i.push(n.getComponent())}),i}getWidth(){var e=0;return this.columnsByIndex.forEach(i=>{i.visible&&(e+=i.getWidth())}),e}moveColumn(e,i,l){i.element.parentNode.insertBefore(e.element,i.element),l&&i.element.parentNode.insertBefore(i.element,e.element),this.moveColumnActual(e,i,l),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(e,i,l){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,i,l):this._moveColumnInArray(this.columns,e,i,l),this._moveColumnInArray(this.columnsByIndex,e,i,l,!0),this.rerenderColumns(!0),this.dispatch("column-moved",e,i,l),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(e,i,l,n,r){var u=e.indexOf(i),d,p=[];u>-1&&(e.splice(u,1),d=e.indexOf(l),d>-1?n&&(d=d+1):d=u,e.splice(d,0,i),r&&(p=this.chain("column-moving-rows",[i,l,n],null,[])||[],p=p.concat(this.table.rowManager.rows),p.forEach(function(m){if(m.cells.length){var g=m.cells.splice(u,1)[0];m.cells.splice(d,0,g)}})))}scrollToColumn(e,i,l){var n=0,r=e.getLeftOffset(),u=0,d=e.getElement();return new Promise((p,m)=>{if(typeof i>"u"&&(i=this.table.options.scrollToColumnPosition),typeof l>"u"&&(l=this.table.options.scrollToColumnIfVisible),e.visible){switch(i){case"middle":case"center":u=-this.element.clientWidth/2;break;case"right":u=d.clientWidth-this.headersElement.clientWidth;break}if(!l&&r>0&&r+d.offsetWidth<this.element.clientWidth)return!1;n=r+u,n=Math.max(Math.min(n,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(n),this.scrollHorizontal(n),p()}else console.warn("Scroll Error - Column not visible"),m("Scroll Error - Column not visible")})}generateCells(e){var i=[];return this.columnsByIndex.forEach(l=>{i.push(l.generateCell(e))}),i}getFlexBaseWidth(){var e=this.table.element.clientWidth,i=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(l){var n,r,u;l.visible&&(n=l.definition.width||0,r=parseInt(l.minWidth),typeof n=="string"?n.indexOf("%")>-1?u=e/100*parseInt(n):u=parseInt(n):u=n,i+=u>r?u:r)}),i}addColumn(e,i,l){return new Promise((n,r)=>{var u=this._addColumn(e,i,l);this._reIndexColumns(),this.dispatch("column-add",e,i,l),this.layoutMode()!="fitColumns"&&u.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),n(u)})}deregisterColumn(e){var i=e.getField(),l;i&&delete this.columnsByField[i],l=this.columnsByIndex.indexOf(e),l>-1&&this.columnsByIndex.splice(l,1),l=this.columns.indexOf(e),l>-1&&this.columns.splice(l,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(e,i){this.redrawBlock?(e===!1||e===!0&&this.redrawBlockUpdate===null)&&(this.redrawBlockUpdate=e):this.renderer.rerenderColumns(e,i)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(e){Se.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(e),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}class Dy extends Oa{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}renderRows(){var e=this.tableElement,i=!0,l=document.createDocumentFragment(),n=this.rows();n.forEach((r,u)=>{this.styleRow(r,u),r.initialize(!1,!0),r.type!=="group"&&(i=!1),l.appendChild(r.getElement())}),e.appendChild(l),n.forEach(r=>{r.rendered(),r.heightInitialized||r.calcHeight(!0)}),n.forEach(r=>{r.heightInitialized||r.setCellHeight()}),i?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}rerenderRows(e){this.clearRows(),e&&e(),this.renderRows(),this.rows().length||this.table.rowManager.tableEmpty()}scrollToRowNearestTop(e){var i=Se.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-i)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-i))}scrollToRow(e){var i=e.getElement();this.elementVertical.scrollTop=Se.elOffset(i).top-Se.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(e){return this.rows()}}class zy extends Oa{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(e){for(var i=this.elementVertical.scrollTop,l=!1,n=!1,r=this.table.rowManager.scrollLeft,u=this.rows(),d=this.vDomTop;d<=this.vDomBottom;d++)if(u[d]){var p=i-u[d].getElement().offsetTop;if(n===!1||Math.abs(p)<n)n=p,l=d;else break}u.forEach(m=>{m.deinitializeHeight()}),e&&e(),this.rows().length?this._virtualRenderFill(l===!1?this.rows.length-1:l,!0,n||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(r)}scrollColumns(e){this.table.rowManager.scrollHorizontal(e)}scrollRows(e,i){var l=e-this.vDomScrollPosTop,n=e-this.vDomScrollPosBottom,r=this.vDomWindowBuffer*2,u=this.rows();if(this.scrollTop=e,-l>r||n>r){var d=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*u.length)),this.scrollColumns(d)}else i?(l<0&&this._addTopRow(u,-l),n<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(u,-n):this.vDomScrollPosBottom=this.scrollTop)):(n>=0&&this._addBottomRow(u,n),l>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(u,l):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(e){var i=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-i)>Math.abs(this.vDomBottom-i))}scrollToRow(e){var i=this.rows().indexOf(e);i>-1&&this._virtualRenderFill(i,!0)}visibleRows(e){var i=this.elementVertical.scrollTop,l=this.elementVertical.clientHeight+i,n=!1,r=0,u=0,d=this.rows();if(e)r=this.vDomTop,u=this.vDomBottom;else for(var p=this.vDomTop;p<=this.vDomBottom;p++)if(d[p])if(n)if(l-d[p].getElement().offsetTop>=0)u=p;else break;else if(i-d[p].getElement().offsetTop>=0)r=p;else if(n=!0,l-d[p].getElement().offsetTop>=0)u=p;else break;return d.slice(r,u+1)}_virtualRenderFill(e,i,l){var n=this.tableElement,r=this.elementVertical,u=0,d=0,p=0,m=0,g=0,w=0,y=this.rows(),E=y.length,T=0,k,H,M=[],U=0,P=0,K=this.table.rowManager.fixedHeight,j=this.elementVertical.clientHeight,he=this.table.options.rowHeight,me=!0;if(e=e||0,l=l||0,!e)this.clear();else{for(;n.firstChild;)n.removeChild(n.firstChild);m=(E-e+1)*this.vDomRowHeight,m<j&&(e-=Math.ceil((j-m)/this.vDomRowHeight),e<0&&(e=0)),u=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e),e-=u}if(E&&Se.elVisible(this.elementVertical)){for(this.vDomTop=e,this.vDomBottom=e-1,K||this.table.options.maxHeight?(he&&(P=j/he+this.vDomWindowBuffer/he),P=Math.max(this.vDomWindowMinTotalRows,Math.ceil(P))):P=E;(P==E||d<=j+this.vDomWindowBuffer||U<this.vDomWindowMinTotalRows)&&this.vDomBottom<E-1;){for(M=[],H=document.createDocumentFragment(),w=0;w<P&&this.vDomBottom<E-1;)T=this.vDomBottom+1,k=y[T],this.styleRow(k,T),k.initialize(!1,!0),!k.heightInitialized&&!this.table.options.rowHeight&&k.clearCellHeight(),H.appendChild(k.getElement()),M.push(k),this.vDomBottom++,w++;if(!M.length)break;n.appendChild(H),M.forEach(re=>{re.rendered(),re.heightInitialized||re.calcHeight(!0)}),M.forEach(re=>{re.heightInitialized||re.setCellHeight()}),M.forEach(re=>{p=re.getHeight(),U<u?g+=p:d+=p,p>this.vDomWindowBuffer&&(this.vDomWindowBuffer=p*2),U++}),me=this.table.rowManager.adjustTableSize(),j=this.elementVertical.clientHeight,me&&(K||this.table.options.maxHeight)&&(he=d/U,P=Math.max(this.vDomWindowMinTotalRows,Math.ceil(j/he+this.vDomWindowBuffer/he)))}e?(this.vDomTopPad=i?this.vDomRowHeight*this.vDomTop+l:this.scrollTop-g,this.vDomBottomPad=this.vDomBottom==E-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-d-g,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((d+g)/U),this.vDomBottomPad=this.vDomRowHeight*(E-this.vDomBottom-1),this.vDomScrollHeight=g+d+this.vDomBottomPad-j),n.style.paddingTop=this.vDomTopPad+"px",n.style.paddingBottom=this.vDomBottomPad+"px",i&&(this.scrollTop=this.vDomTopPad+g+l-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-j:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-j),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&i&&(this.scrollTop+=this.elementVertical.offsetHeight-j),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,r.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(e,i){for(var l=this.tableElement,n=[],r=0,u=this.vDomTop-1,d=0,p=!0;p;)if(this.vDomTop){let m=e[u],g,w;m&&d<this.vDomMaxRenderChain?(g=m.getHeight()||this.vDomRowHeight,w=m.initialized,i>=g?(this.styleRow(m,u),l.insertBefore(m.getElement(),l.firstChild),(!m.initialized||!m.heightInitialized)&&n.push(m),m.initialize(),w||(g=m.getElement().offsetHeight,g>this.vDomWindowBuffer&&(this.vDomWindowBuffer=g*2)),i-=g,r+=g,this.vDomTop--,u--,d++):p=!1):p=!1}else p=!1;for(let m of n)m.clearCellHeight();this._quickNormalizeRowHeight(n),r&&(this.vDomTopPad-=r,this.vDomTopPad<0&&(this.vDomTopPad=u*this.vDomRowHeight),u<1&&(this.vDomTopPad=0),l.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=r)}_removeTopRow(e,i){for(var l=[],n=0,r=0,u=!0;u;){let d=e[this.vDomTop],p;d&&r<this.vDomMaxRenderChain?(p=d.getHeight()||this.vDomRowHeight,i>=p?(this.vDomTop++,i-=p,n+=p,l.push(d),r++):u=!1):u=!1}for(let d of l){let p=d.getElement();p.parentNode&&p.parentNode.removeChild(p)}n&&(this.vDomTopPad+=n,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?n:n+this.vDomWindowBuffer)}_addBottomRow(e,i){for(var l=this.tableElement,n=[],r=0,u=this.vDomBottom+1,d=0,p=!0;p;){let m=e[u],g,w;m&&d<this.vDomMaxRenderChain?(g=m.getHeight()||this.vDomRowHeight,w=m.initialized,i>=g?(this.styleRow(m,u),l.appendChild(m.getElement()),(!m.initialized||!m.heightInitialized)&&n.push(m),m.initialize(),w||(g=m.getElement().offsetHeight,g>this.vDomWindowBuffer&&(this.vDomWindowBuffer=g*2)),i-=g,r+=g,this.vDomBottom++,u++,d++):p=!1):p=!1}for(let m of n)m.clearCellHeight();this._quickNormalizeRowHeight(n),r&&(this.vDomBottomPad-=r,(this.vDomBottomPad<0||u==e.length-1)&&(this.vDomBottomPad=0),l.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=r)}_removeBottomRow(e,i){for(var l=[],n=0,r=0,u=!0;u;){let d=e[this.vDomBottom],p;d&&r<this.vDomMaxRenderChain?(p=d.getHeight()||this.vDomRowHeight,i>=p?(this.vDomBottom--,i-=p,n+=p,l.push(d),r++):u=!1):u=!1}for(let d of l){let p=d.getElement();p.parentNode&&p.parentNode.removeChild(p)}n&&(this.vDomBottomPad+=n,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=n)}_quickNormalizeRowHeight(e){for(let i of e)i.calcHeight();for(let i of e)i.setCellHeight()}}class Ly extends Xe{constructor(e){super(e),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e}createTableElement(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}initializePlaceholder(){var e=this.table.options.placeholder;if(typeof e=="function"&&(e=e.call(this.table)),e=this.chain("placeholder",[e],e,e)||e,e){let i=document.createElement("div");if(i.classList.add("tabulator-placeholder"),typeof e=="string"){let l=document.createElement("div");l.classList.add("tabulator-placeholder-contents"),l.innerHTML=e,i.appendChild(l),this.placeholderContents=l}else typeof HTMLElement<"u"&&e instanceof HTMLElement?(i.appendChild(e),this.placeholderContents=e):(console.warn("Invalid placeholder provided, must be string or HTML Element",e),this.el=null);this.placeholder=i}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var e=this.element.scrollLeft,i=this.scrollLeft>e,l=this.element.scrollTop,n=this.scrollTop>l;this.scrollLeft!=e&&(this.scrollLeft=e,this.dispatch("scroll-horizontal",e,i),this.dispatchExternal("scrollHorizontal",e,i),this._positionPlaceholder()),this.scrollTop!=l&&(this.scrollTop=l,this.renderer.scrollRows(l,n),this.dispatch("scroll-vertical",l,n),this.dispatchExternal("scrollVertical",l,n))})}findRow(e){if(typeof e=="object"){if(e instanceof Je)return e;if(e instanceof Aa)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return this.rows.find(l=>l.getElement()===e)||!1;if(e===null)return!1}else return typeof e>"u"?!1:this.rows.find(l=>l.data[this.table.options.index]==e)||!1;return!1}getRowFromDataObject(e){var i=this.rows.find(l=>l.data===e);return i||!1}getRowFromPosition(e){return this.getDisplayRows().find(i=>i.type==="row"&&i.getPosition()===e&&i.isDisplayed())}scrollToRow(e,i,l){return this.renderer.scrollToRowPosition(e,i,l)}setData(e,i,l){return new Promise((n,r)=>{i&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(e,!0):this.reRenderInPosition(()=>{this._setDataActual(e)}):(this.table.options.autoColumns&&l&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(e),this.resetScroll(),this._setDataActual(e)),n()})}_setDataActual(e,i){this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach((l,n)=>{if(l&&typeof l=="object"){var r=new Je(l,this);this.rows.push(r)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",l)}),this.refreshActiveData(!1,!1,i),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error(`Data Loading Error - Unable to process data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach(e=>{e.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(e,i){var l=this.rows.indexOf(e),n=this.activeRows.indexOf(e);n>-1&&this.activeRows.splice(n,1),l>-1&&this.rows.splice(l,1),this.setActiveRows(this.activeRows),this.displayRowIterator(r=>{var u=r.indexOf(e);u>-1&&r.splice(u,1)}),i||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(e,i,l,n){var r=this.addRowActual(e,i,l,n);return r}addRows(e,i,l,n){var r=[];return new Promise((u,d)=>{i=this.findAddRowPos(i),Array.isArray(e)||(e=[e]),(typeof l>"u"&&i||typeof l<"u"&&!i)&&e.reverse(),e.forEach((p,m)=>{var g=this.addRow(p,i,l,!0);r.push(g),this.dispatch("row-added",g,p,i,l)}),this.refreshActiveData(n?"displayPipeline":!1,!1,!0),this.regenerateRowPositions(),this.displayRowsCount&&this._clearPlaceholder(),u(r)})}findAddRowPos(e){return typeof e>"u"&&(e=this.table.options.addRowPos),e==="pos"&&(e=!0),e==="bottom"&&(e=!1),e}addRowActual(e,i,l,n){var r=e instanceof Je?e:new Je(e||{},this),u=this.findAddRowPos(i),d=-1,p,m;return l||(m=this.chain("row-adding-position",[r,u],null,{index:l,top:u}),l=m.index,u=m.top),typeof l<"u"&&(l=this.findRow(l)),l=this.chain("row-adding-index",[r,l,u],null,l),l&&(d=this.rows.indexOf(l)),l&&d>-1?(p=this.activeRows.indexOf(l),this.displayRowIterator(function(g){var w=g.indexOf(l);w>-1&&g.splice(u?w:w+1,0,r)}),p>-1&&this.activeRows.splice(u?p:p+1,0,r),this.rows.splice(u?d:d+1,0,r)):u?(this.displayRowIterator(function(g){g.unshift(r)}),this.activeRows.unshift(r),this.rows.unshift(r)):(this.displayRowIterator(function(g){g.push(r)}),this.activeRows.push(r),this.rows.push(r)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",r.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),n||this.reRenderInPosition(),r}moveRow(e,i,l){this.dispatch("row-move",e,i,l),this.moveRowActual(e,i,l),this.regenerateRowPositions(),this.dispatch("row-moved",e,i,l),this.dispatchExternal("rowMoved",e.getComponent())}moveRowActual(e,i,l){this.moveRowInArray(this.rows,e,i,l),this.moveRowInArray(this.activeRows,e,i,l),this.displayRowIterator(n=>{this.moveRowInArray(n,e,i,l)}),this.dispatch("row-moving",e,i,l)}moveRowInArray(e,i,l,n){var r,u,d,p;if(i!==l&&(r=e.indexOf(i),r>-1&&(e.splice(r,1),u=e.indexOf(l),u>-1?n?e.splice(u+1,0,i):e.splice(u,0,i):e.splice(r,0,i)),e===this.getDisplayRows())){d=r<u?r:u,p=u>r?u:r+1;for(let m=d;m<=p;m++)e[m]&&this.styleRow(e[m],m)}}clearData(){this.setData([])}getRowIndex(e){return this.findRowIndex(e,this.rows)}getDisplayRowIndex(e){var i=this.getDisplayRows().indexOf(e);return i>-1?i:!1}nextDisplayRow(e,i){var l=this.getDisplayRowIndex(e),n=!1;return l!==!1&&l<this.displayRowsCount-1&&(n=this.getDisplayRows()[l+1]),n&&(!(n instanceof Je)||n.type!="row")?this.nextDisplayRow(n,i):n}prevDisplayRow(e,i){var l=this.getDisplayRowIndex(e),n=!1;return l&&(n=this.getDisplayRows()[l-1]),i&&n&&(!(n instanceof Je)||n.type!="row")?this.prevDisplayRow(n,i):n}findRowIndex(e,i){var l;return e=this.findRow(e),e&&(l=i.indexOf(e),l>-1)?l:!1}getData(e,i){var l=[],n=this.getRows(e);return n.forEach(function(r){r.type=="row"&&l.push(r.getData(i||"data"))}),l}getComponents(e){var i=[],l=this.getRows(e);return l.forEach(function(n){i.push(n.getComponent())}),i}getDataCount(e){var i=this.getRows(e);return i.length}scrollHorizontal(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}registerDataPipelineHandler(e,i){typeof i<"u"?(this.dataPipeline.push({handler:e,priority:i}),this.dataPipeline.sort((l,n)=>l.priority-n.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(e,i){typeof i<"u"?(this.displayPipeline.push({handler:e,priority:i}),this.displayPipeline.sort((l,n)=>l.priority-n.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(e,i,l){var n=this.table,r="",u=0,d=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if(typeof e=="function")if(u=this.dataPipeline.findIndex(p=>p.handler===e),u>-1)r="dataPipeline",i&&(u==this.dataPipeline.length-1?r="display":u++);else if(u=this.displayPipeline.findIndex(p=>p.handler===e),u>-1)r="displayPipeline",i&&(u==this.displayPipeline.length-1?r="end":u++);else{console.error("Unable to refresh data, invalid handler provided",e);return}else r=e||"all",u=0;if(this.redrawBlock){(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===r&&u<this.redrawBlockRestoreConfig.index||d.indexOf(r)<d.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:i,renderInPosition:l,stage:r,index:u});return}else Se.elVisible(this.element)?l?this.reRenderInPosition(this.refreshPipelines.bind(this,e,r,u,l)):(this.refreshPipelines(e,r,u,l),e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),n.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(e,r,u,l),this.dispatch("data-refreshed")}}refreshPipelines(e,i,l,n){switch(this.dispatch("data-refreshing"),(!e||!this.activeRowsPipeline[0])&&(this.activeRowsPipeline[0]=this.rows.slice(0)),i){case"all":case"dataPipeline":for(let r=l;r<this.dataPipeline.length;r++){let u=this.dataPipeline[r].handler(this.activeRowsPipeline[r].slice(0));this.activeRowsPipeline[r+1]=u||this.activeRowsPipeline[r].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":l=0,this.resetDisplayRows();case"displayPipeline":for(let r=l;r<this.displayPipeline.length;r++){let u=this.displayPipeline[r].handler((r?this.getDisplayRows(r-1):this.activeRows).slice(0),n);this.setDisplayRows(u||this.getDisplayRows(r-1).slice(0),r)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var e=this.getDisplayRows(),i=1;e.forEach(l=>{l.type==="row"&&(l.setPosition(i),i++)})}setActiveRows(e){this.activeRows=this.activeRows=Object.assign([],e),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(e,i){this.displayRows[i]=e,i==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(e){return typeof e>"u"?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}getVisibleRows(e,i){var l=Object.assign([],this.renderer.visibleRows(!i));return e&&(l=this.chain("rows-visible",[i],l,l)),l}displayRowIterator(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(e){var i=[];switch(e){case"active":i=this.activeRows;break;case"display":i=this.table.rowManager.getDisplayRows();break;case"visible":i=this.getVisibleRows(!1,!0);break;default:i=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return i}reRenderInPosition(e){this.redrawBlock?e?e():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(e),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var e=0;this.element.scrollHeight>this.element.clientHeight&&(e=this.element.offsetWidth-this.element.clientWidth),e!==this.scrollbarWidth&&(this.scrollbarWidth=e,this.dispatch("scrollbar-vertical",e))}initializeRenderer(){var e,i={virtual:zy,basic:Dy};typeof this.table.options.renderVertical=="string"?e=i[this.table.options.renderVertical]:e=this.table.options.renderVertical,e?(this.renderMode=this.table.options.renderVertical,this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),(this.table.element.clientHeight||this.table.options.height)&&!(this.table.options.minHeight&&this.table.options.maxHeight)?this.fixedHeight=!0:this.fixedHeight=!1):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}checkPlaceholder(){this.displayRowsCount?this._clearPlaceholder():this.tableEmpty()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(e,i){var l=e.getElement();i%2?(l.classList.add("tabulator-row-even"),l.classList.remove("tabulator-row-odd")):(l.classList.add("tabulator-row-odd"),l.classList.remove("tabulator-row-even"))}normalizeHeight(e){this.activeRows.forEach(function(i){i.normalizeHeight(e)})}adjustTableSize(){let e=this.element.clientHeight,i,l=!1;if(this.renderer.verticalFillMode==="fill"){let n=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){i=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const r="calc(100% - "+n+"px)";this.element.style.minHeight=i||"calc(100% - "+n+"px)",this.element.style.height=r,this.element.style.maxHeight=r}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-n+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),!this.fixedHeight&&e!=this.element.clientHeight&&(l=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),l}reinitialize(){this.rows.forEach(function(e){e.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(e){this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,this.table.browser==="ie"){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}class ky extends Xe{constructor(e){super(e),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}createContainerElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer-contents"),this.element.appendChild(e),e}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":this.table.options.footerElement[0]==="<"?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}}getElement(){return this.element}append(e){this.activate(),this.containerElement.appendChild(e),this.table.rowManager.adjustTableSize()}prepend(e){this.activate(),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(e){e.parentNode.removeChild(e),this.deactivate()}deactivate(e){(!this.element.firstChild||e)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class Ay extends Xe{constructor(e){super(e),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var e={};this.listeners.forEach(i=>{e[i]={handler:null,components:[]}}),this.listeners=e}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(e=>{this.pseudoTrackers[e].subscriber=this.pseudoMouseEnter.bind(this,e),this.subscribe(e+"-mouseover",this.pseudoTrackers[e].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(e,i,l){this.pseudoTrackers[e].target!==l&&(this.pseudoTrackers[e].target&&this.dispatch(e+"-mouseleave",i,this.pseudoTrackers[e].target),this.pseudoMouseLeave(e,i),this.pseudoTrackers[e].target=l,this.dispatch(e+"-mouseenter",i,l))}pseudoMouseLeave(e,i){var l=Object.keys(this.pseudoTrackers),n={row:["cell"],cell:["row"]};l=l.filter(r=>{var u=n[e];return r!==e&&(!u||u&&!u.includes(r))}),l.forEach(r=>{var u=this.pseudoTrackers[r].target;this.pseudoTrackers[r].target&&(this.dispatch(r+"-mouseleave",i,u),this.pseudoTrackers[r].target=null)})}bindSubscriptionWatchers(){var e=Object.keys(this.listeners),i=Object.values(this.componentMap);for(let l of i)for(let n of e){let r=l+"-"+n;this.subscriptionChange(r,this.subscriptionChanged.bind(this,l,n))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(e,i,l){var n=this.listeners[i].components,r=n.indexOf(e),u=!1;l?r===-1&&(n.push(e),u=!0):this.subscribed(e+"-"+i)||r>-1&&(n.splice(r,1),u=!0),(i==="mouseenter"||i==="mouseleave")&&!this.pseudoTracking&&this.bindPseudoEvents(),u&&this.updateEventListeners()}updateEventListeners(){for(let e in this.listeners){let i=this.listeners[e];i.components.length?i.handler||(i.handler=this.track.bind(this,e),this.el.addEventListener(e,i.handler)):i.handler&&(this.el.removeEventListener(e,i.handler),i.handler=null)}}track(e,i){var l=i.composedPath&&i.composedPath()||i.path,n=this.findTargets(l);n=this.bindComponents(e,n),this.triggerEvents(e,i,n),this.pseudoTracking&&(e=="mouseover"||e=="mouseleave")&&!Object.keys(n).length&&this.pseudoMouseLeave("none",i)}findTargets(e){var i={};let l=Object.keys(this.componentMap);for(let n of e){let r=n.classList?[...n.classList]:[];if(r.filter(p=>this.abortClasses.includes(p)).length)break;let d=r.filter(p=>l.includes(p));for(let p of d)i[this.componentMap[p]]||(i[this.componentMap[p]]=n)}return i.group&&i.group===i.row&&delete i.row,i}bindComponents(e,i){var l=Object.keys(i).reverse(),n=this.listeners[e],r={},u={},d={};for(let p of l){let m,g=i[p],w=this.previousTargets[p];if(w&&w.target===g)m=w.component;else switch(p){case"row":case"group":(n.components.includes("row")||n.components.includes("cell")||n.components.includes("group"))&&(m=this.table.rowManager.getVisibleRows(!0).find(E=>E.getElement()===g),i.row&&i.row.parentNode&&i.row.parentNode.closest(".tabulator-row")&&(i[p]=!1));break;case"column":n.components.includes("column")&&(m=this.table.columnManager.findColumn(g));break;case"cell":n.components.includes("cell")&&(r.row instanceof Je?m=r.row.findCell(g):i.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"));break}m&&(r[p]=m,d[p]={target:g,component:m})}return this.previousTargets=d,Object.keys(i).forEach(p=>{let m=r[p];u[p]=m}),u}triggerEvents(e,i,l){var n=this.listeners[e];for(let r in l)l[r]&&n.components.includes(r)&&this.dispatch(r+"-"+e,i,l[r])}clearWatchers(){for(let e in this.listeners){let i=this.listeners[e];i.handler&&(this.el.removeEventListener(e,i.handler),i.handler=null)}}}class Hy{constructor(e){this.table=e,this.bindings={}}bind(e,i,l){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][i]?console.warn("Unable to bind component handler, a matching function name is already bound",e,i,l):this.bindings[e][i]=l}handle(e,i,l){if(this.bindings[e]&&this.bindings[e][l]&&typeof this.bindings[e][l].bind=="function")return this.bindings[e][l].bind(null,i);l!=="then"&&typeof l=="string"&&!l.startsWith("_")&&this.table.options.debugInvalidComponentFuncs&&console.error("The "+e+" component does not have a "+l+" function, have you checked that you have the correct Tabulator module installed?")}}class Oy extends Xe{constructor(e){super(e),this.requestOrder=0,this.loading=!1}initialize(){}load(e,i,l,n,r,u){var d=++this.requestOrder;if(this.table.destroyed)return Promise.resolve();if(this.dispatchExternal("dataLoading",e),e&&(e.indexOf("{")==0||e.indexOf("[")==0)&&(e=JSON.parse(e)),this.confirm("data-loading",[e,i,l,r])){this.loading=!0,r||this.alertLoader(),i=this.chain("data-params",[e,l,r],i||{},i||{}),i=this.mapParams(i,this.table.options.dataSendParams);var p=this.chain("data-load",[e,i,l,r],!1,Promise.resolve([]));return p.then(m=>{if(this.table.destroyed)console.warn("Data Load Response Blocked - Table has been destroyed");else{!Array.isArray(m)&&typeof m=="object"&&(m=this.mapParams(m,this.objectInvert(this.table.options.dataReceiveParams)));var g=this.chain("data-loaded",[m],null,m);d==this.requestOrder?(this.clearAlert(),g!==!1&&(this.dispatchExternal("dataLoaded",g),this.table.rowManager.setData(g,n,typeof u>"u"?!n:u))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}}).catch(m=>{console.error("Data Load Error: ",m),this.dispatchExternal("dataLoadError",m),r||this.alertError(),setTimeout(()=>{this.clearAlert()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})}else return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,n,typeof u>"u"?!n:u),Promise.resolve()}mapParams(e,i){var l={};for(let n in e)l[i.hasOwnProperty(n)?i[n]:n]=e[n];return l}objectInvert(e){var i={};for(let l in e)i[e[l]]=l;return i}blockActiveLoad(){this.requestOrder++}alertLoader(){var e=typeof this.table.options.dataLoader=="function"?this.table.options.dataLoader():this.table.options.dataLoader;e&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class _y{constructor(e,i,l){this.table=e,this.events={},this.optionsList=i||{},this.subscriptionNotifiers={},this.dispatch=l?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=l}subscriptionChange(e,i){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(i),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,i){this.events[e]||(this.events[e]=[]),this.events[e].push(i),this._notifySubscriptionChange(e,!0)}unsubscribe(e,i){var l;if(this.events[e])if(i)if(l=this.events[e].findIndex(n=>n===i),l>-1)this.events[e].splice(l,1);else{console.warn("Cannot remove event, no matching event found:",e,i);return}else delete this.events[e];else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_notifySubscriptionChange(e,i){var l=this.subscriptionNotifiers[e];l&&l.forEach(n=>{n(i)})}_dispatch(){var e=Array.from(arguments),i=e.shift(),l;return this.events[i]&&this.events[i].forEach((n,r)=>{let u=n.apply(this.table,e);r||(l=u)}),l}_debugDispatch(){var e=Array.from(arguments),i=e[0];return e[0]="ExternalEvent:"+e[0],(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._dispatch(...arguments)}}class By{constructor(e){this.events={},this.subscriptionNotifiers={},this.dispatch=e?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=e?this._debugChain.bind(this):this._chain.bind(this),this.confirm=e?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=e}subscriptionChange(e,i){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(i),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,i,l=1e4){this.events[e]||(this.events[e]=[]),this.events[e].push({callback:i,priority:l}),this.events[e].sort((n,r)=>n.priority-r.priority),this._notifySubscriptionChange(e,!0)}unsubscribe(e,i){var l;if(this.events[e]){if(i)if(l=this.events[e].findIndex(n=>n.callback===i),l>-1)this.events[e].splice(l,1);else{console.warn("Cannot remove event, no matching event found:",e,i);return}}else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_chain(e,i,l,n){var r=l;return Array.isArray(i)||(i=[i]),this.subscribed(e)?(this.events[e].forEach((u,d)=>{r=u.callback.apply(this,i.concat([r]))}),r):typeof n=="function"?n():n}_confirm(e,i){var l=!1;return Array.isArray(i)||(i=[i]),this.subscribed(e)&&this.events[e].forEach((n,r)=>{n.callback.apply(this,i)&&(l=!0)}),l}_notifySubscriptionChange(e,i){var l=this.subscriptionNotifiers[e];l&&l.forEach(n=>{n(i)})}_dispatch(){var e=Array.from(arguments),i=e.shift();this.events[i]&&this.events[i].forEach(l=>{l.callback.apply(this,e)})}_debugDispatch(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._dispatch(...arguments)}_debugChain(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._chain(...arguments)}_debugConfirm(){var e=Array.from(arguments),i=e[0];return e[0]="InternalEvent:"+i,(this.debug===!0||this.debug.includes(i))&&console.log(...e),this._confirm(...arguments)}}class Ny extends Xe{constructor(e){super(e)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(e,i,l){var n="";return typeof this.options(e)<"u"?(n="Deprecated Setup Option - Use of the %c"+e+"%c option is now deprecated",i?(n=n+", Please use the %c"+i+"%c option instead",this._warnUser(n,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;"),l&&(this.table.options[i]=this.table.options[e])):this._warnUser(n,"font-weight: bold;","font-weight: normal;"),!1):!0}checkMsg(e,i){return typeof this.options(e)<"u"?(this._warnUser("%cDeprecated Setup Option - Use of the %c"+e+" %c option is now deprecated, "+i,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1):!0}msg(e){this._warnUser(e)}}class Fy extends Xe{constructor(e){super(e),this.deps={},this.props={}}initialize(){this.deps=Object.assign({},this.options("dependencies"))}lookup(e,i,l){if(Array.isArray(e)){for(const r of e){var n=this.lookup(r,i,!0);if(n)break}if(n)return n;this.error(e)}else return i?this.lookupProp(e,i,l):this.lookupKey(e,l)}lookupProp(e,i,l){var n;if(this.props[e]&&this.props[e][i])return this.props[e][i];if(n=this.lookupKey(e,l),n)return this.props[e]||(this.props[e]={}),this.props[e][i]=n[i]||n,this.props[e][i]}lookupKey(e,i){var l;return this.deps[e]?l=this.deps[e]:window[e]?(this.deps[e]=window[e],l=this.deps[e]):i||this.error(e),l}error(e){console.error("Unable to find dependency",e,"Please check documentation and ensure you have imported the required library into your project")}}function Vy(c,e){e&&this.table.columnManager.renderer.reinitializeColumnWidths(c),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function If(c,e){c.forEach(function(i){i.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Uy(c,e){var i=0,l=this.table.rowManager.element.clientWidth,n=0,r=!1;c.forEach((u,d)=>{u.widthFixed||u.reinitializeWidth(),(this.table.options.responsiveLayout?u.modules.responsive.visible:u.visible)&&(r=u),u.visible&&(i+=u.getWidth())}),r?(n=l-i+r.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(r.setWidth(0),this.table.modules.responsiveLayout.update()),n>0?r.setWidth(n):r.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Gy(c,e){var i=this.table.rowManager.element.getBoundingClientRect().width,l=0,n=0,r=0,u=0,d=[],p=[],m=0,g=0,w=0;function y(T){var k;return typeof T=="string"?T.indexOf("%")>-1?k=i/100*parseInt(T):k=parseInt(T):k=T,k}function E(T,k,H,M){var U=[],P=0,K=0,j=0,he=r,me=0,re=0,ve=[];function Ve(te){return H*(te.column.definition.widthGrow||1)}function $e(te){return y(te.width)-H*(te.column.definition.widthShrink||0)}return T.forEach(function(te,ri){var At=M?$e(te):Ve(te);te.column.minWidth>=At?U.push(te):te.column.maxWidth&&te.column.maxWidth<At?(te.width=te.column.maxWidth,k-=te.column.maxWidth,he-=M?te.column.definition.widthShrink||1:te.column.definition.widthGrow||1,he&&(H=Math.floor(k/he))):(ve.push(te),re+=M?te.column.definition.widthShrink||1:te.column.definition.widthGrow||1)}),U.length?(U.forEach(function(te){P+=M?te.width-te.column.minWidth:te.column.minWidth,te.width=te.column.minWidth}),K=k-P,j=re?Math.floor(K/re):K,me=E(ve,K,j,M)):(me=re?k-Math.floor(k/re)*re:k,ve.forEach(function(te){te.width=M?$e(te):Ve(te)})),me}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(i-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),c.forEach(function(T){var k,H,M;T.visible&&(k=T.definition.width,H=parseInt(T.minWidth),k?(M=y(k),l+=M>H?M:H,T.definition.widthShrink&&(p.push({column:T,width:M>H?M:H}),m+=T.definition.widthShrink)):(d.push({column:T,width:0}),r+=T.definition.widthGrow||1))}),n=i-l,u=Math.floor(n/r),w=E(d,n,u,!1),d.length&&w>0&&(d[d.length-1].width+=w),d.forEach(function(T){n-=T.width}),g=Math.abs(w)+n,g>0&&m&&(w=E(p,g,Math.floor(g/m),!0)),w&&p.length&&(p[p.length-1].width-=w),d.forEach(function(T){T.column.setWidth(T.width)}),p.forEach(function(T){T.column.setWidth(T.width)})}var jy={fitData:Vy,fitDataFill:If,fitDataTable:If,fitDataStretch:Uy,fitColumns:Gy};const Is=class Is extends le{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;Is.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){e.definition.widthGrow&&(e.definition.widthGrow=Number(e.definition.widthGrow)),e.definition.widthShrink&&(e.definition.widthShrink=Number(e.definition.widthShrink))}getMode(){return this.mode}layout(e){var i=this.table.columnManager.columnsByIndex.find(l=>l.definition.variableHeight||l.definition.formatter==="textarea");this.dispatch("layout-refreshing"),Is.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),i&&this.table.rowManager.normalizeHeight(!0),this.dispatch("layout-refreshed")}};G(Is,"moduleName","layout"),G(Is,"modes",jy);let Hu=Is;var Py={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};const an=class an extends le{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=Se.deepClone(an.langs),this.table.options.columnDefaults.headerFilterPlaceholder!==!1&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,i){this.langList[e]?this._setLangProp(this.langList[e],i):this.langList[e]=i}_setLangProp(e,i){for(let l in i)e[l]&&typeof e[l]=="object"?this._setLangProp(e[l],i[l]):e[l]=i[l]}setLocale(e){e=e||"default";function i(l,n){for(var r in l)typeof l[r]=="object"?(n[r]||(n[r]={}),i(l[r],n[r])):n[r]=l[r]}if(e===!0&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let l=e.split("-")[0];this.langList[l]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,l),e=l):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=Se.deepClone(this.langList.default||{}),e!="default"&&i(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,i){var l=i?e+"|"+i:e,n=l.split("|"),r=this._getLangElement(n,this.locale);return r||""}_getLangElement(e,i){var l=this.lang;return e.forEach(function(n){var r;l&&(r=l[n],typeof r<"u"?l=r:l=!1)}),l}bind(e,i){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(i),i(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(i=>{i(this.getText(e),this.lang)})}};G(an,"moduleName","localize"),G(an,"langs",Py);let Ou=an;class zp extends le{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var i=[],l;return l=this.table.constructor.registry.lookupTable(e),l.forEach(n=>{this.table!==n&&i.push(n)}),i}send(e,i,l,n){var r=this.getConnections(e);r.forEach(u=>{u.tableComms(this.table.element,i,l,n)}),!r.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,i,l,n){if(this.table.modExists(i))return this.table.modules[i].commsReceived(e,l,n);console.warn("Inter-table Comms Error - no such module:",i)}}G(zp,"moduleName","comms");var Wy=Object.freeze({__proto__:null,CommsModule:zp,LayoutModule:Hu,LocalizeModule:Ou});const bt=class bt{static findTable(e){var i=bt.registry.lookupTable(e,!0);return Array.isArray(i)&&!i.length?!1:i}};G(bt,"registry",{tables:[],register(e){bt.registry.tables.push(e)},deregister(e){var i=bt.registry.tables.indexOf(e);i>-1&&bt.registry.tables.splice(i,1)},lookupTable(e,i){var l=[],n,r;if(typeof e=="string"){if(n=document.querySelectorAll(e),n.length)for(var u=0;u<n.length;u++)r=bt.registry.matchElement(n[u]),r&&l.push(r)}else typeof HTMLElement<"u"&&e instanceof HTMLElement||e instanceof bt?(r=bt.registry.matchElement(e),r&&l.push(r)):Array.isArray(e)?e.forEach(function(d){l=l.concat(bt.registry.lookupTable(d))}):i||console.warn("Table Connection Error - Invalid Selector",e);return l},matchElement(e){return bt.registry.tables.find(function(i){return e instanceof bt?i===e:i.element===e})}});let _u=bt;const Ee=class Ee extends _u{constructor(){super()}static initializeModuleBinder(e){Ee.modulesRegistered||(Ee.modulesRegistered=!0,Ee._registerModules(Wy,!0),e&&Ee._registerModules(e))}static _extendModule(e,i,l){if(Ee.moduleBindings[e]){var n=Ee.moduleBindings[e][i];if(n)if(typeof l=="object")for(let r in l)n[r]=l[r];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",i)}else console.warn("Module Error - module does not exist:",e)}static _registerModules(e,i){var l=Object.values(e);i&&l.forEach(n=>{n.prototype.moduleCore=!0}),Ee._registerModule(l)}static _registerModule(e){Array.isArray(e)||(e=[e]),e.forEach(i=>{Ee._registerModuleBinding(i),Ee._registerModuleExtensions(i)})}static _registerModuleBinding(e){e.moduleName?Ee.moduleBindings[e.moduleName]=e:console.error("Unable to bind module, no moduleName defined",e.moduleName)}static _registerModuleExtensions(e){var i=e.moduleExtensions;if(e.moduleExtensions)for(let l in i){let n=i[l];if(Ee.moduleBindings[l])for(let r in n)Ee._extendModule(l,r,n[r]);else{Ee.moduleExtensions[l]||(Ee.moduleExtensions[l]={});for(let r in n)Ee.moduleExtensions[l][r]||(Ee.moduleExtensions[l][r]={}),Object.assign(Ee.moduleExtensions[l][r],n[r])}}Ee._extendModuleFromQueue(e)}static _extendModuleFromQueue(e){var i=Ee.moduleExtensions[e.moduleName];if(i)for(let l in i)Ee._extendModule(e.moduleName,l,i[l])}_bindModules(){var e=[],i=[],l=[];this.modules={};for(var n in Ee.moduleBindings){let r=Ee.moduleBindings[n],u=new r(this);this.modules[n]=u,r.prototype.moduleCore?this.modulesCore.push(u):r.moduleInitOrder?r.moduleInitOrder<0?e.push(u):i.push(u):l.push(u)}e.sort((r,u)=>r.moduleInitOrder>u.moduleInitOrder?1:-1),i.sort((r,u)=>r.moduleInitOrder>u.moduleInitOrder?1:-1),this.modulesRegular=e.concat(l.concat(i))}};G(Ee,"moduleBindings",{}),G(Ee,"moduleExtensions",{}),G(Ee,"modulesRegistered",!1),G(Ee,"defaultModules",!1);let Bu=Ee;class qy extends Xe{constructor(e){super(e),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert"),e}_createMsgElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert-msg"),e.setAttribute("role","alert"),e}_typeClass(){return"tabulator-alert-state-"+this.type}alert(e,i="msg"){if(e){for(this.clear(),this.dispatch("alert-show",i),this.type=i;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),typeof e=="function"&&(e=e()),e instanceof HTMLElement?this.msgElement.appendChild(e):this.msgElement.innerHTML=e,this.table.element.appendChild(this.element)}}clear(){this.dispatch("alert-hide",this.type),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}const si=class si extends Bu{static extendModule(){si.initializeModuleBinder(),si._extendModule(...arguments)}static registerModule(){si.initializeModuleBinder(),si._registerModule(...arguments)}constructor(e,i,l){super(),si.initializeModuleBinder(l),this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new Hy(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new Ny(this),this.optionsList=new Dp(this,"table constructor"),this.dependencyRegistry=new Fy(this),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(i),setTimeout(()=>{this._create()})),this.constructor.registry.register(this)}initializeElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement?(this.element=e,!0):typeof e=="string"?(this.element=document.querySelector(e),this.element?!0:(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new My(this),this.rowManager=new Ly(this),this.footerManager=new ky(this),this.dataLoader=new Oy(this),this.alertManager=new qy(this),this._bindModules(),this.options=this.optionsList.generate(si.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new _y(this,this.options,this.options.debugEventsExternal),this.eventBus=new By(this.options.debugEventsInternal),this.interactionMonitor=new Ay(this),this.dataLoader.initialize(),this.footerManager.initialize(),this.dependencyRegistry.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this.initialized=!0,this._loadInitialData().finally(()=>{this.eventBus.dispatch("table-initialized"),this.externalEvents.dispatch("tableBuilt")})}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if(e.direction!=="rtl")break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var e=this.element,i=this.options,l;if(e.tagName==="TABLE"){this.originalElement=this.element,l=document.createElement("div");var n=e.attributes;for(var r in n)typeof n[r]=="object"&&l.setAttribute(n[r].name,n[r].value);e.parentNode.replaceChild(l,e),this.element=e=l}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);i.height&&(i.height=isNaN(i.height)?i.height:i.height+"px",e.style.height=i.height),i.minHeight!==!1&&(i.minHeight=isNaN(i.minHeight)?i.minHeight:i.minHeight+"px",e.style.minHeight=i.minHeight),i.maxHeight!==!1&&(i.maxHeight=isNaN(i.maxHeight)?i.maxHeight:i.maxHeight+"px",e.style.maxHeight=i.maxHeight)}_initializeTable(){var e=this.element,i=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(l=>{l.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),i.footerElement&&this.footerManager.activate(),i.autoColumns&&i.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(l=>{l.initialize()}),this.columnManager.setColumns(i.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){return this.dataLoader.load(this.options.data).finally(()=>{this.columnManager.verticalAlignHeaders()})}destroy(){var e=this.element;for(this.destroyed=!0,this.constructor.registry.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,i){var l,n;return this.options.debugInitialization&&!this.initialized&&(e||(l=new Error().stack.split(`
`),n=l[0]=="Error"?l[2]:l[1],n[0]==" "?e=n.trim().split(" ")[1].split(".")[1]:e=n.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(i?" "+i:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,i,l){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,i,l,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,i,l){return this.initGuard(),this.dataLoader.load(e,i,l,!0,!0)}updateData(e){var i=0;return this.initGuard(),new Promise((l,n)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(r=>{var u=this.rowManager.findRow(r[this.options.index]);u?(i++,u.updateData(r).then(()=>{i--,i||l()}).catch(d=>{n("Update Error - Unable to update row",r,d)})):n("Update Error - Unable to find row",r)}):(console.warn("Update Error - No data provided"),n("Update Error - No data provided"))})}addData(e,i,l){return this.initGuard(),new Promise((n,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,i,l).then(u=>{var d=[];u.forEach(function(p){d.push(p.getComponent())}),n(d)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}updateOrAddData(e){var i=[],l=0;return this.initGuard(),new Promise((n,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(u=>{var d=this.rowManager.findRow(u[this.options.index]);l++,d?d.updateData(u).then(()=>{l--,i.push(d.getComponent()),l||n(i)}):this.rowManager.addRows(u).then(p=>{l--,i.push(p[0].getComponent()),l||n(i)})}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}getRow(e){var i=this.rowManager.findRow(e);return i?i.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var i=this.rowManager.getRowFromPosition(e);return i?i.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var i=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let l of e){let n=this.rowManager.findRow(l,!0);if(n)i.push(n);else return console.error("Delete Error - No matching row found:",l),Promise.reject("Delete Error - No matching row found")}return i.sort((l,n)=>this.rowManager.rows.indexOf(l)>this.rowManager.rows.indexOf(n)?1:-1),i.forEach(l=>{l.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,i,l){return this.initGuard(),typeof e=="string"&&(e=JSON.parse(e)),this.rowManager.addRows(e,i,l,!0).then(n=>n[0].getComponent())}updateOrAddRow(e,i){var l=this.rowManager.findRow(e);return this.initGuard(),typeof i=="string"&&(i=JSON.parse(i)),l?l.updateData(i).then(()=>l.getComponent()):this.rowManager.addRows(i).then(n=>n[0].getComponent())}updateRow(e,i){var l=this.rowManager.findRow(e);return this.initGuard(),typeof i=="string"&&(i=JSON.parse(i)),l?l.updateData(i).then(()=>Promise.resolve(l.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,i,l){var n=this.rowManager.findRow(e);return n?this.rowManager.scrollToRow(n,i,l):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,i,l){var n=this.rowManager.findRow(e);this.initGuard(),n?n.moveToRow(i,l):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var i=this.rowManager.findRow(e);return i?i.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var i=this.columnManager.findColumn(e);return i?i.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.show();else return console.warn("Column Show Error - No matching column found:",e),!1}hideColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.hide();else return console.warn("Column Hide Error - No matching column found:",e),!1}toggleColumn(e){var i=this.columnManager.findColumn(e);if(this.initGuard(),i)i.visible?i.hide():i.show();else return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1}addColumn(e,i,l){var n=this.columnManager.findColumn(l);return this.initGuard(),this.columnManager.addColumn(e,i,n).then(r=>r.getComponent())}deleteColumn(e){var i=this.columnManager.findColumn(e);return this.initGuard(),i?i.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,i){var l=this.columnManager.findColumn(e);return this.initGuard(),l?l.updateDefinition(i):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,i,l){var n=this.columnManager.findColumn(e),r=this.columnManager.findColumn(i);this.initGuard(),n?r?this.columnManager.moveColumn(n,r,l):console.warn("Move Error - No matching column found:",r):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,i,l){return new Promise((n,r)=>{var u=this.columnManager.findColumn(e);return u?this.columnManager.scrollToColumn(u,i,l):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw(!0)}on(e,i){this.externalEvents.subscribe(e,i)}off(e,i){this.externalEvents.unsubscribe(e,i)}dispatchEvent(){var e=Array.from(arguments);e.shift(),this.externalEvents.dispatch(...arguments)}alert(e,i){this.initGuard(),this.alertManager.alert(e,i)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,i){return this.modules[e]?!0:(i&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var i=this.modules[e];return i||console.error("Tabulator module not installed: "+e),i}};G(si,"defaultOptions",Ty);let Nu=si;var Jl=Nu;class Yy extends Jl{static extendModule(){Jl.initializeModuleBinder(ru),Jl._extendModule(...arguments)}static registerModule(){Jl.initializeModuleBinder(ru),Jl._registerModule(...arguments)}constructor(e,i,l){super(e,i,ru)}}var Xy=Yy;let Lp=null;function Qy(c){Lp=c}function Jf(){return Lp}async function $f(c,e=1,i=25){const n=await(await fetch(`${c}?page=${e}&size=${i}`)).json();if(n.status==="success")return{data:n.data,totalPages:n.totalPages,currentPage:n.currentPage};throw new Error(n.message||"Failed to fetch data")}async function Ky(c,e,i){const n=await(await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rowNumber:e,updatedValues:i})})).json();if(n.status!=="success")throw new Error(n.message||"Failed to update row");return n}const Zy=[{title:"unique_id",field:"unique_id"},{title:"class_date",field:"class_date"},{title:"date",field:"date"},{title:"day",field:"day",sorter:"string"},{title:"month",field:"month"},{title:"year",field:"year"},{title:"userid",field:"userid"},{title:"batchid",field:"batchid"},{title:"roomid",field:"roomid"},{title:"usercount",field:"usercount"},{title:"mentor_name",field:"mentor_name",sorter:"string"},{title:"mentor_pwid",field:"mentor_pwid"},{title:"mentor_email",field:"mentor_email",sorter:"string"},{title:"mentor_phone",field:"mentor_phone"},{title:"batch_name",field:"batch_name",sorter:"string"},{title:"student_name",field:"student_name",sorter:"string"},{title:"primarynumber",field:"primarynumber"},{title:"class",field:"class"},{title:"first_payment_date",field:"first_payment_date"},{title:"e-mandate",field:"e-mandate"},{title:"roll_no",field:"roll_no"},{title:"erp_id",field:"erp_id"},{title:"watchtime_in_minutes",field:"watchtime_in_minutes"},{title:"rating",field:"rating"},{title:"feedback",field:"feedback"},{title:"attendance",field:"attendance"},{title:"absent_count",field:"absent_count"}],ou="https://script.google.com/macros/s/AKfycbyxay9MtJma37qCr6O81ew7uReaQuTA3xCsE_nyW198vC8AP6d2wsYIwguE37q9IEA3/exec";function Iy(){const c=F.useRef(null),[e,i]=F.useState(1),[l,n]=F.useState(1),[r,u]=F.useState(!1);async function d(p){const m=Jf();m&&m.alert("Please wait, loading data..."),u(!0);try{const{data:g,totalPages:w,currentPage:y}=await $f(ou,p);m&&(await m.setData(g),n(w),i(y))}catch(g){m&&m.alert("Failed to load data","error",3e3),console.error("Failed to load page:",g)}finally{u(!1),m&&m.clearAlert()}}return F.useEffect(()=>{async function p(){if(c.current&&!Jf()){const{data:m,totalPages:g,currentPage:w}=await $f(ou,1),y=new Xy(c.current,{index:"unique_id",height:"80%",layout:"fitDataStretch",pagination:!1,data:m,columns:Zy,cellEdited:async E=>{const T=E.getRow().getData(),k=T.unique_id;try{await Ky(ou,k,T),console.log("Row updated successfully")}catch(H){console.log("Failed to update row: "+H.message)}}});Qy(y),n(g),i(w)}}return p(),()=>{}},[]),kt.jsxs("div",{children:[kt.jsxs("div",{style:{margin:"1rem"},children:[kt.jsx("div",{className:"alert alert-primary",role:"alert",children:"A simple primary alertcheck it out!"}),kt.jsx("button",{onClick:()=>d(e-1),disabled:r||e===1,children:"Previous"}),kt.jsxs("span",{style:{margin:"0 10px"},children:["Page ",e," of ",l]}),kt.jsx("button",{onClick:()=>d(e+1),disabled:r||e===l,children:"Next"})]}),kt.jsx("div",{ref:c,style:{margin:"1rem"}})]})}var $l={},ep;function Jy(){if(ep)return $l;ep=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.parse=u,$l.serialize=m;const c=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/,n=Object.prototype.toString,r=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function u(y,E){const T=new r,k=y.length;if(k<2)return T;const H=(E==null?void 0:E.decode)||g;let M=0;do{const U=y.indexOf("=",M);if(U===-1)break;const P=y.indexOf(";",M),K=P===-1?k:P;if(U>K){M=y.lastIndexOf(";",U-1)+1;continue}const j=d(y,M,U),he=p(y,U,j),me=y.slice(j,he);if(T[me]===void 0){let re=d(y,U+1,K),ve=p(y,K,re);const Ve=H(y.slice(re,ve));T[me]=Ve}M=K+1}while(M<k);return T}function d(y,E,T){do{const k=y.charCodeAt(E);if(k!==32&&k!==9)return E}while(++E<T);return T}function p(y,E,T){for(;E>T;){const k=y.charCodeAt(--E);if(k!==32&&k!==9)return E+1}return T}function m(y,E,T){const k=(T==null?void 0:T.encode)||encodeURIComponent;if(!c.test(y))throw new TypeError(`argument name is invalid: ${y}`);const H=k(E);if(!e.test(H))throw new TypeError(`argument val is invalid: ${E}`);let M=y+"="+H;if(!T)return M;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);M+="; Max-Age="+T.maxAge}if(T.domain){if(!i.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);M+="; Domain="+T.domain}if(T.path){if(!l.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);M+="; Path="+T.path}if(T.expires){if(!w(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);M+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(M+="; HttpOnly"),T.secure&&(M+="; Secure"),T.partitioned&&(M+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return M}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function w(y){return n.call(y)==="[object Date]"}return $l}Jy();var tp="popstate";function $y(c={}){function e(l,n){let{pathname:r,search:u,hash:d}=l.location;return Fu("",{pathname:r,search:u,hash:d},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function i(l,n){return typeof n=="string"?n:rn(n)}return tw(e,i,null,c)}function Fe(c,e){if(c===!1||c===null||typeof c>"u")throw new Error(e)}function Vt(c,e){if(!c){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ew(){return Math.random().toString(36).substring(2,10)}function ip(c,e){return{usr:c.state,key:c.key,idx:e}}function Fu(c,e,i=null,l){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof e=="string"?un(e):e,state:i,key:e&&e.key||l||ew()}}function rn({pathname:c="/",search:e="",hash:i=""}){return e&&e!=="?"&&(c+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(c+=i.charAt(0)==="#"?i:"#"+i),c}function un(c){let e={};if(c){let i=c.indexOf("#");i>=0&&(e.hash=c.substring(i),c=c.substring(0,i));let l=c.indexOf("?");l>=0&&(e.search=c.substring(l),c=c.substring(0,l)),c&&(e.pathname=c)}return e}function tw(c,e,i,l={}){let{window:n=document.defaultView,v5Compat:r=!1}=l,u=n.history,d="POP",p=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function w(){d="POP";let H=g(),M=H==null?null:H-m;m=H,p&&p({action:d,location:k.location,delta:M})}function y(H,M){d="PUSH";let U=Fu(k.location,H,M);m=g()+1;let P=ip(U,m),K=k.createHref(U);try{u.pushState(P,"",K)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;n.location.assign(K)}r&&p&&p({action:d,location:k.location,delta:1})}function E(H,M){d="REPLACE";let U=Fu(k.location,H,M);m=g();let P=ip(U,m),K=k.createHref(U);u.replaceState(P,"",K),r&&p&&p({action:d,location:k.location,delta:0})}function T(H){return iw(H)}let k={get action(){return d},get location(){return c(n,u)},listen(H){if(p)throw new Error("A history only accepts one active listener");return n.addEventListener(tp,w),p=H,()=>{n.removeEventListener(tp,w),p=null}},createHref(H){return e(n,H)},createURL:T,encodeLocation(H){let M=T(H);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:y,replace:E,go(H){return u.go(H)}};return k}function iw(c,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(i,"No window.location.(origin|href) available to create URL");let l=typeof c=="string"?c:rn(c);return l=l.replace(/ $/,"%20"),!e&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function kp(c,e,i="/"){return sw(c,e,i,!1)}function sw(c,e,i,l){let n=typeof e=="string"?un(e):e,r=ni(n.pathname||"/",i);if(r==null)return null;let u=Ap(c);lw(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let m=mw(r);d=fw(u[p],m,l)}return d}function Ap(c,e=[],i=[],l=""){let n=(r,u,d)=>{let p={relativePath:d===void 0?r.path||"":d,caseSensitive:r.caseSensitive===!0,childrenIndex:u,route:r};p.relativePath.startsWith("/")&&(Fe(p.relativePath.startsWith(l),`Absolute route path "${p.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(l.length));let m=li([l,p.relativePath]),g=i.concat(p);r.children&&r.children.length>0&&(Fe(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Ap(r.children,e,g,m)),!(r.path==null&&!r.index)&&e.push({path:m,score:cw(m,r.index),routesMeta:g})};return c.forEach((r,u)=>{var d;if(r.path===""||!((d=r.path)!=null&&d.includes("?")))n(r,u);else for(let p of Hp(r.path))n(r,u,p)}),e}function Hp(c){let e=c.split("/");if(e.length===0)return[];let[i,...l]=e,n=i.endsWith("?"),r=i.replace(/\?$/,"");if(l.length===0)return n?[r,""]:[r];let u=Hp(l.join("/")),d=[];return d.push(...u.map(p=>p===""?r:[r,p].join("/"))),n&&d.push(...u),d.map(p=>c.startsWith("/")&&p===""?"/":p)}function lw(c){c.sort((e,i)=>e.score!==i.score?i.score-e.score:dw(e.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var nw=/^:[\w-]+$/,aw=3,rw=2,ow=1,uw=10,hw=-2,sp=c=>c==="*";function cw(c,e){let i=c.split("/"),l=i.length;return i.some(sp)&&(l+=hw),e&&(l+=rw),i.filter(n=>!sp(n)).reduce((n,r)=>n+(nw.test(r)?aw:r===""?ow:uw),l)}function dw(c,e){return c.length===e.length&&c.slice(0,-1).every((l,n)=>l===e[n])?c[c.length-1]-e[e.length-1]:0}function fw(c,e,i=!1){let{routesMeta:l}=c,n={},r="/",u=[];for(let d=0;d<l.length;++d){let p=l[d],m=d===l.length-1,g=r==="/"?e:e.slice(r.length)||"/",w=ka({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),y=p.route;if(!w&&m&&i&&!l[l.length-1].route.index&&(w=ka({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!w)return null;Object.assign(n,w.params),u.push({params:n,pathname:li([r,w.pathname]),pathnameBase:yw(li([r,w.pathnameBase])),route:y}),w.pathnameBase!=="/"&&(r=li([r,w.pathnameBase]))}return u}function ka(c,e){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[i,l]=pw(c.path,c.caseSensitive,c.end),n=e.match(i);if(!n)return null;let r=n[0],u=r.replace(/(.)\/+$/,"$1"),d=n.slice(1);return{params:l.reduce((m,{paramName:g,isOptional:w},y)=>{if(g==="*"){let T=d[y]||"";u=r.slice(0,r.length-T.length).replace(/(.)\/+$/,"$1")}const E=d[y];return w&&!E?m[g]=void 0:m[g]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:r,pathnameBase:u,pattern:c}}function pw(c,e=!1,i=!0){Vt(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let l=[],n="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(l.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return c.endsWith("*")?(l.push({paramName:"*"}),n+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?n+="\\/*$":c!==""&&c!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),l]}function mw(c){try{return c.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),c}}function ni(c,e){if(e==="/")return c;if(!c.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,l=c.charAt(i);return l&&l!=="/"?null:c.slice(i)||"/"}function gw(c,e="/"){let{pathname:i,search:l="",hash:n=""}=typeof c=="string"?un(c):c;return{pathname:i?i.startsWith("/")?i:bw(i,e):e,search:ww(l),hash:Cw(n)}}function bw(c,e){let i=e.replace(/\/+$/,"").split("/");return c.split("/").forEach(n=>{n===".."?i.length>1&&i.pop():n!=="."&&i.push(n)}),i.length>1?i.join("/"):"/"}function uu(c,e,i,l){return`Cannot include a '${c}' character in a manually specified \`to.${e}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vw(c){return c.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Op(c){let e=vw(c);return e.map((i,l)=>l===e.length-1?i.pathname:i.pathnameBase)}function _p(c,e,i,l=!1){let n;typeof c=="string"?n=un(c):(n={...c},Fe(!n.pathname||!n.pathname.includes("?"),uu("?","pathname","search",n)),Fe(!n.pathname||!n.pathname.includes("#"),uu("#","pathname","hash",n)),Fe(!n.search||!n.search.includes("#"),uu("#","search","hash",n)));let r=c===""||n.pathname==="",u=r?"/":n.pathname,d;if(u==null)d=i;else{let w=e.length-1;if(!l&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),w-=1;n.pathname=y.join("/")}d=w>=0?e[w]:"/"}let p=gw(n,d),m=u&&u!=="/"&&u.endsWith("/"),g=(r||u===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var li=c=>c.join("/").replace(/\/\/+/g,"/"),yw=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),ww=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,Cw=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function Ew(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}var Bp=["POST","PUT","PATCH","DELETE"];new Set(Bp);var Rw=["GET",...Bp];new Set(Rw);var Js=F.createContext(null);Js.displayName="DataRouter";var _a=F.createContext(null);_a.displayName="DataRouterState";var Np=F.createContext({isTransitioning:!1});Np.displayName="ViewTransition";var Tw=F.createContext(new Map);Tw.displayName="Fetchers";var Sw=F.createContext(null);Sw.displayName="Await";var Ut=F.createContext(null);Ut.displayName="Navigation";var Ba=F.createContext(null);Ba.displayName="Location";var ai=F.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var Gu=F.createContext(null);Gu.displayName="RouteError";function xw(c,{relative:e}={}){Fe(hn(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=F.useContext(Ut),{hash:n,pathname:r,search:u}=cn(c,{relative:e}),d=r;return i!=="/"&&(d=r==="/"?i:li([i,r])),l.createHref({pathname:d,search:u,hash:n})}function hn(){return F.useContext(Ba)!=null}function rs(){return Fe(hn(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Ba).location}var Fp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vp(c){F.useContext(Ut).static||F.useLayoutEffect(c)}function Mw(){let{isDataRoute:c}=F.useContext(ai);return c?Uw():Dw()}function Dw(){Fe(hn(),"useNavigate() may be used only in the context of a <Router> component.");let c=F.useContext(Js),{basename:e,navigator:i}=F.useContext(Ut),{matches:l}=F.useContext(ai),{pathname:n}=rs(),r=JSON.stringify(Op(l)),u=F.useRef(!1);return Vp(()=>{u.current=!0}),F.useCallback((p,m={})=>{if(Vt(u.current,Fp),!u.current)return;if(typeof p=="number"){i.go(p);return}let g=_p(p,JSON.parse(r),n,m.relative==="path");c==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:li([e,g.pathname])),(m.replace?i.replace:i.push)(g,m.state,m)},[e,i,r,n,c])}F.createContext(null);function cn(c,{relative:e}={}){let{matches:i}=F.useContext(ai),{pathname:l}=rs(),n=JSON.stringify(Op(i));return F.useMemo(()=>_p(c,JSON.parse(n),l,e==="path"),[c,n,l,e])}function zw(c,e,i,l){Fe(hn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n,static:r}=F.useContext(Ut),{matches:u}=F.useContext(ai),d=u[u.length-1],p=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",w=d&&d.route;{let U=w&&w.path||"";Up(m,!w||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let y=rs(),E;E=y;let T=E.pathname||"/",k=T;if(g!=="/"){let U=g.replace(/^\//,"").split("/");k="/"+T.replace(/^\//,"").split("/").slice(U.length).join("/")}let H=!r&&i&&i.matches&&i.matches.length>0?i.matches:kp(c,{pathname:k});return Vt(w||H!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Vt(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Ow(H&&H.map(U=>Object.assign({},U,{params:Object.assign({},p,U.params),pathname:li([g,n.encodeLocation?n.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:li([g,n.encodeLocation?n.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,i,l)}function Lw(){let c=Vw(),e=Ew(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),i=c instanceof Error?c.stack:null,l="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:l},r={padding:"2px 4px",backgroundColor:l},u=null;return console.error("Error handled by React Router default ErrorBoundary:",c),u=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:r},"ErrorBoundary")," or"," ",F.createElement("code",{style:r},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),i?F.createElement("pre",{style:n},i):null,u)}var kw=F.createElement(Lw,null),Aw=class extends F.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,e){return e.location!==c.location||e.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:e.error,location:e.location,revalidation:c.revalidation||e.revalidation}}componentDidCatch(c,e){console.error("React Router caught the following error during render",c,e)}render(){return this.state.error!==void 0?F.createElement(ai.Provider,{value:this.props.routeContext},F.createElement(Gu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hw({routeContext:c,match:e,children:i}){let l=F.useContext(Js);return l&&l.static&&l.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ai.Provider,{value:c},i)}function Ow(c,e=[],i=null,l=null){if(c==null){if(!i)return null;if(i.errors)c=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)c=i.matches;else return null}let n=c,r=i==null?void 0:i.errors;if(r!=null){let p=n.findIndex(m=>m.route.id&&(r==null?void 0:r[m.route.id])!==void 0);Fe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),n=n.slice(0,Math.min(n.length,p+1))}let u=!1,d=-1;if(i)for(let p=0;p<n.length;p++){let m=n[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:g,errors:w}=i,y=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||y){u=!0,d>=0?n=n.slice(0,d+1):n=[n[0]];break}}}return n.reduceRight((p,m,g)=>{let w,y=!1,E=null,T=null;i&&(w=r&&m.route.id?r[m.route.id]:void 0,E=m.route.errorElement||kw,u&&(d<0&&g===0?(Up("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,T=null):d===g&&(y=!0,T=m.route.hydrateFallbackElement||null)));let k=e.concat(n.slice(0,g+1)),H=()=>{let M;return w?M=E:y?M=T:m.route.Component?M=F.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=p,F.createElement(Hw,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:i!=null},children:M})};return i&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?F.createElement(Aw,{location:i.location,revalidation:i.revalidation,component:E,error:w,children:H(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):H()},null)}function ju(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _w(c){let e=F.useContext(Js);return Fe(e,ju(c)),e}function Bw(c){let e=F.useContext(_a);return Fe(e,ju(c)),e}function Nw(c){let e=F.useContext(ai);return Fe(e,ju(c)),e}function Pu(c){let e=Nw(c),i=e.matches[e.matches.length-1];return Fe(i.route.id,`${c} can only be used on routes that contain a unique "id"`),i.route.id}function Fw(){return Pu("useRouteId")}function Vw(){var l;let c=F.useContext(Gu),e=Bw("useRouteError"),i=Pu("useRouteError");return c!==void 0?c:(l=e.errors)==null?void 0:l[i]}function Uw(){let{router:c}=_w("useNavigate"),e=Pu("useNavigate"),i=F.useRef(!1);return Vp(()=>{i.current=!0}),F.useCallback(async(n,r={})=>{Vt(i.current,Fp),i.current&&(typeof n=="number"?c.navigate(n):await c.navigate(n,{fromRouteId:e,...r}))},[c,e])}var lp={};function Up(c,e,i){!e&&!lp[c]&&(lp[c]=!0,Vt(!1,i))}F.memo(Gw);function Gw({routes:c,future:e,state:i}){return zw(c,void 0,i,e)}function jw({basename:c="/",children:e=null,location:i,navigationType:l="POP",navigator:n,static:r=!1}){Fe(!hn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=c.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:u,navigator:n,static:r,future:{}}),[u,n,r]);typeof i=="string"&&(i=un(i));let{pathname:p="/",search:m="",hash:g="",state:w=null,key:y="default"}=i,E=F.useMemo(()=>{let T=ni(p,u);return T==null?null:{location:{pathname:T,search:m,hash:g,state:w,key:y},navigationType:l}},[u,p,m,g,w,y,l]);return Vt(E!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:F.createElement(Ut.Provider,{value:d},F.createElement(Ba.Provider,{children:e,value:E}))}var za="get",La="application/x-www-form-urlencoded";function Na(c){return c!=null&&typeof c.tagName=="string"}function Pw(c){return Na(c)&&c.tagName.toLowerCase()==="button"}function Ww(c){return Na(c)&&c.tagName.toLowerCase()==="form"}function qw(c){return Na(c)&&c.tagName.toLowerCase()==="input"}function Yw(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function Xw(c,e){return c.button===0&&(!e||e==="_self")&&!Yw(c)}var Ma=null;function Qw(){if(Ma===null)try{new FormData(document.createElement("form"),0),Ma=!1}catch{Ma=!0}return Ma}var Kw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hu(c){return c!=null&&!Kw.has(c)?(Vt(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${La}"`),null):c}function Zw(c,e){let i,l,n,r,u;if(Ww(c)){let d=c.getAttribute("action");l=d?ni(d,e):null,i=c.getAttribute("method")||za,n=hu(c.getAttribute("enctype"))||La,r=new FormData(c)}else if(Pw(c)||qw(c)&&(c.type==="submit"||c.type==="image")){let d=c.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=c.getAttribute("formaction")||d.getAttribute("action");if(l=p?ni(p,e):null,i=c.getAttribute("formmethod")||d.getAttribute("method")||za,n=hu(c.getAttribute("formenctype"))||hu(d.getAttribute("enctype"))||La,r=new FormData(d,c),!Qw()){let{name:m,type:g,value:w}=c;if(g==="image"){let y=m?`${m}.`:"";r.append(`${y}x`,"0"),r.append(`${y}y`,"0")}else m&&r.append(m,w)}}else{if(Na(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=za,l=null,n=La,u=c}return r&&n==="text/plain"&&(u=r,r=void 0),{action:l,method:i.toLowerCase(),encType:n,formData:r,body:u}}function Wu(c,e){if(c===!1||c===null||typeof c>"u")throw new Error(e)}async function Iw(c,e){if(c.id in e)return e[c.id];try{let i=await import(c.module);return e[c.id]=i,i}catch(i){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jw(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function $w(c,e,i){let l=await Promise.all(c.map(async n=>{let r=e.routes[n.route.id];if(r){let u=await Iw(r,i);return u.links?u.links():[]}return[]}));return sC(l.flat(1).filter(Jw).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function np(c,e,i,l,n,r){let u=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,d=(p,m)=>{var g;return i[m].pathname!==p.pathname||((g=i[m].route.path)==null?void 0:g.endsWith("*"))&&i[m].params["*"]!==p.params["*"]};return r==="assets"?e.filter((p,m)=>u(p,m)||d(p,m)):r==="data"?e.filter((p,m)=>{var w;let g=l.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(u(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((w=i[0])==null?void 0:w.params)||{},nextUrl:new URL(c,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function eC(c,e,{includeHydrateFallback:i}={}){return tC(c.map(l=>{let n=e.routes[l.route.id];if(!n)return[];let r=[n.module];return n.clientActionModule&&(r=r.concat(n.clientActionModule)),n.clientLoaderModule&&(r=r.concat(n.clientLoaderModule)),i&&n.hydrateFallbackModule&&(r=r.concat(n.hydrateFallbackModule)),n.imports&&(r=r.concat(n.imports)),r}).flat(1))}function tC(c){return[...new Set(c)]}function iC(c){let e={},i=Object.keys(c).sort();for(let l of i)e[l]=c[l];return e}function sC(c,e){let i=new Set;return new Set(e),c.reduce((l,n)=>{let r=JSON.stringify(iC(n));return i.has(r)||(i.add(r),l.push({key:r,link:n})),l},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lC=new Set([100,101,204,205]);function nC(c,e){let i=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return i.pathname==="/"?i.pathname="_root.data":e&&ni(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Gp(){let c=F.useContext(Js);return Wu(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function aC(){let c=F.useContext(_a);return Wu(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var qu=F.createContext(void 0);qu.displayName="FrameworkContext";function jp(){let c=F.useContext(qu);return Wu(c,"You must render this element inside a <HydratedRouter> element"),c}function rC(c,e){let i=F.useContext(qu),[l,n]=F.useState(!1),[r,u]=F.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:w}=e,y=F.useRef(null);F.useEffect(()=>{if(c==="render"&&u(!0),c==="viewport"){let k=M=>{M.forEach(U=>{u(U.isIntersecting)})},H=new IntersectionObserver(k,{threshold:.5});return y.current&&H.observe(y.current),()=>{H.disconnect()}}},[c]),F.useEffect(()=>{if(l){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[l]);let E=()=>{n(!0)},T=()=>{n(!1),u(!1)};return i?c!=="intent"?[r,y,{}]:[r,y,{onFocus:en(d,E),onBlur:en(p,T),onMouseEnter:en(m,E),onMouseLeave:en(g,T),onTouchStart:en(w,E)}]:[!1,y,{}]}function en(c,e){return i=>{c&&c(i),i.defaultPrevented||e(i)}}function oC({page:c,...e}){let{router:i}=Gp(),l=F.useMemo(()=>kp(i.routes,c,i.basename),[i.routes,c,i.basename]);return l?F.createElement(hC,{page:c,matches:l,...e}):null}function uC(c){let{manifest:e,routeModules:i}=jp(),[l,n]=F.useState([]);return F.useEffect(()=>{let r=!1;return $w(c,e,i).then(u=>{r||n(u)}),()=>{r=!0}},[c,e,i]),l}function hC({page:c,matches:e,...i}){let l=rs(),{manifest:n,routeModules:r}=jp(),{basename:u}=Gp(),{loaderData:d,matches:p}=aC(),m=F.useMemo(()=>np(c,e,p,n,l,"data"),[c,e,p,n,l]),g=F.useMemo(()=>np(c,e,p,n,l,"assets"),[c,e,p,n,l]),w=F.useMemo(()=>{if(c===l.pathname+l.search+l.hash)return[];let T=new Set,k=!1;if(e.forEach(M=>{var P;let U=n.routes[M.route.id];!U||!U.hasLoader||(!m.some(K=>K.route.id===M.route.id)&&M.route.id in d&&((P=r[M.route.id])!=null&&P.shouldRevalidate)||U.hasClientLoader?k=!0:T.add(M.route.id))}),T.size===0)return[];let H=nC(c,u);return k&&T.size>0&&H.searchParams.set("_routes",e.filter(M=>T.has(M.route.id)).map(M=>M.route.id).join(",")),[H.pathname+H.search]},[u,d,l,n,m,e,c,r]),y=F.useMemo(()=>eC(g,n),[g,n]),E=uC(g);return F.createElement(F.Fragment,null,w.map(T=>F.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...i})),y.map(T=>F.createElement("link",{key:T,rel:"modulepreload",href:T,...i})),E.map(({key:T,link:k})=>F.createElement("link",{key:T,...k})))}function cC(...c){return e=>{c.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Pp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pp&&(window.__reactRouterVersion="7.6.0")}catch{}function dC({basename:c,children:e,window:i}){let l=F.useRef();l.current==null&&(l.current=$y({window:i,v5Compat:!0}));let n=l.current,[r,u]=F.useState({action:n.action,location:n.location}),d=F.useCallback(p=>{F.startTransition(()=>u(p))},[u]);return F.useLayoutEffect(()=>n.listen(d),[n,d]),F.createElement(jw,{basename:c,children:e,location:r.location,navigationType:r.action,navigator:n})}var Wp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qp=F.forwardRef(function({onClick:e,discover:i="render",prefetch:l="none",relative:n,reloadDocument:r,replace:u,state:d,target:p,to:m,preventScrollReset:g,viewTransition:w,...y},E){let{basename:T}=F.useContext(Ut),k=typeof m=="string"&&Wp.test(m),H,M=!1;if(typeof m=="string"&&k&&(H=m,Pp))try{let ve=new URL(window.location.href),Ve=m.startsWith("//")?new URL(ve.protocol+m):new URL(m),$e=ni(Ve.pathname,T);Ve.origin===ve.origin&&$e!=null?m=$e+Ve.search+Ve.hash:M=!0}catch{Vt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=xw(m,{relative:n}),[P,K,j]=rC(l,y),he=gC(m,{replace:u,state:d,target:p,preventScrollReset:g,relative:n,viewTransition:w});function me(ve){e&&e(ve),ve.defaultPrevented||he(ve)}let re=F.createElement("a",{...y,...j,href:H||U,onClick:M||r?e:me,ref:cC(E,K),target:p,"data-discover":!k&&i==="render"?"true":void 0});return P&&!k?F.createElement(F.Fragment,null,re,F.createElement(oC,{page:U})):re});qp.displayName="Link";var fC=F.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:l="",end:n=!1,style:r,to:u,viewTransition:d,children:p,...m},g){let w=cn(u,{relative:m.relative}),y=rs(),E=F.useContext(_a),{navigator:T,basename:k}=F.useContext(Ut),H=E!=null&&CC(w)&&d===!0,M=T.encodeLocation?T.encodeLocation(w).pathname:w.pathname,U=y.pathname,P=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(U=U.toLowerCase(),P=P?P.toLowerCase():null,M=M.toLowerCase()),P&&k&&(P=ni(P,k)||P);const K=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let j=U===M||!n&&U.startsWith(M)&&U.charAt(K)==="/",he=P!=null&&(P===M||!n&&P.startsWith(M)&&P.charAt(M.length)==="/"),me={isActive:j,isPending:he,isTransitioning:H},re=j?e:void 0,ve;typeof l=="function"?ve=l(me):ve=[l,j?"active":null,he?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let Ve=typeof r=="function"?r(me):r;return F.createElement(qp,{...m,"aria-current":re,className:ve,ref:g,style:Ve,to:u,viewTransition:d},typeof p=="function"?p(me):p)});fC.displayName="NavLink";var pC=F.forwardRef(({discover:c="render",fetcherKey:e,navigate:i,reloadDocument:l,replace:n,state:r,method:u=za,action:d,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:w,...y},E)=>{let T=yC(),k=wC(d,{relative:m}),H=u.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&Wp.test(d),U=P=>{if(p&&p(P),P.defaultPrevented)return;P.preventDefault();let K=P.nativeEvent.submitter,j=(K==null?void 0:K.getAttribute("formmethod"))||u;T(K||P.currentTarget,{fetcherKey:e,method:j,navigate:i,replace:n,state:r,relative:m,preventScrollReset:g,viewTransition:w})};return F.createElement("form",{ref:E,method:H,action:k,onSubmit:l?p:U,...y,"data-discover":!M&&c==="render"?"true":void 0})});pC.displayName="Form";function mC(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yp(c){let e=F.useContext(Js);return Fe(e,mC(c)),e}function gC(c,{target:e,replace:i,state:l,preventScrollReset:n,relative:r,viewTransition:u}={}){let d=Mw(),p=rs(),m=cn(c,{relative:r});return F.useCallback(g=>{if(Xw(g,e)){g.preventDefault();let w=i!==void 0?i:rn(p)===rn(m);d(c,{replace:w,state:l,preventScrollReset:n,relative:r,viewTransition:u})}},[p,d,m,i,l,e,c,n,r,u])}var bC=0,vC=()=>`__${String(++bC)}__`;function yC(){let{router:c}=Yp("useSubmit"),{basename:e}=F.useContext(Ut),i=Fw();return F.useCallback(async(l,n={})=>{let{action:r,method:u,encType:d,formData:p,body:m}=Zw(l,e);if(n.navigate===!1){let g=n.fetcherKey||vC();await c.fetch(g,i,n.action||r,{preventScrollReset:n.preventScrollReset,formData:p,body:m,formMethod:n.method||u,formEncType:n.encType||d,flushSync:n.flushSync})}else await c.navigate(n.action||r,{preventScrollReset:n.preventScrollReset,formData:p,body:m,formMethod:n.method||u,formEncType:n.encType||d,replace:n.replace,state:n.state,fromRouteId:i,flushSync:n.flushSync,viewTransition:n.viewTransition})},[c,e,i])}function wC(c,{relative:e}={}){let{basename:i}=F.useContext(Ut),l=F.useContext(ai);Fe(l,"useFormAction must be used inside a RouteContext");let[n]=l.matches.slice(-1),r={...cn(c||".",{relative:e})},u=rs();if(c==null){r.search=u.search;let d=new URLSearchParams(r.search),p=d.getAll("index");if(p.some(g=>g==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let g=d.toString();r.search=g?`?${g}`:""}}return(!c||c===".")&&n.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(r.pathname=r.pathname==="/"?i:li([i,r.pathname])),rn(r)}function CC(c,e={}){let i=F.useContext(Np);Fe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Yp("useViewTransitionState"),n=cn(c,{relative:e.relative});if(!i.isTransitioning)return!1;let r=ni(i.currentLocation.pathname,l)||i.currentLocation.pathname,u=ni(i.nextLocation.pathname,l)||i.nextLocation.pathname;return ka(n.pathname,u)!=null||ka(n.pathname,r)!=null}[...lC];function EC(){return kt.jsx(dC,{basename:"/CJR",children:kt.jsx(Iy,{})})}xb.createRoot(document.getElementById("root")).render(kt.jsx(F.StrictMode,{children:kt.jsx(EC,{})}));
